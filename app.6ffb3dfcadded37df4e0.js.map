{"version":3,"sources":["webpack:///app.6ffb3dfcadded37df4e0.js","webpack:///./src/main.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routing.ts","webpack:///./src/app/parameterise.component.ts","webpack:///./src/app/electron-api.service.ts","webpack:///./src/app/data.service.ts","webpack:///./src/app/demo-data.ts","webpack:///./src/app/title.service.ts","webpack:///./src/app/parameterise.component.html","webpack:///./src/app/page-not-found.component.ts","webpack:///./src/app/page-not-found.component.html","webpack:///./src/app/home.component.ts","webpack:///./src/app/local-storage.service.ts","webpack:///./src/app/localstoragemodule.ts","webpack:///./src/app/home.component.html","webpack:///./src/app/model.component.ts","webpack:///./src/app/model.component.html","webpack:///./src/app/export-import.component.ts","webpack:///./src/app/export-import.component.html","webpack:///./src/app/specifications.component.ts","webpack:///./src/app/specifications.component.html","webpack:///./src/app/dicom.component.ts","webpack:///./src/app/dicom.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/plot.component.ts","webpack:///./src/app/coordinates.ts","webpack:///./src/app/plot.component.html","webpack:///./src/app/plot.component.css","webpack:///./src/app/width-length-table.component.ts","webpack:///./src/app/width-length-table.component.html","webpack:///./src/app/json-input.component.ts","webpack:///./src/app/my-json.pipe.ts","webpack:///./src/app/json-input.component.html","webpack:///./src/app/not-yet-implimented.component.ts","webpack:///./src/app/not-yet-implimented.component.html","webpack:///./src/app/json-edit.component.ts","webpack:///./src/app/json-edit.component.html","webpack:///./src/app/send-to-parameterisation.component.ts","webpack:///./src/app/send-to-parameterisation.component.html","webpack:///./src/app/bokeh-pcolour.component.ts","webpack:///./src/app/bokeh-pcolour.component.html"],"names":["webpackJsonp","0","module","exports","__webpack_require__","platform_browser_dynamic_1","core_1","app_module_1","enableProdMode","platformBrowserDynamic","bootstrapModule","AppModule","23","__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","platform_browser_1","forms_1","http_1","platform_browser_2","app_routing_1","angular2_mdl_1","app_component_1","plot_component_1","parameterise_component_1","page_not_found_component_1","width_length_table_component_1","json_input_component_1","not_yet_implimented_component_1","home_component_1","model_component_1","export_import_component_1","specifications_component_1","dicom_component_1","json_edit_component_1","send_to_parameterisation_component_1","bokeh_pcolour_component_1","my_json_pipe_1","electron_api_service_1","data_service_1","title_service_1","local_storage_service_1","NgModule","imports","BrowserModule","FormsModule","HttpModule","MdlModule","routing","declarations","AppComponent","ParameteriseComponent","PlotComponent","PageNotFoundComponent","WidthLengthTableComponent","JsonInputComponent","MyJsonPipe","NotYetImplimentedComponent","HomeComponent","ModelComponent","ExportImportComponent","SpecificationsComponent","DicomComponent","SendToParameterisationComponent","JsonEditComponent","BokehPcolourComponent","providers","ElectronApiService","DataService","TitleService","Title","LocalStorageService","bootstrap","29","router_1","appRoutes","path","component","data","title","appRoutingProviders","RouterModule","forRoot","58","demo_data_1","electronApiService","dataService","myTitleService","parameterisation","insert","x","y","width","circle","ellipse","jsonValid","serverResponseValid","dataInFlight","submitDisabled","refreshJsonInput","insertData","machine","energy","applicator","ssd","machineExists","machineSettingsExist","modelExists","prototype","ngOnInit","getData","setTitle","parameteriseURL","localStorage","getItem","machineSpecifications","JSON","parse","checkMachineSettings","localStorageInsertDataString","insertUpdated","loadDemoData","demoData","stringify","DEMO_PARAMETERISE_INPUT","jsonInputComponent","refresh","sleep","time","Promise","resolve","setTimeout","recursiveServerSubmit","_this","sendToServer","then","parameterisationResult","complete","checkSubmitButton","setItem","R50","specifications","indexOf","Number","String","insertDataChange","onSubmit","insertDataFromLocalStorage","localStorageInsertData","parameterisationFromLocalStorage","localStorageParameterisationString","localStorageParameterisation","onJsonStatusChange","jsonStatus","parameterisationServerChange","serverUrl","ViewChild","Component","selector","template","59","http","wakeUpURL","wakeUpServer","get","toPromise","URL","input","post","res","json","handleError","error","console","reject","message","Injectable","Http","61","getParameterisationData","62","63","getTitle","64","65","66","67","myLocalStorageService","testLocalStorage","isSupported","usedLocalStorageSpace","getUsedSpace","testRemainingStorage","remainingLocalStorageSpace","getRemainingSpace","68","localstoragemodule_1","LocalStorage","hasItem","getMaximumSpace","getItemUsedSpace","getBackup","applyBackup","consoleInfo","69","itemBackup","increase","totalData","trytotalData","e","substr","removeItem","backup","clear","max","sum","value","NaN","fClear","fOverwriteExisting","undefined","fShowMaximumSize","amount","size","log","maxSize","70","71","ngZone","modelData","measurement","factor","model","plot_width","window","onresize","run","plotContainer","nativeElement","clientWidth","modelURL","basicServerSubmit","modelResult","model_width","model_length","model_factor","jsonInputUpdated","jsonInput","modelServerChange","newModelURL","defaultServer","NgZone","72","73","74","75","newMachineIDValid","newModelValid","newMachineValid","edittingMachine","newEnergyValid","newR50Valid","newEnergySetValid","edittingEnergy","newApplicatorValid","edittingApplicator","newSSDValid","edittingSSD","changeCurrentMachine","currentMachine","updateCurrentMachine","checkNewMachineIDInput","newMachineID","checkNewMachineValid","checkNewModelInput","newModel","addMachineID","machines","push","updateSpecifications","checkNewEnergyInput","newEnergy","isNaN","checkNewEnergySetValid","checkNewR50Input","newR50","addEnergy","checkNewApplicatorInput","newApplicator","toLowerCase","addApplicator","checkNewSSDInput","newSSD","addSSD","editMachine","finishMachineEdit","idInput","modelInput","keys","sort","deleteMachine","index","splice","changeSpecifications","newSpecifications","76","77","js_yaml_1","router","dicomExitCode","reader","FileReader","onload","onceFileIsLoaded","insertListString","insertList","Module","print","sendDicomDumpToGlobalVariable","updateDicomWarning","status","getBlockDataButton","disabled","dicomWarning","content","Int8Array","result","fileName","FS","isFile","unlink","writeFile","encoding","exit_orig","exit","callMain","openFile","event","files","file","readAsArrayBuffer","convertDicomDumpToDict","dump","yamlConvert","replace","safeLoad","convertBlockDataToCoords","blockData","listString","exec","toString","parsedData","_i","_a","num","parseFloat","toFixed","dicomPullNumber","dicomPullString","getBlockData","dicomPrint","dicomDict","beamSequence","beamSequence_1","beam","coordinates","sendToParameterisation","navigate","styles","Router","113","169","events","filter","NavigationEnd","subscribe","pageTitle","redirect","sessionStorage","location","href","history","replaceState","170","171","coordinates_1","enabled","plt","Bokeh","Plotting","tools","xrange","Range1d","yrange","fig","figure","x_range","y_range","plot_height","source","ColumnDataSource","doc","Document","ngOnChanges","tempSource","xs","ys","colour","xAll","yAll","concat","xMax","Math","apply","xMin","min","yMax","yMin","range","sqXMax","sqXMin","sqYMax","sqYMin","attributes","start","end","ngAfterViewInit","multi_line","field","line_width","color","add_root","embed","add_document_standalone","bokehplot","Input","Coordinates","Boolean","172","173","174","175","tableData","tableModel","MdlDefaultTableModel","name","sortable","numeric","addAll","176","177","EventEmitter","onInput","parseAndCheckJSON","emit","jsonInputDir","transform","oldJsonValid","parsedJSON","jsonErrorMessage","err","Output","178","jsonText","Pipe","pure","179","180","181","182","common_1","buttonText","inputUpdated","validationCheck","useMyJsonPipe","lines","JsonPipe","split","editedInput","updateInput","Function","183","184","185","186","scatter_z","old_scatter_z","old_pcolour_z","old_scatter_c","old_pcolour_c","scatter_data","scatter_source","pcolour_data","pcolour_source","viridis_hex","viridis","interpolateArray","scatter_x","scatter_y","pcolour_x","pcolour_y","pcolour_z","determineFillColours","height","rect","line_color","fill_color","z1","z2","allZ","vmin","vmax","vrange","colour_scale","z1_1","item","fill_colour","colour_scale_1","hex2rgb","hex","parseInt","slice","g","b","zeroPadHex","hexStr","rgb2hex","rgb","map","ch","round","join","interpolate","a_init","b_init","a","ar","ag","ab","br","bg","bb","t","scaleArr","N","intervalWidth","intervals","Error","floor","intervalOffset","Array","187"],"mappings":"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","file":"app.6ffb3dfcadded37df4e0.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar platform_browser_dynamic_1 = __webpack_require__(1);\n\tvar core_1 = __webpack_require__(3);\n\tvar app_module_1 = __webpack_require__(23);\n\tif (true) {\n\t    core_1.enableProdMode();\n\t}\n\tplatform_browser_dynamic_1.platformBrowserDynamic().bootstrapModule(app_module_1.AppModule);\n\n\n/***/ },\n\n/***/ 23:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar platform_browser_1 = __webpack_require__(21);\n\tvar forms_1 = __webpack_require__(24);\n\tvar http_1 = __webpack_require__(28);\n\tvar platform_browser_2 = __webpack_require__(21);\n\t// import {MaterialModule} from '@angular/material';\n\tvar app_routing_1 = __webpack_require__(29);\n\tvar angular2_mdl_1 = __webpack_require__(114);\n\tvar app_component_1 = __webpack_require__(169);\n\tvar plot_component_1 = __webpack_require__(171);\n\tvar parameterise_component_1 = __webpack_require__(58);\n\tvar page_not_found_component_1 = __webpack_require__(65);\n\tvar width_length_table_component_1 = __webpack_require__(175);\n\tvar json_input_component_1 = __webpack_require__(177);\n\tvar not_yet_implimented_component_1 = __webpack_require__(180);\n\tvar home_component_1 = __webpack_require__(67);\n\tvar model_component_1 = __webpack_require__(71);\n\tvar export_import_component_1 = __webpack_require__(73);\n\tvar specifications_component_1 = __webpack_require__(75);\n\tvar dicom_component_1 = __webpack_require__(77);\n\tvar json_edit_component_1 = __webpack_require__(182);\n\tvar send_to_parameterisation_component_1 = __webpack_require__(184);\n\tvar bokeh_pcolour_component_1 = __webpack_require__(186);\n\tvar my_json_pipe_1 = __webpack_require__(178);\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar data_service_1 = __webpack_require__(61);\n\tvar title_service_1 = __webpack_require__(63);\n\t// import { CookieService } from 'angular2-cookie/core';\n\tvar local_storage_service_1 = __webpack_require__(68);\n\t// import {WEB_STORAGE_PROVIDERS} from \"h5webstorage\";\n\tvar AppModule = (function () {\n\t    function AppModule() {\n\t    }\n\t    AppModule = __decorate([\n\t        core_1.NgModule({\n\t            imports: [\n\t                platform_browser_1.BrowserModule,\n\t                forms_1.FormsModule,\n\t                http_1.HttpModule,\n\t                angular2_mdl_1.MdlModule,\n\t                //  MaterialModule.forRoot(),\n\t                app_routing_1.routing\n\t            ],\n\t            declarations: [\n\t                app_component_1.AppComponent,\n\t                parameterise_component_1.ParameteriseComponent,\n\t                plot_component_1.PlotComponent,\n\t                page_not_found_component_1.PageNotFoundComponent,\n\t                width_length_table_component_1.WidthLengthTableComponent,\n\t                json_input_component_1.JsonInputComponent,\n\t                my_json_pipe_1.MyJsonPipe,\n\t                not_yet_implimented_component_1.NotYetImplimentedComponent,\n\t                home_component_1.HomeComponent,\n\t                model_component_1.ModelComponent,\n\t                export_import_component_1.ExportImportComponent,\n\t                specifications_component_1.SpecificationsComponent,\n\t                dicom_component_1.DicomComponent,\n\t                send_to_parameterisation_component_1.SendToParameterisationComponent,\n\t                json_edit_component_1.JsonEditComponent,\n\t                bokeh_pcolour_component_1.BokehPcolourComponent\n\t            ],\n\t            providers: [\n\t                electron_api_service_1.ElectronApiService,\n\t                data_service_1.DataService,\n\t                title_service_1.TitleService,\n\t                platform_browser_2.Title,\n\t                local_storage_service_1.LocalStorageService,\n\t            ],\n\t            bootstrap: [\n\t                app_component_1.AppComponent\n\t            ]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], AppModule);\n\t    return AppModule;\n\t}());\n\texports.AppModule = AppModule;\n\n\n/***/ },\n\n/***/ 29:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar router_1 = __webpack_require__(30);\n\tvar parameterise_component_1 = __webpack_require__(58);\n\tvar page_not_found_component_1 = __webpack_require__(65);\n\tvar home_component_1 = __webpack_require__(67);\n\tvar model_component_1 = __webpack_require__(71);\n\tvar export_import_component_1 = __webpack_require__(73);\n\tvar specifications_component_1 = __webpack_require__(75);\n\tvar dicom_component_1 = __webpack_require__(77);\n\tvar appRoutes = [\n\t    {\n\t        path: 'home',\n\t        component: home_component_1.HomeComponent,\n\t        data: {\n\t            title: 'Home'\n\t        }\n\t    },\n\t    {\n\t        path: 'export-import',\n\t        component: export_import_component_1.ExportImportComponent\n\t    },\n\t    {\n\t        path: 'specifications',\n\t        component: specifications_component_1.SpecificationsComponent\n\t    },\n\t    {\n\t        path: 'dicom',\n\t        component: dicom_component_1.DicomComponent\n\t    },\n\t    {\n\t        path: 'parameterise',\n\t        component: parameterise_component_1.ParameteriseComponent\n\t    },\n\t    {\n\t        path: 'model',\n\t        component: model_component_1.ModelComponent\n\t    },\n\t    {\n\t        path: '',\n\t        component: home_component_1.HomeComponent\n\t    },\n\t    {\n\t        path: '**', component: page_not_found_component_1.PageNotFoundComponent\n\t    }\n\t];\n\texports.appRoutingProviders = [];\n\texports.routing = router_1.RouterModule.forRoot(appRoutes);\n\n\n/***/ },\n\n/***/ 58:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\t// import { CookieService } from 'angular2-cookie/core';\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar data_service_1 = __webpack_require__(61);\n\tvar title_service_1 = __webpack_require__(63);\n\t// import { LocalStorageService } from './local-storage.service';\n\tvar demo_data_1 = __webpack_require__(62);\n\tvar ParameteriseComponent = (function () {\n\t    function ParameteriseComponent(electronApiService, dataService, myTitleService) {\n\t        this.electronApiService = electronApiService;\n\t        this.dataService = dataService;\n\t        this.myTitleService = myTitleService;\n\t        this.parameterisation = {\n\t            insert: {\n\t                x: [0],\n\t                y: [0]\n\t            },\n\t            width: null,\n\t            length: null,\n\t            circle: null,\n\t            ellipse: null\n\t        };\n\t        this.jsonValid = true;\n\t        this.serverResponseValid = true;\n\t        this.dataInFlight = false;\n\t        this.submitDisabled = false;\n\t        this.refreshJsonInput = false;\n\t        this.insertData = {\n\t            machine: null,\n\t            parameterisation: this.parameterisation,\n\t            energy: null,\n\t            applicator: null,\n\t            ssd: null\n\t        };\n\t        this.machineExists = false;\n\t        this.machineSettingsExist = false;\n\t        this.modelExists = false;\n\t    }\n\t    ParameteriseComponent.prototype.ngOnInit = function () {\n\t        this.getData();\n\t        this.myTitleService.setTitle('Parameterisation');\n\t        this.parameteriseURL = localStorage.getItem(\"parameteriseURL\");\n\t        if (this.parameteriseURL == null) {\n\t            this.parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n\t        }\n\t        this.machineSpecifications = JSON.parse(localStorage.getItem(\"specifications\"));\n\t        if (this.machineSpecifications == null) {\n\t            this.machineSpecifications = {};\n\t        }\n\t        this.checkMachineSettings();\n\t    };\n\t    ParameteriseComponent.prototype.getData = function () {\n\t        var localStorageInsertDataString = localStorage['last_insertData'];\n\t        if (localStorageInsertDataString) {\n\t            this.insertData = JSON.parse(localStorageInsertDataString);\n\t            var insert = this.insertData['parameterisation']['insert'];\n\t            this.insertUpdated(insert);\n\t            this.insertData['parameterisation'] = this.parameterisation;\n\t        }\n\t        else {\n\t            this.loadDemoData();\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.loadDemoData = function () {\n\t        var demoData = JSON.parse(JSON.stringify(demo_data_1.DEMO_PARAMETERISE_INPUT));\n\t        this.insertUpdated(demoData.insert);\n\t        this.jsonInputComponent.refresh = true;\n\t        this.insertData = {\n\t            machine: null,\n\t            parameterisation: this.parameterisation,\n\t            energy: null,\n\t            applicator: null,\n\t            ssd: null\n\t        };\n\t    };\n\t    ParameteriseComponent.prototype.sleep = function (time) {\n\t        return new Promise(function (resolve) { return setTimeout(resolve, time); });\n\t    };\n\t    ParameteriseComponent.prototype.recursiveServerSubmit = function () {\n\t        var _this = this;\n\t        this.electronApiService.sendToServer(this.parameteriseURL, JSON.stringify(this.parameterisation.insert))\n\t            .then(function (parameterisationResult) {\n\t            _this.parameterisation.circle = parameterisationResult.circle;\n\t            _this.parameterisation.ellipse = parameterisationResult.ellipse;\n\t            _this.parameterisation.width = parameterisationResult.width;\n\t            _this.parameterisation.length = parameterisationResult.length;\n\t            var complete = parameterisationResult.complete;\n\t            if (complete) {\n\t                _this.dataInFlight = false;\n\t                _this.serverResponseValid = true;\n\t                _this.checkSubmitButton();\n\t                localStorage.setItem(JSON.stringify(_this.parameterisation.insert), JSON.stringify(_this.parameterisation));\n\t                _this.insertData['parameterisation'] = _this.parameterisation;\n\t                localStorage.setItem(\"last_insertData\", JSON.stringify(_this.insertData));\n\t            }\n\t            else {\n\t                _this.sleep(500).then(function () { return _this.recursiveServerSubmit(); });\n\t            }\n\t        });\n\t    };\n\t    ParameteriseComponent.prototype.checkMachineSettings = function () {\n\t        this.R50 = null;\n\t        var machine = this.insertData['machine'];\n\t        var energy = this.insertData['energy'];\n\t        var applicator = this.insertData['applicator'];\n\t        var ssd = this.insertData['ssd'];\n\t        if (this.machineSpecifications[machine]) {\n\t            var specifications = this.machineSpecifications[machine];\n\t            this.R50 = specifications['R50'][energy];\n\t            if (specifications['energy'].indexOf(Number(energy)) > -1 &&\n\t                specifications['applicator'].indexOf(String(applicator)) > -1 &&\n\t                specifications['ssd'].indexOf(Number(ssd)) > -1) {\n\t                this.machineSettingsExist = true;\n\t            }\n\t            else {\n\t                this.machineSettingsExist = false;\n\t            }\n\t            this.machineExists = true;\n\t        }\n\t        else {\n\t            this.machineExists = false;\n\t            this.machineSettingsExist = false;\n\t            this.modelExists = false;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.insertDataChange = function () {\n\t        localStorage.setItem(\"last_insertData\", JSON.stringify(this.insertData));\n\t        this.checkMachineSettings();\n\t    };\n\t    ParameteriseComponent.prototype.onSubmit = function () {\n\t        this.dataInFlight = true;\n\t        this.checkSubmitButton();\n\t        this.recursiveServerSubmit();\n\t    };\n\t    ParameteriseComponent.prototype.insertDataFromLocalStorage = function (localStorageInsertData) {\n\t    };\n\t    ParameteriseComponent.prototype.parameterisationFromLocalStorage = function (localStorageParameterisationString) {\n\t        var localStorageParameterisation = JSON.parse(localStorageParameterisationString);\n\t        this.parameterisation.insert = localStorageParameterisation['insert'];\n\t        this.parameterisation.width = localStorageParameterisation['width'];\n\t        this.parameterisation.length = localStorageParameterisation['length'];\n\t        this.parameterisation.circle = localStorageParameterisation['circle'];\n\t        this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n\t    };\n\t    ParameteriseComponent.prototype.insertUpdated = function (insert) {\n\t        var localStorageParameterisation = localStorage.getItem(JSON.stringify(insert));\n\t        if (localStorageParameterisation) {\n\t            this.parameterisationFromLocalStorage(localStorageParameterisation);\n\t        }\n\t        else {\n\t            this.parameterisation.insert = insert;\n\t            this.parameterisation.width = null;\n\t            this.parameterisation.length = null;\n\t            this.parameterisation.circle = null;\n\t            this.parameterisation.ellipse = null;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.onJsonStatusChange = function (jsonStatus) {\n\t        this.jsonValid = jsonStatus;\n\t        this.checkSubmitButton();\n\t    };\n\t    ParameteriseComponent.prototype.checkSubmitButton = function () {\n\t        if (this.dataInFlight || !this.jsonValid) {\n\t            this.submitDisabled = true;\n\t        }\n\t        else {\n\t            this.submitDisabled = false;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.parameterisationServerChange = function (serverUrl) {\n\t        localStorage.setItem(\"parameteriseURL\", serverUrl);\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('jsonInput'), \n\t        __metadata('design:type', Object)\n\t    ], ParameteriseComponent.prototype, \"jsonInputComponent\", void 0);\n\t    ParameteriseComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-parameterise',\n\t            template: __webpack_require__(64),\n\t        }), \n\t        __metadata('design:paramtypes', [electron_api_service_1.ElectronApiService, data_service_1.DataService, title_service_1.TitleService])\n\t    ], ParameteriseComponent);\n\t    return ParameteriseComponent;\n\t}());\n\texports.ParameteriseComponent = ParameteriseComponent;\n\n\n/***/ },\n\n/***/ 59:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar http_1 = __webpack_require__(28);\n\t__webpack_require__(60);\n\tvar ElectronApiService = (function () {\n\t    function ElectronApiService(http) {\n\t        this.http = http;\n\t        // private parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n\t        // private modelURL = 'http://electronapi.simonbiggs.net/model';\n\t        this.wakeUpURL = 'http://electronapi.simonbiggs.net/wakeup';\n\t    }\n\t    // Initial get from server to wake it up\n\t    ElectronApiService.prototype.wakeUpServer = function () {\n\t        return this.http\n\t            .get(this.wakeUpURL).toPromise();\n\t    };\n\t    ElectronApiService.prototype.sendToServer = function (URL, input) {\n\t        return this.http\n\t            .post(URL, input)\n\t            .toPromise()\n\t            .then(function (res) {\n\t            var nan = null;\n\t            return res.json();\n\t        })\n\t            .catch(this.handleError);\n\t    };\n\t    ElectronApiService.prototype.handleError = function (error) {\n\t        console.error('An error occurred', error);\n\t        return Promise.reject(error.message || error);\n\t    };\n\t    ElectronApiService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [http_1.Http])\n\t    ], ElectronApiService);\n\t    return ElectronApiService;\n\t}());\n\texports.ElectronApiService = ElectronApiService;\n\n\n/***/ },\n\n/***/ 61:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar demo_data_1 = __webpack_require__(62);\n\t// import { DEMO_MODEL_INPUT } from './demo-data';\n\tvar DataService = (function () {\n\t    function DataService() {\n\t    }\n\t    DataService.prototype.getParameterisationData = function () {\n\t        return Promise.resolve(demo_data_1.DEMO_PARAMETERISE_INPUT);\n\t    };\n\t    ;\n\t    DataService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], DataService);\n\t    return DataService;\n\t}());\n\texports.DataService = DataService;\n\n\n/***/ },\n\n/***/ 62:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar insert = {\n\t    x: [\n\t        0.99, -0.14, -1.0, -1.73, -2.56, -3.17, -3.49,\n\t        -3.57, -3.17, -2.52, -1.76, -1.04, -0.17,\n\t        0.77, 1.63, 2.36, 2.79, 2.91, 3.04, 3.22,\n\t        3.34, 3.37, 3.08, 2.54, 1.88, 1.02, 0.99],\n\t    y: [\n\t        5.05, 4.98, 4.42, 3.24, 1.68, 0.6, -0.64,\n\t        -1.48, -2.38, -3.77, -4.81, -5.26, -5.51,\n\t        -5.58, -5.23, -4.64, -3.77, -2.77, -1.68,\n\t        -0.29, 1.23, 2.68, 3.8, 4.6, 5.01, 5.08,\n\t        5.05]\n\t};\n\texports.DEMO_PARAMETERISE_INPUT = {\n\t    insert: insert,\n\t    circle: null,\n\t    ellipse: null,\n\t    width: null,\n\t    length: null\n\t};\n\t// export const DEMO_MODEL_INPUT: string =`{\n\t//   \"width\": [\n\t//     3.15, 3.16, 3.17, 3.17, 3.17, 3.55, 3.66, \n\t//     3.71, 4.2, 4.21, 4.21, 4.21, 4.21, 4.38, \n\t//     4.48, 4.59, 4.59, 4.67, 5.21, 5.25, 5.26,\n\t//     5.26, 5.26, 5.34, 5.43, 5.72, 5.86, 6, 6.04,\n\t//     6.08, 6.3, 6.31, 6.41, 6.53, 6.54, 6.64, 6.78,\n\t//     6.9, 7.08, 7.18, 7.21, 7.36, 7.56, 7.6, 7.64,\n\t//     7.82, 8.06, 8.4, 9.45], \n\t//   \"length\": [\n\t//     3.16, 5.25, 13.64, 6.83, 9.43, 7.7, 5.04, \n\t//     4.36, 4.21, 10.51, 13.65, 6.82, 8.41, 5.47, \n\t//     7.29, 5.67, 6.54, 6.28, 11.4, 5.26, 10.52, \n\t//     13.66, 8.41, 9.64, 11.02, 11.6, 8.62, 7.98,\n\t//     9.22, 6.64, 6.33, 8.24, 8.69, 10.99, 8.41, \n\t//     9.81, 10.98, 10.25, 10.77, 11.27, 9.03, 7.37,\n\t//     10.05, 10.26, 8.99, 10.85, 11.85, 8.42, 9.47],\n\t//   \"factor\": [\n\t//     0.9294, 0.9346, 0.9533, 0.9488, 0.9488, \n\t//     0.9443, 0.9434, 0.9488, 0.956, 0.9709, 0.9756,\n\t//     0.9606, 0.9709, 0.9634, 0.9606, 0.9588,\n\t//     0.9681, 0.9737, 0.9881, 0.9709, 0.9881,\n\t//     0.9872, 0.9833, 0.993, 0.9872, 0.999, 0.9891,\n\t//     0.9911, 0.999, 0.993, 0.9862, 0.9921, 0.999,\n\t//     1, 0.993, 0.999, 1.007, 0.999, 1.005, 0.999,\n\t//     1.0101, 1.003, 1.004, 1.0142, 1.003, 1.002,\n\t//     1.007, 1.007, 1.0081]\n\t// }` \n\n\n/***/ },\n\n/***/ 63:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar TitleService = (function () {\n\t    function TitleService() {\n\t        this.title = 'Home';\n\t    }\n\t    TitleService.prototype.getTitle = function () {\n\t        return this.title;\n\t    };\n\t    TitleService.prototype.setTitle = function (title) {\n\t        this.title = title;\n\t    };\n\t    TitleService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], TitleService);\n\t    return TitleService;\n\t}());\n\texports.TitleService = TitleService;\n\n\n/***/ },\n\n/***/ 64:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet\\\">\\n    <h4>Equivalent ellipse parameterisation</h4>\\n    <p>Provide basic instructions here.</p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\"\\n    style=\\\"display: flex; align-items: center; flex-flow: row wrap;\\\">\\n    <my-plot \\n      [insert]=\\\"parameterisation.insert\\\"\\n      [circle]=\\\"parameterisation.circle\\\"\\n      [ellipse]=\\\"parameterisation.ellipse\\\"\\n      [enabled]=\\\"jsonValid\\\">\\n    </my-plot>\\n\\n    <div style=\\\"width:100%; height:30px\\\"></div>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"submitDisabled\\\"\\n      (click)=\\\"onSubmit()\\\">Parameterise Insert          \\n    </button>\\n\\n    <div style=\\\"height:20px; width:20px;\\\"></div>\\n\\n    <my-width-length-table\\n      [width]=\\\"parameterisation.width\\\"\\n      [length]=\\\"parameterisation.length\\\"\\n      [enabled]=\\\"jsonValid\\\">\\n    </my-width-length-table>\\n\\n    <div [hidden]=\\\"serverResponseValid\\\">\\n      {{serverErrorMessage}}\\n    </div>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\"\\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"true\\\"\\n      (click)=\\\"null\\\">Predict Factor with Model        \\n    </button>\\n\\n    <div style=\\\"height:20px; width:20px;\\\"></div>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"!machineSettingsExist || measuredFactor.value==null || measuredFactor.value==''\\\"\\n      (click)=\\\"null\\\">Add Measured Factor to Model            \\n    </button>\\n\\n    <p *ngIf=\\\"!machineExists\\\">\\n      This machine ID does not exist within your provided machine specifications.\\n    </p>\\n\\n    <p *ngIf=\\\"!machineSettingsExist\\\">\\n      These specific machine settings do not exist within your provided machine specifications.\\n    </p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Machine (ID)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.machine\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Energy (Nominal)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.energy\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"R50 Beam Quality (cm)\\\"\\n      floating-label\\n      [value]=\\\"R50\\\"\\n      [disabled]=\\\"true\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Applicator (ID)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.applicator\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"SSD (cm)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.ssd\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-textfield #measuredFactor\\n      type=\\\"text\\\"\\n      label=\\\"Measured Factor\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.factor\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Predicted Factor\\\"\\n      floating-label\\n      [disabled]=true\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n  </div>\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n    <p>Change the following address to use your own\\n      parameterisation server. The default is: <br>\\n      <a>http://electronapi.simonbiggs.net/parameterise</a>       \\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Parameterisation Server Address\\\"\\n      (input)=\\\"parameterisationServerChange($event.target.value)\\\"\\n      floating-label\\n      [(ngModel)]=\\\"parameteriseURL\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet\\\">\\n    <h5>Edit raw coordinates</h5>\\n    <my-json-input #jsonInput\\n      [insert]=\\\"parameterisation.insert\\\"\\n      [jsonDisabled]=\\\"dataInFlight\\\"\\n      (insertUpdated)=\\\"insertUpdated($event)\\\"\\n      (jsonStatus)=\\\"onJsonStatusChange($event)\\\">\\n    </my-json-input>\\n  </div>\\n\\n</div>\\n\";\n\n/***/ },\n\n/***/ 65:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar PageNotFoundComponent = (function () {\n\t    function PageNotFoundComponent() {\n\t    }\n\t    PageNotFoundComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-page-not-found',\n\t            template: __webpack_require__(66)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], PageNotFoundComponent);\n\t    return PageNotFoundComponent;\n\t}());\n\texports.PageNotFoundComponent = PageNotFoundComponent;\n\n\n/***/ },\n\n/***/ 66:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    This page has not been found. Please provide feedback ...\\n  </div>\\n</div>\";\n\n/***/ },\n\n/***/ 67:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar local_storage_service_1 = __webpack_require__(68);\n\tvar HomeComponent = (function () {\n\t    function HomeComponent(myTitleService, myLocalStorageService) {\n\t        this.myTitleService = myTitleService;\n\t        this.myLocalStorageService = myLocalStorageService;\n\t    }\n\t    HomeComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Home');\n\t        this.testLocalStorage = this.myLocalStorageService.isSupported;\n\t        this.usedLocalStorageSpace = this.myLocalStorageService.getUsedSpace();\n\t    };\n\t    HomeComponent.prototype.testRemainingStorage = function () {\n\t        this.remainingLocalStorageSpace = this.myLocalStorageService.getRemainingSpace();\n\t    };\n\t    HomeComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-home',\n\t            template: __webpack_require__(70)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService, local_storage_service_1.LocalStorageService])\n\t    ], HomeComponent);\n\t    return HomeComponent;\n\t}());\n\texports.HomeComponent = HomeComponent;\n\n\n/***/ },\n\n/***/ 68:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar localstoragemodule_1 = __webpack_require__(69);\n\tvar LocalStorageService = (function () {\n\t    function LocalStorageService() {\n\t        this.isSupported = localstoragemodule_1.LocalStorage.isSupported;\n\t        this.hasItem = localstoragemodule_1.LocalStorage.hasItem;\n\t        this.getRemainingSpace = localstoragemodule_1.LocalStorage.getRemainingSpace;\n\t        this.getMaximumSpace = localstoragemodule_1.LocalStorage.getMaximumSpace;\n\t        this.getUsedSpace = localstoragemodule_1.LocalStorage.getUsedSpace;\n\t        this.getItemUsedSpace = localstoragemodule_1.LocalStorage.getItemUsedSpace;\n\t        this.getBackup = localstoragemodule_1.LocalStorage.getBackup;\n\t        this.applyBackup = localstoragemodule_1.LocalStorage.applyBackup;\n\t        this.consoleInfo = localstoragemodule_1.LocalStorage.consoleInfo;\n\t    }\n\t    LocalStorageService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], LocalStorageService);\n\t    return LocalStorageService;\n\t}());\n\texports.LocalStorageService = LocalStorageService;\n\n\n/***/ },\n\n/***/ 69:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/**\n\t * Check if localStorage is supported                       const isSupported: boolean\n\t * Check if localStorage has an Item                        function hasItem(key: string): boolean\n\t * Get the amount of space left in localStorage             function getRemainingSpace(): number\n\t * Get the maximum amount of space in localStorage          function getMaximumSpace(): number\n\t * Get the used space in localStorage                       function getUsedSpace(): number\n\t * Get the used space of an item in localStorage            function getItemUsedSpace(): number\n\t * Backup Assosiative Array                                 interface Backup\n\t * Get a Backup of localStorage                             function getBackup(): Backup\n\t * Apply a Backup to localStorage                           function applyBackup(backup: Backup, fClear: boolean = true, fOverwriteExisting: boolean = true)\n\t * Dump all information of localStorage in the console      function consoleInfo(fShowMaximumSize: boolean = false)\n\t */\n\tvar LocalStorage;\n\t(function (LocalStorage) {\n\t    // Copied from https://gist.github.com/CodeiSir/1fb8bd9154dfde7eb0c7\n\t    // found from http://stackoverflow.com/a/34245594\n\t    /**\n\t     * Flag set true if the Browser supports localStorage, widthout affecting it\n\t     */\n\t    LocalStorage.isSupported = (function () {\n\t        try {\n\t            var itemBackup = localStorage.getItem(\"\");\n\t            localStorage.removeItem(\"\");\n\t            localStorage.setItem(\"\", itemBackup);\n\t            if (itemBackup === null)\n\t                localStorage.removeItem(\"\");\n\t            else\n\t                localStorage.setItem(\"\", itemBackup);\n\t            return true;\n\t        }\n\t        catch (e) {\n\t            return false;\n\t        }\n\t    })();\n\t    /**\n\t     * Check if localStorage has an Item / exists with the give key\n\t     * @param key the key of the Item\n\t     */\n\t    function hasItem(key) {\n\t        return localStorage.getItem(key) !== null;\n\t    }\n\t    LocalStorage.hasItem = hasItem;\n\t    /**\n\t     * This will return the left space in localStorage without affecting it's content\n\t     * Might be slow !!!\n\t     */\n\t    function getRemainingSpace() {\n\t        var itemBackup = localStorage.getItem(\"\");\n\t        var increase = true;\n\t        var data = \"1\";\n\t        var totalData = \"\";\n\t        var trytotalData = \"\";\n\t        while (true) {\n\t            try {\n\t                trytotalData = totalData + data;\n\t                localStorage.setItem(\"\", trytotalData);\n\t                totalData = trytotalData;\n\t                if (increase)\n\t                    data += data;\n\t            }\n\t            catch (e) {\n\t                if (data.length < 2) {\n\t                    break;\n\t                }\n\t                increase = false;\n\t                data = data.substr(data.length / 2);\n\t            }\n\t        }\n\t        if (itemBackup === null)\n\t            localStorage.removeItem(\"\");\n\t        else\n\t            localStorage.setItem(\"\", itemBackup);\n\t        return totalData.length;\n\t    }\n\t    LocalStorage.getRemainingSpace = getRemainingSpace;\n\t    /**\n\t     * This function returns the maximum size of localStorage without affecting it's content\n\t     * Might be slow !!!\n\t     */\n\t    function getMaximumSpace() {\n\t        var backup = getBackup();\n\t        localStorage.clear();\n\t        var max = getRemainingSpace();\n\t        applyBackup(backup);\n\t        return max;\n\t    }\n\t    LocalStorage.getMaximumSpace = getMaximumSpace;\n\t    /**\n\t     * This will return the currently used size of localStorage\n\t     */\n\t    function getUsedSpace() {\n\t        var sum = 0;\n\t        for (var i = 0; i < localStorage.length; ++i) {\n\t            var key = localStorage.key(i);\n\t            var value = localStorage.getItem(key);\n\t            sum += key.length + value.length;\n\t        }\n\t        return sum;\n\t    }\n\t    LocalStorage.getUsedSpace = getUsedSpace;\n\t    /**\n\t     * This will return the currently used size of a given Item, returns NaN if key is not found\n\t     * @param key\n\t     */\n\t    function getItemUsedSpace(key) {\n\t        var value = localStorage.getItem(key);\n\t        if (value === null) {\n\t            return NaN;\n\t        }\n\t        else {\n\t            return key.length + value.length;\n\t        }\n\t    }\n\t    LocalStorage.getItemUsedSpace = getItemUsedSpace;\n\t    /**\n\t     * This will return a localStorage-backup (Associative-Array key->value)\n\t     */\n\t    function getBackup() {\n\t        var backup = {};\n\t        for (var i = 0; i < localStorage.length; ++i) {\n\t            var key = localStorage.key(i);\n\t            var value = localStorage.getItem(key);\n\t            backup[key] = value;\n\t        }\n\t        return backup;\n\t    }\n\t    LocalStorage.getBackup = getBackup;\n\t    /**\n\t     * This will apply a localStorage-Backup (Associative-Array key->value)\n\t     * @param backup            associative-array\n\t     * @param fClear             optional flag to clear all existing storage first. Default: true\n\t     * @param fOverwriteExisting optional flag to replace existing keys. Default: true\n\t     */\n\t    function applyBackup(backup, fClear, fOverwriteExisting) {\n\t        if (fClear === void 0) { fClear = true; }\n\t        if (fOverwriteExisting === void 0) { fOverwriteExisting = true; }\n\t        if (fClear == true) {\n\t            localStorage.clear();\n\t        }\n\t        for (var key in backup) {\n\t            if (fOverwriteExisting === false && backup[key] !== undefined) {\n\t                continue;\n\t            }\n\t            var value = backup[key];\n\t            localStorage.setItem(key, value);\n\t        }\n\t    }\n\t    LocalStorage.applyBackup = applyBackup;\n\t    /**\n\t     * This functions dumps all keys and values of the local Storage to the console,\n\t     * as well as the current size and number of items\n\t     * @param fShowMaximumSize optional, flag show maximum size of localStorage. Default: false\n\t     */\n\t    function consoleInfo(fShowMaximumSize) {\n\t        if (fShowMaximumSize === void 0) { fShowMaximumSize = false; }\n\t        var amount = 0;\n\t        var size = 0;\n\t        for (var i = 0; i < localStorage.length; ++i) {\n\t            var key = localStorage.key(i);\n\t            var value = localStorage.getItem(key);\n\t            console.log(amount, key, value);\n\t            size += key.length + value.length;\n\t            amount++;\n\t        }\n\t        console.log(\"Total entries:\", amount);\n\t        console.log(\"Total size:\", size);\n\t        if (fShowMaximumSize === true) {\n\t            var maxSize = getMaximumSpace();\n\t            console.log(\"Total size:\", maxSize);\n\t        }\n\t    }\n\t    LocalStorage.consoleInfo = consoleInfo;\n\t})(LocalStorage = exports.LocalStorage || (exports.LocalStorage = {}));\n\t/*\n\t    // Example\n\t    console.log(\"LocalStorage supported:\", LocalStorage.isSupported)// true - I hope so anyways \n\t    localStorage.setItem(\"asd\", \"ASDASD\")                           // sets / overwrites the item \"asd\"\n\t    localStorage.setItem(\"asd\" + Math.random(), \"ASDASD\")           // set another item each time you refresh the page\n\t    var backup = LocalStorage.getBackup()                           // creates a backup, we will need it later!\n\t    console.log(JSON.stringify(backup))                             // this is how the backup looks like\n\t    var usedSpace = LocalStorage.getUsedSpace()                     // amount of space used right now\n\t    console.log(\"Used Space:\", usedSpace)\n\t    var maxSpace = LocalStorage.getMaximumSpace()                   // amount of maximum space aviable\n\t    console.log(\"Maximum Space:\", maxSpace)\n\t    var remSpace = LocalStorage.getRemainingSpace()                 // amount of remaining space\n\t    console.log(\"Remaining Space:\", remSpace)\n\t    console.log(\"SpaceCheck\", maxSpace === usedSpace + remSpace)    // true\n\t    console.log(\"hasItem\", LocalStorage.hasItem(\"nothis0ne\"))       // we don't have this one in our localStorage\n\t    localStorage.clear()                                            // oops, we deleted the localStorage!\n\t    console.log(\"has asd\",LocalStorage.hasItem(\"asd\"))              // item asd is lost \n\t    LocalStorage.applyBackup(backup)                                // but we have a backup, restore it!\n\t    LocalStorage.consoleInfo()                                      // show all the info we have, see the backup worked \n\t*/ \n\n\n/***/ },\n\n/***/ 70:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <h4>Description</h4>\\n    <p>\\n      This online web app is for the modelling of the portion of the electron output factor that is dependent on the shape of the shielding insert mounted within the applicator. This allows modelling insert factors using only the measured factors already available at a centre. Should all outliers be removed from the data set the user might expect as low as 0.5% standard uncertainty for factor prediction with as little as 8 data points.\\n    </p>\\n\\n\\n    <p>If you have any issues or feedback please contact me at <a href=\\\"mailto:mail@simonbiggs.net\\\">mail@simonbiggs.net</a>.</p>\\n\\n    <h4>Disclaimer</h4>\\n    <p>\\n      Any use of this web app or any of its code has you accepting the AGPL3+ license which includes no warranty that this code is fit for a particular purpose. Attempts have been made to make the code transparent and it is recommended that an experienced python programmer and physicist who understands the procedure outlined in the paper and the requirements of your centre identifies whether or not this method and code is fit for your use.</p>\\n\\n    <h4>Paper</h4>\\n    <p>The paper outlining this method:</p>\\n    <p>\\n      S. Biggs, M. Sobolewski, R. Murry, J. Kenny, Spline modelling electron insert factors using routine measurements. Physica Medica (2015), <a href=\\\"http://dx.doi.org/10.1016/j.ejmp.2015.11.002\\\">doi:10.1016/j.ejmp.2015.11.002</a>.\\n    </p>\\n\\n    <h4>Detailed instructions</h4>\\n    <p>Yet to be written</p>\\n\\n    <h4>Steps required to freeze your own version of this web app</h4>\\n      As I make improvements to this web app I will be updating this online version. \\n      You may desire to not have the web app you are using day to day change on you.\\n      To achieve this you can create your own version of the server and your own version of the web app.\\n      \\n      For now this will require a bit of your own working out until I provide further instructions.\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n\\n    <h4>Source code</h4>\\n    <p>\\n      For the purpose of coding transparency and to enable the user to take responsibility for the code themselves any redistribution\\n      or derivative works of this web app need to include the source code of any additions made and need to include a way\\n      for users to easily access the source code of each of the components used or linked to.\\n    </p>\\n\\n    <h5>Server Code</h5>\\n\\n    <h6>Base Electron Insert Factor Source Code</h6>\\n    <p>\\n      The python file which does the shape parameterisation and insert factor modelling which is used by the server is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py</a>\\n    </p>\\n\\n    <h6>Tornado REST API</h6>\\n    <p>\\n      The Tornado REST API is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py</a>\\n    </p>\\n\\n    <h6>Heroku App code</h6>\\n    <p>\\n      The code to make the heroku app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server\\\">\\n              https://github.com/SimonBiggs/electronfactor-server</a>\\n    </p>\\n\\n    <h5>Web App Code</h5>\\n    <p>\\n      The source code for this web app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp\\\">\\n            https://github.com/SimonBiggs/electroninserts-webapp</a>\\n    </p>\\n\\n    <h5>Libraries used</h5>\\n    <h6>Bokehjs</h6>\\n    <p>\\n      The bokehjs library is used for plots. Documentation can be found here:\\n      <a href=\\\"http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs\\\">\\n              http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/bokeh/bokeh/tree/master/bokehjs\\\">\\n              https://github.com/bokeh/bokeh/tree/master/bokehjs</a>\\n    </p>\\n\\n    <h6>dcmjs</h6>\\n    <p>\\n      The dcmjs library is used for reading dicom files within javascript. Website can be found here:\\n      <a href=\\\"http://dcmjs.org/\\\">\\n              http://dcmjs.org/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/commontk/dcmjs\\\">\\n              https://github.com/commontk/dcmjs</a>\\n    </p>\\n\\n    <h6>Angular2</h6>\\n    <p>\\n      This interface was built using Angular2. Documentation can be found here:\\n      <a href=\\\"https://angular.io/docs/ts/latest/\\\">\\n              https://angular.io/docs/ts/latest/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/angular/angular\\\">\\n              https://github.com/angular/angular</a>\\n    </p>\\n    <h6>Remaining libraries</h6>\\n    <p>\\n      For all remaining libraries used please see the npm package.json file:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json</a>\\n    </p>\\n    <p>\\n      And the index file for various imports:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html</a>\\n    </p>\\n  </div>\\n\\n\\n</div>\";\n\n/***/ },\n\n/***/ 71:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar ModelComponent = (function () {\n\t    function ModelComponent(myTitleService, electronApiService, ngZone) {\n\t        var _this = this;\n\t        this.myTitleService = myTitleService;\n\t        this.electronApiService = electronApiService;\n\t        this.modelData = {\n\t            measurement: {\n\t                width: [\n\t                    3.15, 3.16, 3.17, 3.17, 3.17, 3.55, 3.66, 3.71, 4.2, 4.21,\n\t                    4.21, 4.21, 4.21, 4.38, 4.48, 4.59, 4.59, 4.67, 5.21, 5.25,\n\t                    5.26, 5.26, 5.26, 5.34, 5.43, 5.72, 5.86, 6, 6.04, 6.08, 6.3,\n\t                    6.31, 6.41, 6.53, 6.54, 6.64, 6.78, 6.9, 7.08, 7.18, 7.21, 7.36,\n\t                    7.56, 7.6, 7.64, 7.82, 8.06, 8.4, 9.45],\n\t                length: [\n\t                    3.16, 5.25, 13.64, 6.83, 9.43, 7.7, 5.04, 4.36, 4.21, 10.51,\n\t                    13.65, 6.82, 8.41, 5.47, 7.29, 5.67, 6.54, 6.28, 11.4, 5.26,\n\t                    10.52, 13.66, 8.41, 9.64, 11.02, 11.6, 8.62, 7.98, 9.22, 6.64,\n\t                    6.33, 8.24, 8.69, 10.99, 8.41, 9.81, 10.98, 10.25, 10.77, 11.27,\n\t                    9.03, 7.37, 10.05, 10.26, 8.99, 10.85, 11.85, 8.42, 9.47],\n\t                factor: [\n\t                    0.9294, 0.9346, 0.9533, 0.9488, 0.9488, 0.9443, 0.9434, 0.9488,\n\t                    0.956, 0.9709, 0.9756, 0.9606, 0.9709, 0.9634, 0.9606, 0.9588, 0.9681,\n\t                    0.9737, 0.9881, 0.9709, 0.9881, 0.9872, 0.9833, 0.993, 0.9872, 0.999,\n\t                    0.9891, 0.9911, 0.999, 0.993, 0.9862, 0.9921, 0.999, 1, 0.993, 0.999,\n\t                    1.007, 0.999, 1.005, 0.999, 1.0101, 1.003, 1.004, 1.0142, 1.003, 1.002,\n\t                    1.007, 1.007, 1.0081],\n\t            },\n\t            model: {\n\t                width: [],\n\t                length: [],\n\t                factor: []\n\t            }\n\t        };\n\t        this.plot_width = 600;\n\t        window.onresize = function (e) {\n\t            ngZone.run(function () {\n\t                _this.plot_width = _this.plotContainer.nativeElement.clientWidth;\n\t            });\n\t        };\n\t    }\n\t    ModelComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Model');\n\t        this.modelURL = localStorage.getItem(\"modelURL\");\n\t        if (this.modelURL == null) {\n\t            this.modelURL = 'http://electronapi.simonbiggs.net/model';\n\t        }\n\t        this.plot_width = this.plotContainer.nativeElement.clientWidth;\n\t    };\n\t    ModelComponent.prototype.basicServerSubmit = function () {\n\t        var _this = this;\n\t        this.electronApiService.sendToServer(this.modelURL, JSON.stringify(this.modelData.measurement))\n\t            .then(function (modelResult) {\n\t            _this.modelData.model.width = modelResult.model_width;\n\t            _this.modelData.model.length = modelResult.model_length;\n\t            _this.modelData.model.factor = modelResult.model_factor;\n\t        });\n\t    };\n\t    ModelComponent.prototype.jsonInputUpdated = function (jsonInput) {\n\t        this.modelData = jsonInput;\n\t    };\n\t    ModelComponent.prototype.modelServerChange = function (newModelURL) {\n\t        localStorage.setItem(\"modelURL\", newModelURL);\n\t    };\n\t    ModelComponent.prototype.defaultServer = function () {\n\t        this.modelURL = 'http://electronapi.simonbiggs.net/model';\n\t        localStorage.setItem(\"modelURL\", this.modelURL);\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('plotContainer'), \n\t        __metadata('design:type', Object)\n\t    ], ModelComponent.prototype, \"plotContainer\", void 0);\n\t    ModelComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-model',\n\t            template: __webpack_require__(72)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService, electron_api_service_1.ElectronApiService, core_1.NgZone])\n\t    ], ModelComponent);\n\t    return ModelComponent;\n\t}());\n\texports.ModelComponent = ModelComponent;\n\n\n/***/ },\n\n/***/ 72:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\" #plotContainer>\\n    <my-bokeh-pcolour\\n      [title]=\\\"'Model Plot'\\\"\\n      [scatter_x]=\\\"modelData.measurement.width\\\"\\n      [scatter_y]=\\\"modelData.measurement.length\\\"\\n      [scatter_z]=\\\"modelData.measurement.factor\\\"\\n      [pcolour_x]=\\\"modelData.model.width\\\"\\n      [pcolour_y]=\\\"modelData.model.length\\\"\\n      [pcolour_z]=\\\"modelData.model.factor\\\"\\n      [plot_width]=\\\"plot_width\\\"\\n      [plot_height]=\\\"380\\\">\\n    </my-bokeh-pcolour>\\n      \\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"false\\\"\\n      (click)=\\\"basicServerSubmit()\\\">Run Spline Model          \\n    </button>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n    <p>Change the following address to use your own\\n      spline modelling server. The default is: <br>\\n      <a (click)=\\\"defaultServer()\\\">http://electronapi.simonbiggs.net/model</a>        \\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Spline model server address\\\"\\n      (input)=\\\"modelServerChange($event.target.value)\\\"\\n      floating-label\\n      [(ngModel)]=\\\"modelURL\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <h5>Edit raw model data</h5>\\n    <my-json-edit\\n      [input]=\\\"modelData\\\"\\n      (inputUpdated)=\\\"jsonInputUpdated($event)\\\"\\n      buttonText=\\\"Update Model Data\\\"\\n      useMyJsonPipe=\\\"true\\\">\\n    </my-json-edit>\\n  </div>\\n\\n\\n</div>\";\n\n/***/ },\n\n/***/ 73:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar local_storage_service_1 = __webpack_require__(68);\n\tvar ExportImportComponent = (function () {\n\t    function ExportImportComponent(myTitleService, myLocalStorageService) {\n\t        this.myTitleService = myTitleService;\n\t        this.myLocalStorageService = myLocalStorageService;\n\t    }\n\t    ExportImportComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Export / Import');\n\t        this.testLocalStorage = this.myLocalStorageService.isSupported;\n\t        this.usedLocalStorageSpace = this.myLocalStorageService.getUsedSpace();\n\t    };\n\t    ExportImportComponent.prototype.testRemainingStorage = function () {\n\t        this.remainingLocalStorageSpace = this.myLocalStorageService.getRemainingSpace();\n\t    };\n\t    ExportImportComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-export-import',\n\t            template: __webpack_require__(74)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService, local_storage_service_1.LocalStorageService])\n\t    ], ExportImportComponent);\n\t    return ExportImportComponent;\n\t}());\n\texports.ExportImportComponent = ExportImportComponent;\n\n\n/***/ },\n\n/***/ 74:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <h4>Local storage tests</h4>\\n    <p></p>\\n\\n    <div *ngIf=\\\"testLocalStorage\\\">\\n      <p>Your browser supports local storage. You currently have {{usedLocalStorageSpace}} B of used space. Most browsers support\\n        5 MB.\\n      </p>\\n\\n      <p>To check your remaining storage press the button below. Warning, this might be slow.</p>\\n      <button mdl-button mdl-button-type=\\\"raised\\\" mdl-colored=\\\"primary\\\" mdl-ripple (click)=\\\"testRemainingStorage()\\\">Test remaining local storage           \\n      </button>\\n      <div *ngIf=\\\"remainingLocalStorageSpace\\\">\\n        <p>You have {{remainingLocalStorageSpace}} B of local storage remaining which is available for use by this webapp.</p>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"!testLocalStorage\\\">\\n      <p>\\n        This webapp relies upon local storage working within your browser. Your browser does not support local storage. Please download\\n        and use a modern standards compliant browser such as\\n        <a href=\\\"https://www.google.com.au/chrome/browser/desktop/\\\">Chrome</a> or\\n        <a href=\\\"https://www.mozilla.org/en-GB/firefox/new/\\\">Firefox</a> to use this webapp.\\n      </p>\\n    </div>\\n  </div>\\n</div>\";\n\n/***/ },\n\n/***/ 75:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar SpecificationsComponent = (function () {\n\t    function SpecificationsComponent(myTitleService) {\n\t        this.myTitleService = myTitleService;\n\t        this.specifications = {};\n\t        this.newMachineIDValid = false;\n\t        this.newModelValid = false;\n\t        this.newMachineValid = false;\n\t        this.edittingMachine = null;\n\t        this.newEnergyValid = false;\n\t        this.newR50Valid = false;\n\t        this.newEnergySetValid = false;\n\t        this.edittingEnergy = null;\n\t        this.newApplicatorValid = false;\n\t        this.edittingApplicator = null;\n\t        this.newSSDValid = false;\n\t        this.edittingSSD = null;\n\t    }\n\t    SpecificationsComponent.prototype.changeCurrentMachine = function (machine) {\n\t        this.currentMachine = machine;\n\t        this.updateCurrentMachine();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewMachineIDInput = function () {\n\t        if (this.specifications[this.newMachineID] == null && this.newMachineID != null && this.newMachineID != \"\") {\n\t            this.newMachineIDValid = true;\n\t        }\n\t        else {\n\t            this.newMachineIDValid = false;\n\t        }\n\t        this.checkNewMachineValid();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewModelInput = function () {\n\t        if (this.newModel != null && this.newModel != \"\") {\n\t            this.newModelValid = true;\n\t        }\n\t        else {\n\t            this.newModelValid = false;\n\t        }\n\t        this.checkNewMachineValid();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewMachineValid = function () {\n\t        this.newMachineValid = (this.newMachineIDValid && this.newModelValid);\n\t    };\n\t    SpecificationsComponent.prototype.addMachineID = function () {\n\t        if (this.newMachineValid) {\n\t            this.machines.push(this.newMachineID);\n\t            this.specifications[this.newMachineID] = {};\n\t            this.specifications[this.newMachineID][\"model\"] = this.newModel;\n\t            this.specifications[this.newMachineID][\"energy\"] = [];\n\t            this.specifications[this.newMachineID][\"R50\"] = {};\n\t            this.specifications[this.newMachineID][\"applicator\"] = [];\n\t            this.specifications[this.newMachineID][\"ssd\"] = [];\n\t            this.changeCurrentMachine(this.newMachineID);\n\t            this.newMachineID = null;\n\t            this.newModel = null;\n\t            this.newMachineIDValid = false;\n\t            this.newModelValid = false;\n\t            this.newMachineValid = false;\n\t            this.updateSpecifications();\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.checkNewEnergyInput = function () {\n\t        if (this.specifications[this.currentMachine][\"energy\"].indexOf(Number(this.newEnergy)) < 0 && this.newEnergy != null && !isNaN(Number(this.newEnergy))) {\n\t            this.newEnergyValid = true;\n\t        }\n\t        else {\n\t            this.newEnergyValid = false;\n\t        }\n\t        this.checkNewEnergySetValid();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewR50Input = function () {\n\t        if (this.newR50 != null && !isNaN(Number(this.newR50))) {\n\t            this.newR50Valid = true;\n\t        }\n\t        else {\n\t            this.newR50Valid = false;\n\t        }\n\t        this.checkNewEnergySetValid();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewEnergySetValid = function () {\n\t        this.newEnergySetValid = (this.newEnergyValid && this.newR50Valid);\n\t    };\n\t    SpecificationsComponent.prototype.addEnergy = function () {\n\t        if (this.newEnergySetValid) {\n\t            this.specifications[this.currentMachine][\"energy\"].push(Number(this.newEnergy));\n\t            this.specifications[this.currentMachine][\"R50\"][this.newEnergy] = Number(this.newR50);\n\t            this.newEnergy = null;\n\t            this.newR50 = null;\n\t            this.newEnergyValid = false;\n\t            this.newR50Valid = false;\n\t            this.newEnergySetValid = false;\n\t            this.updateSpecifications();\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.checkNewApplicatorInput = function () {\n\t        if (this.specifications[this.currentMachine][\"applicator\"].indexOf(this.newApplicator.toLowerCase()) < 0 && this.newApplicator != null && this.newApplicator != \"\") {\n\t            this.newApplicatorValid = true;\n\t        }\n\t        else {\n\t            this.newApplicatorValid = false;\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.addApplicator = function () {\n\t        if (this.newApplicatorValid) {\n\t            this.specifications[this.currentMachine][\"applicator\"].push(this.newApplicator.toLowerCase());\n\t            this.newApplicator = null;\n\t            this.newApplicatorValid = false;\n\t            this.updateSpecifications();\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.checkNewSSDInput = function () {\n\t        if (this.specifications[this.currentMachine][\"ssd\"].indexOf(Number(this.newSSD)) < 0 && this.newSSD != null && !isNaN(Number(this.newSSD))) {\n\t            this.newSSDValid = true;\n\t        }\n\t        else {\n\t            this.newSSDValid = false;\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.addSSD = function () {\n\t        if (this.newSSDValid) {\n\t            this.specifications[this.currentMachine][\"ssd\"].push(Number(this.newSSD));\n\t            this.newSSD = null;\n\t            this.newSSDValid = false;\n\t            this.updateSpecifications();\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.updateSpecifications = function () {\n\t        localStorage.setItem(\"specifications\", JSON.stringify(this.specifications));\n\t    };\n\t    SpecificationsComponent.prototype.updateCurrentMachine = function () {\n\t        localStorage.setItem(\"current_machine\", JSON.stringify(this.currentMachine));\n\t    };\n\t    SpecificationsComponent.prototype.editMachine = function (machine) {\n\t        this.currentMachine = null;\n\t        this.edittingMachine = machine;\n\t    };\n\t    SpecificationsComponent.prototype.finishMachineEdit = function (machine, idInput, modelInput) {\n\t        if (idInput != machine) {\n\t            this.specifications[idInput] = this.specifications[machine];\n\t            delete this.specifications[machine];\n\t            this.machines = Object.keys(this.specifications).sort();\n\t        }\n\t        this.specifications[idInput][\"model\"] = modelInput;\n\t        this.updateSpecifications();\n\t        this.currentMachine = this.edittingMachine;\n\t        this.edittingMachine = null;\n\t    };\n\t    SpecificationsComponent.prototype.deleteMachine = function (machine) {\n\t        var index = this.machines.indexOf(machine);\n\t        this.machines.splice(index, 1);\n\t        delete this.specifications[machine];\n\t        this.edittingMachine = null;\n\t        this.updateSpecifications();\n\t    };\n\t    SpecificationsComponent.prototype.changeSpecifications = function (newSpecifications) {\n\t        this.specifications = newSpecifications;\n\t        if (this.specifications == null) {\n\t            this.specifications = {};\n\t            this.machines = [];\n\t        }\n\t        else {\n\t            this.machines = Object.keys(this.specifications).sort();\n\t            this.currentMachine = JSON.parse(localStorage.getItem(\"current_machine\"));\n\t            if (this.currentMachine == null || this.specifications[this.currentMachine] === undefined) {\n\t                this.currentMachine = this.machines[0];\n\t            }\n\t        }\n\t        this.updateSpecifications();\n\t    };\n\t    SpecificationsComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Specifications');\n\t        this.changeSpecifications(JSON.parse(localStorage.getItem(\"specifications\")));\n\t        // this.specifications = {\n\t        //   \"2619\": {\n\t        //     \"model\": \"Elekta Synergy\",\n\t        //     \"energy\": [6, 9, 12],\n\t        //     \"R50\": {\n\t        //       6: 0,\n\t        //       9: 0,\n\t        //       12: 0\n\t        //     },\n\t        //     \"applicator\": [\"10X10\", \"6X6\"],\n\t        //     \"ssd\": [100]\n\t        //   },\n\t        //   \"2694\": {\n\t        //     \"model\": \"Elekta Synergy\",\n\t        //     \"energy\": [6, 9, 12],\n\t        //     \"R50\": {\n\t        //       6: 0,\n\t        //       9: 0,\n\t        //       12: 0\n\t        //     },\n\t        //     \"applicator\": [\"14X14\", \"6X6\"],\n\t        //     \"ssd\": [100]\n\t        //   },\n\t        //   \"Another\": {\n\t        //     \"model\": \"Varian True Beam\",\n\t        //     \"energy\": [6, 8, 10],\n\t        //     \"R50\": {\n\t        //       6: 0,\n\t        //       8: 0,\n\t        //       10: 0\n\t        //     },\n\t        //     \"applicator\": [\"10X10\", \"6X6\"],\n\t        //     \"ssd\": [100]\n\t        //   }\n\t        // }\n\t    };\n\t    SpecificationsComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-specifications',\n\t            template: __webpack_require__(76)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService])\n\t    ], SpecificationsComponent);\n\t    return SpecificationsComponent;\n\t}());\n\texports.SpecificationsComponent = SpecificationsComponent;\n\n\n/***/ },\n\n/***/ 76:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    \\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Machine specifications editing</h5>\\n    <p>Currently the editing and deleting of energy, applicator, and SSD entries is not yet implimented.</p>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\" style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Machine IDs</h2>\\n      </mdl-card-title>\\n\\n      <mdl-list>\\n        \\n        <div *ngFor=\\\"let machine of machines\\\">\\n        \\n          <div *ngIf=\\\"machine!=edittingMachine\\\">\\n            <mdl-list-item lines=\\\"3\\\">\\n              <mdl-list-item-primary-content>\\n                <div (click)=\\\"editMachine(machine)\\\">\\n                  <span>{{machine}}</span>\\n                  <mdl-list-item-text-body>{{specifications[machine].model}}</mdl-list-item-text-body>\\n                </div>\\n              </mdl-list-item-primary-content>\\n              <mdl-list-item-secondary-action>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"machine==currentMachine || edittingMachine!=null\\\"\\n                  (click)=\\\"changeCurrentMachine(machine)\\\"><mdl-icon>dashboard</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button *ngIf=\\\"machine!=edittingMachine\\\"\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"false\\\"\\n                  (click)=\\\"editMachine(machine)\\\"><mdl-icon>edit</mdl-icon>       \\n                </button>\\n              </mdl-list-item-secondary-action>\\n            </mdl-list-item>\\n\\n          </div>\\n\\n          <div *ngIf=\\\"machine==edittingMachine\\\">\\n            <mdl-list-item lines=\\\"3\\\">\\n              <mdl-list-item-primary-content>\\n                <mdl-textfield #machineIDTextField\\n                  type=\\\"text\\\"\\n                  label=\\\"Machine ID\\\"\\n                  [value]=\\\"machine\\\"\\n                  (keyup.enter)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"\\n                  floating-label\\n                  style=\\\"display:inline;\\\"></mdl-textfield>\\n                <mdl-textfield #modelTextField\\n                  type=\\\"text\\\"\\n                  label=\\\"Model\\\"\\n                  [value]=\\\"specifications[machine].model\\\"\\n                  (keyup.enter)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"\\n                  floating-label\\n                  style=\\\"display:inline;\\\"></mdl-textfield>\\n              </mdl-list-item-primary-content>\\n\\n              <mdl-list-item-secondary-action>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"machine!=edittingMachine\\\"\\n                  (click)=\\\"deleteMachine(machine)\\\"><mdl-icon>delete</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  mdl-colored=\\\"primary\\\" \\n                  [disabled]=\\\"machine==currentMachine || edittingMachine!=null\\\"\\n                  (click)=\\\"changeCurrentMachine(machine)\\\"><mdl-icon>dashboard</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"false\\\"\\n                  (click)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"><mdl-icon>done</mdl-icon>       \\n                </button>\\n              </mdl-list-item-secondary-action>\\n            </mdl-list-item>\\n\\n          </div>\\n        </div>\\n\\n\\n      </mdl-list>\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Machine ID\\\"\\n          [(ngModel)]=\\\"newMachineID\\\"\\n          (input)=\\\"checkNewMachineIDInput()\\\"\\n          (keyup.enter)=\\\"addMachineID()\\\"\\n          floating-label\\n          style=\\\"width:100%\\\"></mdl-textfield>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"Machine Make and Model\\\"\\n          [(ngModel)]=\\\"newModel\\\"\\n          (input)=\\\"checkNewModelInput()\\\"\\n          (keyup.enter)=\\\"addMachineID()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newMachineValid\\\"\\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          mdl-ripple\\n          (click)=\\\"addMachineID()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Energies for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let energy of specifications[currentMachine].energy\\\" lines=\\\"3\\\">\\n            <mdl-list-item-primary-content>\\n              <span>{{energy}} MeV</span>\\n              <mdl-list-item-text-body>R50: {{specifications[currentMachine].R50[energy]}} cm</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Energy (MeV)\\\"\\n          [(ngModel)]=\\\"newEnergy\\\"\\n          (input)=\\\"checkNewEnergyInput()\\\"\\n          (keyup.enter)=\\\"addEnergy()\\\"\\n          floating-label\\n          style=\\\"width:100%\\\"></mdl-textfield>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"R50 for New Energy (cm)\\\"\\n          [(ngModel)]=\\\"newR50\\\"\\n          (input)=\\\"checkNewR50Input()\\\"\\n          (keyup.enter)=\\\"addEnergy()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newEnergySetValid\\\" \\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addEnergy()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Applicators for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let applicator of specifications[currentMachine].applicator\\\">\\n            <mdl-list-item-primary-content>\\n              <mdl-list-item-text-body>{{applicator}}</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Applicator\\\"\\n          [(ngModel)]=\\\"newApplicator\\\"\\n          (input)=\\\"checkNewApplicatorInput()\\\"\\n          (keyup.enter)=\\\"addApplicator()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newApplicatorValid\\\" \\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addApplicator()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>SSDs for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let ssd of specifications[currentMachine].ssd\\\">\\n            <mdl-list-item-primary-content>\\n              <mdl-list-item-text-body>{{ssd}} cm</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New SSD (cm)\\\"\\n          [(ngModel)]=\\\"newSSD\\\"\\n          (input)=\\\"checkNewSSDInput()\\\"\\n          (keyup.enter)=\\\"addSSD()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newSSDValid\\\" \\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addSSD()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Raw specification data editing</h5>\\n    <p>\\n      Edit the raw machine specifications data below. \\n      Currently error checking on this raw input is not implemented.\\n      Incorrectly editing the data below may cause the web app not to function.\\n      Input data above to determine the data structure required.</p>\\n    <my-json-edit\\n      [input]=\\\"specifications\\\"\\n      (inputUpdated)=\\\"changeSpecifications($event)\\\"\\n      buttonText=\\\"Update Specifications\\\">\\n    </my-json-edit>\\n  </div>\\n\\n</div>\\n\\n\";\n\n/***/ },\n\n/***/ 77:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar router_1 = __webpack_require__(30);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar js_yaml_1 = __webpack_require__(78);\n\t// declare var yaml: any;\n\t// declare var pypyjs: any;\n\tvar DicomComponent = (function () {\n\t    function DicomComponent(myTitleService, router) {\n\t        this.myTitleService = myTitleService;\n\t        this.router = router;\n\t        this.parameterisation = {\n\t            insert: {\n\t                x: [0],\n\t                y: [0]\n\t            },\n\t            width: null,\n\t            length: null,\n\t            circle: null,\n\t            ellipse: null\n\t        };\n\t        this.insertData = {\n\t            machine: null,\n\t            parameterisation: this.parameterisation,\n\t            energy: null,\n\t            applicator: null,\n\t            ssd: null\n\t        };\n\t        this.dicomExitCode = 1;\n\t        this.reader = new FileReader();\n\t    }\n\t    DicomComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        window['dicomData'] = ' ';\n\t        this.reader.onload = function () { return _this.onceFileIsLoaded(); };\n\t        var insertListString = localStorage.getItem('dicom_insertList');\n\t        if (insertListString) {\n\t            this.insertList = JSON.parse(insertListString);\n\t        }\n\t        // localStorage.removeItem('dicomPrint');\n\t        Module.print = this.sendDicomDumpToGlobalVariable;\n\t        // Module.printErr = this.sendDicomDumpToLocalStorage;\n\t        this.myTitleService.setTitle('Dicom');\n\t        // pypyjs.exec(\"import json; print json.dumps({'hello': 'world'})\")\n\t        // pypyjs.exec(\"import dicom; print json.dumps({'hello': 'world'})\")\n\t    };\n\t    DicomComponent.prototype.sendDicomDumpToGlobalVariable = function (print) {\n\t        window['dicomData'] = window['dicomData'] + '\\n' + print;\n\t    };\n\t    DicomComponent.prototype.updateDicomWarning = function () {\n\t        var status = Number(localStorage.getItem('dicomLoadStatus'));\n\t        if (status == 0) {\n\t            this.getBlockDataButton.disabled = false;\n\t            this.dicomWarning = null;\n\t        }\n\t        else {\n\t            this.getBlockDataButton.disabled = true;\n\t            this.dicomWarning = 'An error occured while trying to find the block data within the provided Dicom file.';\n\t        }\n\t    };\n\t    DicomComponent.prototype.onceFileIsLoaded = function () {\n\t        var content = new Int8Array(this.reader.result);\n\t        console.log(content.length);\n\t        var fileName = 'dicomfile';\n\t        if (FS.isFile(fileName)) {\n\t            FS.unlink(fileName);\n\t        }\n\t        FS.writeFile(fileName, content, { encoding: \"binary\" });\n\t        var exit_orig = Module.exit;\n\t        Module.exit = function (status) {\n\t            localStorage.setItem('dicomLoadStatus', status);\n\t            exit_orig(status);\n\t        };\n\t        Module.callMain(['dcmdump', fileName, '--print-all']);\n\t        Module.exit = exit_orig;\n\t        console.log(Module);\n\t        this.updateDicomWarning();\n\t        FS.unlink(fileName);\n\t    };\n\t    DicomComponent.prototype.openFile = function (event) {\n\t        if (typeof event.target !== 'undefined') {\n\t            console.log(event.target.files);\n\t            var file = event.target.files[0];\n\t            window['dicomData'] = ' ';\n\t            this.reader.readAsArrayBuffer(file);\n\t        }\n\t        else {\n\t            console.log(event);\n\t        }\n\t    };\n\t    DicomComponent.prototype.convertDicomDumpToDict = function (dump) {\n\t        var yamlConvert = dump.replace(/\\s*#[^#\\n]*\\n/g, '\\n');\n\t        yamlConvert = yamlConvert.replace(/\\s*#[^#\\n]*$/g, '');\n\t        yamlConvert = yamlConvert.replace(/^\\n*/, '');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\))/g, '$1:');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) SQ \\(Sequence with undefined length #=\\d+\\)/g, '$1');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) na \\(Item with undefined length #=\\d+\\)/g, '$1');\n\t        yamlConvert = yamlConvert.replace(/ *\\(fffe,e00d\\): na \\(ItemDelimitationItem\\) *\\n/g, '');\n\t        yamlConvert = yamlConvert.replace(/ *\\(fffe,e0dd\\): na \\(SequenceDelimitationItem\\)\\n/g, '');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) (.*)/g, '$1 \"$2\"');\n\t        yamlConvert = yamlConvert.replace(/\\\\/g, ', ');\n\t        yamlConvert = yamlConvert.replace(/\\(fffe,e000\\):/g, ' - ');\n\t        yamlConvert = js_yaml_1.safeLoad(yamlConvert);\n\t        return yamlConvert;\n\t    };\n\t    DicomComponent.prototype.convertBlockDataToCoords = function (blockData) {\n\t        var listString = /\\[[, \\d\\.-]*\\]/.exec(blockData).toString();\n\t        var parsedData = JSON.parse('{ \"data\": ' + listString + '}');\n\t        var x = [];\n\t        var y = [];\n\t        var i = 0;\n\t        for (var _i = 0, _a = parsedData['data']; _i < _a.length; _i++) {\n\t            var num = _a[_i];\n\t            if (i % 2 == 0) {\n\t                x.push(parseFloat((num / 10).toFixed(2)));\n\t            }\n\t            else {\n\t                y.push(parseFloat((num / 10).toFixed(2)));\n\t            }\n\t            i++;\n\t        }\n\t        var insert = {\n\t            \"x\": x,\n\t            \"y\": y\n\t        };\n\t        return insert;\n\t    };\n\t    DicomComponent.prototype.dicomPullNumber = function (input) {\n\t        return Number(input.replace(/.*\\[([\\d\\.-]*)\\].*/, \"$1\"));\n\t    };\n\t    DicomComponent.prototype.dicomPullString = function (input) {\n\t        return input.replace(/.*\\[(.*)\\].*/, \"$1\");\n\t    };\n\t    DicomComponent.prototype.getBlockData = function () {\n\t        var dicomPrint = window['dicomData'];\n\t        var dicomDict = this.convertDicomDumpToDict(dicomPrint);\n\t        this.insertList = [];\n\t        var beamSequence = dicomDict[\"(300a,00b0)\"];\n\t        for (var _i = 0, beamSequence_1 = beamSequence; _i < beamSequence_1.length; _i++) {\n\t            var beam = beamSequence_1[_i];\n\t            var blockData = beam[\"(300a,00f4)\"][0][\"(300a,0106)\"];\n\t            var coordinates = this.convertBlockDataToCoords(blockData);\n\t            var applicator = this.dicomPullString(beam[\"(300a,0107)\"][0][\"(300a,0108)\"]);\n\t            var energy = this.dicomPullNumber(beam[\"(300a,0111)\"][0][\"(300a,0114)\"]);\n\t            var ssd = this.dicomPullNumber(beam[\"(300a,0111)\"][0][\"(300a,0130)\"]) / 10;\n\t            var machine = this.dicomPullString(beam[\"(300a,00b2)\"]);\n\t            var insert = {\n\t                \"machine\": machine,\n\t                \"coordinates\": coordinates,\n\t                \"applicator\": applicator.toLowerCase(),\n\t                \"energy\": energy,\n\t                \"ssd\": ssd\n\t            };\n\t            this.insertList.push(insert);\n\t        }\n\t        localStorage.setItem('dicom_insertList', JSON.stringify(this.insertList));\n\t    };\n\t    DicomComponent.prototype.sendToParameterisation = function (insert) {\n\t        this.insertUpdated(insert['coordinates']);\n\t        this.insertData['machine'] = insert['machine'];\n\t        this.insertData['parameterisation'] = this.parameterisation;\n\t        this.insertData['energy'] = insert['energy'];\n\t        this.insertData['applicator'] = insert['applicator'];\n\t        this.insertData['ssd'] = insert['ssd'];\n\t        localStorage.setItem(\"last_insertData\", JSON.stringify(this.insertData));\n\t        this.router.navigate([\"/parameterise\"]);\n\t    };\n\t    DicomComponent.prototype.parameterisationFromLocalStorage = function (localStorageParameterisationString) {\n\t        var localStorageParameterisation = JSON.parse(localStorageParameterisationString);\n\t        this.parameterisation.insert = localStorageParameterisation['insert'];\n\t        this.parameterisation.width = localStorageParameterisation['width'];\n\t        this.parameterisation.length = localStorageParameterisation['length'];\n\t        this.parameterisation.circle = localStorageParameterisation['circle'];\n\t        this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n\t    };\n\t    DicomComponent.prototype.insertUpdated = function (insert) {\n\t        var localStorageParameterisation = localStorage.getItem(JSON.stringify(insert));\n\t        if (localStorageParameterisation) {\n\t            this.parameterisationFromLocalStorage(localStorageParameterisation);\n\t        }\n\t        else {\n\t            this.parameterisation.insert = insert;\n\t            this.parameterisation.width = null;\n\t            this.parameterisation.length = null;\n\t            this.parameterisation.circle = null;\n\t            this.parameterisation.ellipse = null;\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('dicomOutput'), \n\t        __metadata('design:type', Object)\n\t    ], DicomComponent.prototype, \"dicomOutputDir\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('getBlockDataButton'), \n\t        __metadata('design:type', Object)\n\t    ], DicomComponent.prototype, \"getBlockDataButton\", void 0);\n\t    DicomComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-dicom',\n\t            template: __webpack_require__(113),\n\t            styles: ['./dicom.component.css']\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService, router_1.Router])\n\t    ], DicomComponent);\n\t    return DicomComponent;\n\t}());\n\texports.DicomComponent = DicomComponent;\n\n\n/***/ },\n\n/***/ 113:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>This Dicom loader does not send the Dicom file off to a server. The entire reading of the dicom file is done within javascript.\\n    You can confirm this yourself by using the chrome web browser, pressing 'Ctrl + Shift + I'\\n    and then clicking on the network tab. When the file is chosen, then the block data is pulled and sent to parameterisation,\\n    at no point in this interaction is there network traffic.</p>\\n\\n    <p>The only data that will be sent to the server will be on either the paremeterisation tab or the model tab, and this data will\\n      just consist of x and y coordinates or widths, lengths, and factors.\\n    </p>\\n\\n    <p>\\n      Download a demo dicom file from <a href=\\\"/30x16x30_RandomElectronShapes.dcm\\\">here</a>\\n    </p>\\n  <div>\\n</div>\\n<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <input type='file' (change)='openFile($event)'>\\n    <div *ngIf=\\\"dicomWarning\\\">{{dicomWarning}}</div>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <button #getBlockDataButton\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"true\\\"\\n      (click)=\\\"getBlockData()\\\">Get Dicom Insert Data\\n    </button>\\n\\n    \\n  </div>\\n\\n  <div *ngFor=\\\"let insert of insertList\\\" class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\">\\n\\n\\n      <my-send-to-parameterisation\\n        [machine]=insert.machine\\n        [coordinates]=insert.coordinates\\n        [applicator]=insert.applicator\\n        [ssd]=insert.ssd\\n        [energy]=insert.energy>\\n      </my-send-to-parameterisation>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <button\\n          mdl-button \\n          mdl-ripple\\n          (click)=\\\"sendToParameterisation(insert)\\\">Send to parameterisation           \\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n    \\n\\n\\n    <!--<p>{{insert | json}}</p>-->\\n  </div>\\n\\n\\n\\n</div>\";\n\n/***/ },\n\n/***/ 169:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar router_1 = __webpack_require__(30);\n\tvar platform_browser_1 = __webpack_require__(21);\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar AppComponent = (function () {\n\t    function AppComponent(electronApiService, myTitleService, router, title) {\n\t        var _this = this;\n\t        this.electronApiService = electronApiService;\n\t        this.myTitleService = myTitleService;\n\t        this.router = router;\n\t        this.title = title;\n\t        router.events\n\t            .filter(function (event) { return event instanceof router_1.NavigationEnd; })\n\t            .subscribe(function () {\n\t            _this.pageTitle = _this.myTitleService.getTitle();\n\t            _this.title.setTitle(_this.myTitleService.getTitle() +\n\t                ' | Electron Insert Factor Modelling');\n\t        });\n\t    }\n\t    AppComponent.prototype.ngOnInit = function () {\n\t        var redirect = sessionStorage['redirect'];\n\t        delete sessionStorage['redirect'];\n\t        if (redirect && redirect != location.href) {\n\t            history.replaceState(null, null, redirect);\n\t            this.router.navigate([redirect]);\n\t        }\n\t        this.electronApiService.wakeUpServer();\n\t        this.pageTitle = this.myTitleService.getTitle();\n\t        this.title.setTitle(this.myTitleService.getTitle() +\n\t            ' | Electron Insert Factor Modelling');\n\t    };\n\t    AppComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-app',\n\t            template: __webpack_require__(170),\n\t        }), \n\t        __metadata('design:paramtypes', [electron_api_service_1.ElectronApiService, title_service_1.TitleService, router_1.Router, platform_browser_1.Title])\n\t    ], AppComponent);\n\t    return AppComponent;\n\t}());\n\texports.AppComponent = AppComponent;\n\n\n/***/ },\n\n/***/ 170:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n<!--<md-sidenav-layout>\\n\\n  <md-sidenav #sidenav mode=\\\"side\\\" class=\\\"app-sidenav\\\">\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </md-sidenav>\\n\\n  <md-toolbar color=\\\"primary\\\">\\n    <button class=\\\"app-icon-button\\\" (click)=\\\"sidenav.toggle()\\\">\\n      <i class=\\\"material-icons app-toolbar-menu\\\">menu</i>\\n    </button>\\n\\n    {{pageTitle}}\\n\\n    <span class=\\\"app-toolbar-filler\\\"></span>\\n    <button md-button (click)=\\\"isDarkTheme = !isDarkTheme\\\">TOGGLE DARK THEME</button>\\n  </md-toolbar>\\n\\n  <div class=\\\"app-content\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n\\n\\n</md-sidenav-layout>-->\\n\\n\\n<mdl-layout mdl-layout-fixed-drawer mdl-layout-fixed-header>\\n  <mdl-layout-header>\\n    <mdl-layout-header-row>\\n      <mdl-layout-title>{{pageTitle}}</mdl-layout-title>\\n    </mdl-layout-header-row>\\n  </mdl-layout-header>\\n  <mdl-layout-drawer>\\n    <mdl-layout-title>Electron Factors</mdl-layout-title>\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </mdl-layout-drawer>\\n  <mdl-layout-content>\\n\\n    <router-outlet></router-outlet>\\n\\n  </mdl-layout-content>\\n</mdl-layout>\";\n\n/***/ },\n\n/***/ 171:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar coordinates_1 = __webpack_require__(172);\n\tvar PlotComponent = (function () {\n\t    function PlotComponent() {\n\t        this.insert = null;\n\t        this.circle = null;\n\t        this.ellipse = null;\n\t        this.enabled = true;\n\t        this.jsonValid = true;\n\t        this.plt = Bokeh.Plotting;\n\t        this.tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';\n\t        this.xrange = Bokeh.Range1d(-6, 6);\n\t        this.yrange = Bokeh.Range1d(-6, 6);\n\t        this.fig = this.plt.figure({\n\t            title: 'Electron Insert Plot', tools: this.tools,\n\t            x_range: this.xrange, y_range: this.yrange,\n\t            plot_width: 300, plot_height: 300\n\t        });\n\t        this.source = new Bokeh.ColumnDataSource();\n\t        this.doc = new Bokeh.Document();\n\t    }\n\t    PlotComponent.prototype.ngOnChanges = function () {\n\t        this.jsonValid = false;\n\t        this.tempSource = {\n\t            \"xs\": [[0], [0], [0]],\n\t            \"ys\": [[0], [0], [0]],\n\t            \"colour\": [\"navy\", \"firebrick\", \"green\"]\n\t        };\n\t        var xAll = [];\n\t        var yAll = [];\n\t        if (this.enabled) {\n\t            if (this.insert) {\n\t                if ('x' in this.insert && 'y' in this.insert) {\n\t                    this.tempSource.xs[0] = this.insert.x.concat(this.insert.x[0]);\n\t                    this.tempSource.ys[0] = this.insert.y.concat(this.insert.y[0]);\n\t                    xAll = xAll.concat(this.tempSource.xs[0]);\n\t                    yAll = yAll.concat(this.tempSource.ys[0]);\n\t                }\n\t            }\n\t            if (this.circle) {\n\t                if ('x' in this.circle && 'y' in this.circle) {\n\t                    this.tempSource.xs[1] = this.circle.x;\n\t                    this.tempSource.ys[1] = this.circle.y;\n\t                    xAll = xAll.concat(this.tempSource.xs[1]);\n\t                    yAll = yAll.concat(this.tempSource.ys[1]);\n\t                }\n\t            }\n\t            if (this.ellipse) {\n\t                if ('x' in this.ellipse && 'y' in this.ellipse) {\n\t                    this.tempSource.xs[2] = this.ellipse.x;\n\t                    this.tempSource.ys[2] = this.ellipse.y;\n\t                    xAll = xAll.concat(this.tempSource.xs[2]);\n\t                    yAll = yAll.concat(this.tempSource.ys[2]);\n\t                }\n\t            }\n\t        }\n\t        var xMax = Math.max.apply(Math, xAll);\n\t        var xMin = Math.min.apply(Math, xAll);\n\t        var yMax = Math.max.apply(Math, yAll);\n\t        var yMin = Math.min.apply(Math, yAll);\n\t        var range = Math.max(xMax - xMin, yMax - yMin) * 1.1;\n\t        var sqXMax = (xMax + xMin) / 2 + range / 2;\n\t        var sqXMin = (xMax + xMin) / 2 - range / 2;\n\t        var sqYMax = (yMax + yMin) / 2 + range / 2;\n\t        var sqYMin = (yMax + yMin) / 2 - range / 2;\n\t        this.fig.attributes.x_range.start = sqXMin;\n\t        this.fig.attributes.x_range.end = sqXMax;\n\t        this.fig.attributes.y_range.start = sqYMin;\n\t        this.fig.attributes.y_range.end = sqYMax;\n\t        // this.fig.update_range();\n\t        // console.log(this.fig);\n\t        this.source.data = this.tempSource;\n\t    };\n\t    PlotComponent.prototype.ngAfterViewInit = function () {\n\t        // this.ngOnChanges();\n\t        this.fig.multi_line({ field: 'xs' }, { field: 'ys' }, {\n\t            source: this.source,\n\t            line_width: 2,\n\t            color: { field: 'colour' }\n\t        });\n\t        this.doc.add_root(this.fig);\n\t        Bokeh.embed.add_document_standalone(this.doc, this.bokehplot.nativeElement);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], PlotComponent.prototype, \"insert\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], PlotComponent.prototype, \"circle\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], PlotComponent.prototype, \"ellipse\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], PlotComponent.prototype, \"enabled\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('bokehplot'), \n\t        __metadata('design:type', Object)\n\t    ], PlotComponent.prototype, \"bokehplot\", void 0);\n\t    PlotComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-plot',\n\t            template: __webpack_require__(173),\n\t            styles: [__webpack_require__(174)]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], PlotComponent);\n\t    return PlotComponent;\n\t}());\n\texports.PlotComponent = PlotComponent;\n\n\n/***/ },\n\n/***/ 172:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar Coordinates = (function () {\n\t    function Coordinates(x, y) {\n\t        this.x = x;\n\t        this.y = y;\n\t    }\n\t    return Coordinates;\n\t}());\n\texports.Coordinates = Coordinates;\n\n\n/***/ },\n\n/***/ 173:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n  <div class=\\\"bk-root\\\" style=\\\"height:300px\\\">\\n    <div #bokehplot></div>\\n  </div>\\n\\n\\n  <div [hidden]=\\\"jsonValid\\\" class=\\\"alert alert-danger\\\">\\n      {{jsonErrorMessage}}\\n  </div>\\n\";\n\n/***/ },\n\n/***/ 174:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\"\n\n/***/ },\n\n/***/ 175:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar angular2_mdl_1 = __webpack_require__(114);\n\tvar WidthLengthTableComponent = (function () {\n\t    function WidthLengthTableComponent() {\n\t        this.tableData = [\n\t            { width: null, length: null }\n\t        ];\n\t        this.tableModel = new angular2_mdl_1.MdlDefaultTableModel([\n\t            { key: 'width', name: 'Width', sortable: true, numeric: true },\n\t            { key: 'length', name: 'Length', sortable: true, numeric: true }\n\t        ]);\n\t    }\n\t    WidthLengthTableComponent.prototype.ngOnChanges = function () {\n\t        if (this.enabled) {\n\t            this.tableData[0].width = this.width;\n\t            this.tableData[0].length = this.length;\n\t        }\n\t        else {\n\t            this.tableData[0].width = null;\n\t            this.tableData[0].length = null;\n\t        }\n\t    };\n\t    WidthLengthTableComponent.prototype.ngOnInit = function () {\n\t        this.tableModel.addAll(this.tableData);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], WidthLengthTableComponent.prototype, \"width\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], WidthLengthTableComponent.prototype, \"length\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], WidthLengthTableComponent.prototype, \"enabled\", void 0);\n\t    WidthLengthTableComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-width-length-table',\n\t            template: __webpack_require__(176),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], WidthLengthTableComponent);\n\t    return WidthLengthTableComponent;\n\t}());\n\texports.WidthLengthTableComponent = WidthLengthTableComponent;\n\n\n/***/ },\n\n/***/ 176:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<mdl-table mdl-shadow=\\\"2\\\"\\n  [table-model]=\\\"tableModel\\\">\\n</mdl-table>\";\n\n/***/ },\n\n/***/ 177:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar my_json_pipe_1 = __webpack_require__(178);\n\tvar coordinates_1 = __webpack_require__(172);\n\tvar JsonInputComponent = (function () {\n\t    function JsonInputComponent() {\n\t        this.insertUpdated = new core_1.EventEmitter();\n\t        this.jsonStatus = new core_1.EventEmitter();\n\t        this.jsonValid = true;\n\t    }\n\t    JsonInputComponent.prototype.onInput = function (jsonInput) {\n\t        this.parseAndCheckJSON(jsonInput);\n\t        this.insertUpdated.emit(this.insert);\n\t    };\n\t    JsonInputComponent.prototype.ngOnChanges = function () {\n\t        if (this.refresh) {\n\t            this.jsonInputDir.value = new my_json_pipe_1.MyJsonPipe().transform(this.insert);\n\t            this.parseAndCheckJSON(this.jsonInputDir.value);\n\t            this.refresh = false;\n\t        }\n\t    };\n\t    JsonInputComponent.prototype.parseAndCheckJSON = function (jsonInput) {\n\t        var oldJsonValid = this.jsonValid;\n\t        this.jsonValid = false;\n\t        try {\n\t            var parsedJSON = JSON.parse(jsonInput);\n\t            if ('x' in parsedJSON && 'y' in parsedJSON) {\n\t                if (parsedJSON.x.length === parsedJSON.y.length) {\n\t                    var x = parsedJSON.x;\n\t                    var y = parsedJSON.y;\n\t                    var insert = {\n\t                        x: x,\n\t                        y: y\n\t                    };\n\t                    this.insert = insert;\n\t                    this.jsonValid = true;\n\t                }\n\t                else {\n\t                    this.jsonErrorMessage = 'The length of x doesn\\'t match the length of y.';\n\t                }\n\t            }\n\t            else {\n\t                this.jsonErrorMessage = 'Either x or y is missing.';\n\t            }\n\t        }\n\t        catch (err) {\n\t            this.jsonErrorMessage = 'Error in JSON input. ' + err;\n\t        }\n\t        finally {\n\t            if (this.jsonValid != oldJsonValid) {\n\t                this.jsonStatus.emit(this.jsonValid);\n\t            }\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], JsonInputComponent.prototype, \"insert\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], JsonInputComponent.prototype, \"jsonDisabled\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], JsonInputComponent.prototype, \"refresh\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', Object)\n\t    ], JsonInputComponent.prototype, \"insertUpdated\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', Object)\n\t    ], JsonInputComponent.prototype, \"jsonStatus\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('jsonInput'), \n\t        __metadata('design:type', Object)\n\t    ], JsonInputComponent.prototype, \"jsonInputDir\", void 0);\n\t    JsonInputComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-json-input',\n\t            template: __webpack_require__(179),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], JsonInputComponent);\n\t    return JsonInputComponent;\n\t}());\n\texports.JsonInputComponent = JsonInputComponent;\n\n\n/***/ },\n\n/***/ 178:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar MyJsonPipe = (function () {\n\t    function MyJsonPipe() {\n\t    }\n\t    MyJsonPipe.prototype.transform = function (input) {\n\t        var jsonText = JSON.stringify(input, null, 4);\n\t        jsonText = jsonText.replace(/(-?\\d+(\\.\\d+)?),\\n\\s*/g, \"$1, \");\n\t        jsonText = jsonText.replace(/null,\\n\\s*/g, \"null, \");\n\t        // jsonText = jsonText.replace(/:/g, \":\\n\");\n\t        return jsonText;\n\t    };\n\t    MyJsonPipe = __decorate([\n\t        core_1.Pipe({ name: 'myJson', pure: false }), \n\t        __metadata('design:paramtypes', [])\n\t    ], MyJsonPipe);\n\t    return MyJsonPipe;\n\t}());\n\texports.MyJsonPipe = MyJsonPipe;\n\n\n/***/ },\n\n/***/ 179:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<mdl-textfield #jsonInput\\n  [value]=\\\"insert | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  rows=\\\"12\\\" \\n  style=\\\"width:100%\\\"\\n  [disabled]=jsonDisabled>\\n</mdl-textfield>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\";\n\n/***/ },\n\n/***/ 180:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar NotYetImplimentedComponent = (function () {\n\t    function NotYetImplimentedComponent() {\n\t    }\n\t    NotYetImplimentedComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-not-yet-implimented',\n\t            template: __webpack_require__(181)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], NotYetImplimentedComponent);\n\t    return NotYetImplimentedComponent;\n\t}());\n\texports.NotYetImplimentedComponent = NotYetImplimentedComponent;\n\n\n/***/ },\n\n/***/ 181:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    Due to this web app being a work in progress this page is not yet implimented.\\n  </div>\\n</div>\";\n\n/***/ },\n\n/***/ 182:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar my_json_pipe_1 = __webpack_require__(178);\n\tvar common_1 = __webpack_require__(22);\n\tvar JsonEditComponent = (function () {\n\t    function JsonEditComponent() {\n\t        this.buttonText = \"Button\";\n\t        this.inputUpdated = new core_1.EventEmitter();\n\t        this.validationCheck = function (parsedJSON) { };\n\t        this.useMyJsonPipe = false;\n\t        this.lines = 10;\n\t        this.jsonValid = true;\n\t    }\n\t    JsonEditComponent.prototype.onInput = function (jsonInput) {\n\t        this.parseAndCheckJSON(jsonInput);\n\t    };\n\t    JsonEditComponent.prototype.ngOnInit = function () {\n\t        var value = \"\";\n\t        if (this.useMyJsonPipe) {\n\t            value = new my_json_pipe_1.MyJsonPipe().transform(this.input);\n\t        }\n\t        else {\n\t            value = new common_1.JsonPipe().transform(this.input);\n\t        }\n\t        this.lines = value.split(/\\r\\n|\\r|\\n/).length;\n\t        this.editedInput = this.input;\n\t    };\n\t    JsonEditComponent.prototype.updateInput = function () {\n\t        this.input = this.editedInput;\n\t        this.inputUpdated.emit(this.input);\n\t    };\n\t    JsonEditComponent.prototype.parseAndCheckJSON = function (jsonInput) {\n\t        var oldJsonValid = this.jsonValid;\n\t        this.jsonValid = false;\n\t        try {\n\t            var parsedJSON = JSON.parse(jsonInput);\n\t            this.validationCheck(parsedJSON);\n\t            this.editedInput = parsedJSON;\n\t            this.jsonValid = true;\n\t        }\n\t        catch (err) {\n\t            this.jsonErrorMessage = 'Error in JSON input. ' + err;\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], JsonEditComponent.prototype, \"input\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], JsonEditComponent.prototype, \"buttonText\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', Object)\n\t    ], JsonEditComponent.prototype, \"inputUpdated\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Function)\n\t    ], JsonEditComponent.prototype, \"validationCheck\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], JsonEditComponent.prototype, \"useMyJsonPipe\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('jsonInput'), \n\t        __metadata('design:type', Object)\n\t    ], JsonEditComponent.prototype, \"jsonInputDir\", void 0);\n\t    JsonEditComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-json-edit',\n\t            template: __webpack_require__(183),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], JsonEditComponent);\n\t    return JsonEditComponent;\n\t}());\n\texports.JsonEditComponent = JsonEditComponent;\n\n\n/***/ },\n\n/***/ 183:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button\\n  mdl-button mdl-button-type=\\\"raised\\\" \\n  mdl-colored=\\\"primary\\\" \\n  mdl-ripple\\n  [disabled]=\\\"!jsonValid || input==editedInput\\\"\\n  (click)=\\\"updateInput()\\\">{{buttonText}} \\n</button>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\\n<mdl-textfield *ngIf=\\\"!useMyJsonPipe\\\" #jsonInput\\n  [value]=\\\"input | json\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  [rows]=\\\"20\\\" \\n  style=\\\"width:100%\\\">\\n</mdl-textfield>\\n<mdl-textfield *ngIf=\\\"useMyJsonPipe\\\" #jsonInput\\n  [value]=\\\"input | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  [rows]=\\\"20\\\" \\n  style=\\\"width:100%\\\">\\n</mdl-textfield>\";\n\n/***/ },\n\n/***/ 184:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar coordinates_1 = __webpack_require__(172);\n\tvar angular2_mdl_1 = __webpack_require__(114);\n\tvar SendToParameterisationComponent = (function () {\n\t    function SendToParameterisationComponent() {\n\t        this.tableData = [\n\t            { machine: null, applicator: null, energy: null, ssd: null }\n\t        ];\n\t        this.tableModel = new angular2_mdl_1.MdlDefaultTableModel([\n\t            { key: 'machine', name: 'Machine', sortable: true, numeric: false },\n\t            { key: 'applicator', name: 'App', sortable: true, numeric: false },\n\t            { key: 'energy', name: 'Eng', sortable: true, numeric: true },\n\t            { key: 'ssd', name: 'SSD', sortable: true, numeric: true }\n\t        ]);\n\t    }\n\t    SendToParameterisationComponent.prototype.ngOnInit = function () {\n\t        this.tableData[0].machine = this.machine;\n\t        this.tableData[0].applicator = this.applicator;\n\t        this.tableData[0].energy = this.energy;\n\t        this.tableData[0].ssd = this.ssd;\n\t        this.tableModel.addAll(this.tableData);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], SendToParameterisationComponent.prototype, \"applicator\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], SendToParameterisationComponent.prototype, \"machine\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], SendToParameterisationComponent.prototype, \"energy\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], SendToParameterisationComponent.prototype, \"ssd\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], SendToParameterisationComponent.prototype, \"coordinates\", void 0);\n\t    SendToParameterisationComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-send-to-parameterisation',\n\t            template: __webpack_require__(185),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], SendToParameterisationComponent);\n\t    return SendToParameterisationComponent;\n\t}());\n\texports.SendToParameterisationComponent = SendToParameterisationComponent;\n\n\n/***/ },\n\n/***/ 185:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <my-plot \\n      [insert]=\\\"coordinates\\\">\\n    </my-plot>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <mdl-table mdl-shadow=\\\"2\\\"\\n      [table-model]=\\\"tableModel\\\">\\n    </mdl-table>\\n  </div>\\n</div>\\n\\n\";\n\n/***/ },\n\n/***/ 186:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar BokehPcolourComponent = (function () {\n\t    function BokehPcolourComponent() {\n\t        this.title = \"Figure Title\";\n\t        this.plot_width = 300;\n\t        this.plot_height = 300;\n\t        this.scatter_z = [0.5];\n\t        this.enabled = true;\n\t        this.plt = Bokeh.Plotting;\n\t        this.tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';\n\t        this.old_scatter_z = [];\n\t        this.old_pcolour_z = [];\n\t        this.old_scatter_c = [];\n\t        this.old_pcolour_c = [];\n\t        this.scatter_data = {\n\t            x: [],\n\t            y: [],\n\t            c: []\n\t        };\n\t        this.scatter_source = new Bokeh.ColumnDataSource({\n\t            data: this.scatter_data\n\t        });\n\t        this.pcolour_data = {\n\t            x: [],\n\t            y: [],\n\t            c: []\n\t        };\n\t        this.pcolour_source = new Bokeh.ColumnDataSource({\n\t            data: this.pcolour_data\n\t        });\n\t        this.doc = new Bokeh.Document();\n\t        /*\n\t        The following functions are adapted from https://github.com/politiken-journalism/scale-color-perceptual.\n\t      \n\t        Copyright (c) 2015, Politiken Journalism <emil.bay@pol.dk>\n\t      \n\t        Permission to use, copy, modify, and/or distribute this software for any\n\t        purpose with or without fee is hereby granted, provided that the above\n\t        copyright notice and this permission notice appear in all copies.\n\t        */\n\t        this.viridis_hex = [\n\t            \"#440154\", \"#440256\", \"#450457\", \"#450559\", \"#46075a\", \"#46085c\", \"#460a5d\", \"#460b5e\", \"#470d60\", \"#470e61\", \"#471063\", \"#471164\", \"#471365\", \"#481467\", \"#481668\", \"#481769\", \"#48186a\", \"#481a6c\", \"#481b6d\", \"#481c6e\", \"#481d6f\", \"#481f70\", \"#482071\", \"#482173\", \"#482374\", \"#482475\", \"#482576\", \"#482677\", \"#482878\", \"#482979\", \"#472a7a\", \"#472c7a\", \"#472d7b\", \"#472e7c\", \"#472f7d\", \"#46307e\", \"#46327e\", \"#46337f\", \"#463480\", \"#453581\", \"#453781\", \"#453882\", \"#443983\", \"#443a83\", \"#443b84\", \"#433d84\", \"#433e85\", \"#423f85\", \"#424086\", \"#424186\", \"#414287\", \"#414487\", \"#404588\", \"#404688\", \"#3f4788\", \"#3f4889\", \"#3e4989\", \"#3e4a89\", \"#3e4c8a\", \"#3d4d8a\", \"#3d4e8a\", \"#3c4f8a\", \"#3c508b\", \"#3b518b\", \"#3b528b\", \"#3a538b\", \"#3a548c\", \"#39558c\", \"#39568c\", \"#38588c\", \"#38598c\", \"#375a8c\", \"#375b8d\", \"#365c8d\", \"#365d8d\", \"#355e8d\", \"#355f8d\", \"#34608d\", \"#34618d\", \"#33628d\", \"#33638d\", \"#32648e\", \"#32658e\", \"#31668e\", \"#31678e\", \"#31688e\", \"#30698e\", \"#306a8e\", \"#2f6b8e\", \"#2f6c8e\", \"#2e6d8e\", \"#2e6e8e\", \"#2e6f8e\", \"#2d708e\", \"#2d718e\", \"#2c718e\", \"#2c728e\", \"#2c738e\", \"#2b748e\", \"#2b758e\", \"#2a768e\", \"#2a778e\", \"#2a788e\", \"#29798e\", \"#297a8e\", \"#297b8e\", \"#287c8e\", \"#287d8e\", \"#277e8e\", \"#277f8e\", \"#27808e\", \"#26818e\", \"#26828e\", \"#26828e\", \"#25838e\", \"#25848e\", \"#25858e\", \"#24868e\", \"#24878e\", \"#23888e\", \"#23898e\", \"#238a8d\", \"#228b8d\", \"#228c8d\", \"#228d8d\", \"#218e8d\", \"#218f8d\", \"#21908d\", \"#21918c\", \"#20928c\", \"#20928c\", \"#20938c\", \"#1f948c\", \"#1f958b\", \"#1f968b\", \"#1f978b\", \"#1f988b\", \"#1f998a\", \"#1f9a8a\", \"#1e9b8a\", \"#1e9c89\", \"#1e9d89\", \"#1f9e89\", \"#1f9f88\", \"#1fa088\", \"#1fa188\", \"#1fa187\", \"#1fa287\", \"#20a386\", \"#20a486\", \"#21a585\", \"#21a685\", \"#22a785\", \"#22a884\", \"#23a983\", \"#24aa83\", \"#25ab82\", \"#25ac82\", \"#26ad81\", \"#27ad81\", \"#28ae80\", \"#29af7f\", \"#2ab07f\", \"#2cb17e\", \"#2db27d\", \"#2eb37c\", \"#2fb47c\", \"#31b57b\", \"#32b67a\", \"#34b679\", \"#35b779\", \"#37b878\", \"#38b977\", \"#3aba76\", \"#3bbb75\", \"#3dbc74\", \"#3fbc73\", \"#40bd72\", \"#42be71\", \"#44bf70\", \"#46c06f\", \"#48c16e\", \"#4ac16d\", \"#4cc26c\", \"#4ec36b\", \"#50c46a\", \"#52c569\", \"#54c568\", \"#56c667\", \"#58c765\", \"#5ac864\", \"#5cc863\", \"#5ec962\", \"#60ca60\", \"#63cb5f\", \"#65cb5e\", \"#67cc5c\", \"#69cd5b\", \"#6ccd5a\", \"#6ece58\", \"#70cf57\", \"#73d056\", \"#75d054\", \"#77d153\", \"#7ad151\", \"#7cd250\", \"#7fd34e\", \"#81d34d\", \"#84d44b\", \"#86d549\", \"#89d548\", \"#8bd646\", \"#8ed645\", \"#90d743\", \"#93d741\", \"#95d840\", \"#98d83e\", \"#9bd93c\", \"#9dd93b\", \"#a0da39\", \"#a2da37\", \"#a5db36\", \"#a8db34\", \"#aadc32\", \"#addc30\", \"#b0dd2f\", \"#b2dd2d\", \"#b5de2b\", \"#b8de29\", \"#bade28\", \"#bddf26\", \"#c0df25\", \"#c2df23\", \"#c5e021\", \"#c8e020\", \"#cae11f\", \"#cde11d\", \"#d0e11c\", \"#d2e21b\", \"#d5e21a\", \"#d8e219\", \"#dae319\", \"#dde318\", \"#dfe318\", \"#e2e418\", \"#e5e419\", \"#e7e419\", \"#eae51a\", \"#ece51b\", \"#efe51c\", \"#f1e51d\", \"#f4e61e\", \"#f6e620\", \"#f8e621\", \"#fbe723\", \"#fde725\"];\n\t        this.viridis = this.interpolateArray(this.viridis_hex);\n\t    }\n\t    BokehPcolourComponent.prototype.ngOnInit = function () {\n\t        this.fig = this.plt.figure({\n\t            title: this.title, tools: this.tools,\n\t            plot_width: this.plot_width, plot_height: this.plot_height\n\t        });\n\t    };\n\t    BokehPcolourComponent.prototype.ngOnChanges = function () {\n\t        this.scatter_data = {\n\t            x: this.scatter_x,\n\t            y: this.scatter_y,\n\t            c: this.old_scatter_c\n\t        };\n\t        this.pcolour_data = {\n\t            x: this.pcolour_x,\n\t            y: this.pcolour_y,\n\t            c: this.old_pcolour_c\n\t        };\n\t        if (this.old_scatter_z != this.scatter_z || this.old_pcolour_z != this.pcolour_z) {\n\t            this.scatter_data.c = this.determineFillColours(this.scatter_z, this.pcolour_z);\n\t            this.pcolour_data.c = this.determineFillColours(this.pcolour_z, this.scatter_z);\n\t            this.old_scatter_z = this.scatter_z;\n\t            this.old_pcolour_z = this.pcolour_z;\n\t            this.old_scatter_c = this.scatter_data.c;\n\t            this.old_pcolour_c = this.pcolour_data.c;\n\t        }\n\t        if (this.scatter_source.data != this.scatter_data) {\n\t            this.scatter_source.data = this.scatter_data;\n\t        }\n\t        if (this.pcolour_source.data != this.pcolour_data) {\n\t            this.pcolour_source.data = this.pcolour_data;\n\t        }\n\t        if (this.fig != null) {\n\t            if (this.fig.width != this.plot_width) {\n\t                this.fig.width = this.plot_width;\n\t            }\n\t            if (this.fig.height != this.plot_height) {\n\t                this.fig.height = this.plot_height;\n\t            }\n\t        }\n\t    };\n\t    BokehPcolourComponent.prototype.ngAfterViewInit = function () {\n\t        this.fig.rect({ field: 'x' }, { field: 'y' }, 0.1, 0.1, {\n\t            source: this.pcolour_source,\n\t            color: { field: 'c' }\n\t        });\n\t        this.fig.circle({ field: 'x' }, { field: 'y' }, {\n\t            source: this.scatter_source,\n\t            size: 15,\n\t            line_color: 'black',\n\t            fill_color: { field: 'c' },\n\t            line_width: 2\n\t        });\n\t        // console.log(Bokeh)\n\t        // console.log(this.fig)\n\t        this.doc.add_root(this.fig);\n\t        Bokeh.embed.add_document_standalone(this.doc, this.bokehplot.nativeElement);\n\t    };\n\t    BokehPcolourComponent.prototype.determineFillColours = function (z1, z2) {\n\t        var allZ = z1.concat(z2);\n\t        var vmin = Math.min.apply(Math, allZ);\n\t        var vmax = Math.max.apply(Math, allZ);\n\t        var vrange = vmax - vmin;\n\t        var colour_scale = [];\n\t        if (vmin == vmax) {\n\t            colour_scale = [0.5];\n\t        }\n\t        else {\n\t            for (var _i = 0, z1_1 = z1; _i < z1_1.length; _i++) {\n\t                var item = z1_1[_i];\n\t                colour_scale.push((item - vmin) / vrange);\n\t            }\n\t        }\n\t        var fill_colour = [];\n\t        for (var _a = 0, colour_scale_1 = colour_scale; _a < colour_scale_1.length; _a++) {\n\t            var item = colour_scale_1[_a];\n\t            fill_colour.push(this.viridis(item));\n\t        }\n\t        return fill_colour;\n\t    };\n\t    BokehPcolourComponent.prototype.hex2rgb = function (hex) {\n\t        return {\n\t            // skip # at position 0\n\t            r: parseInt(hex.slice(1, 3), 16) / 255,\n\t            g: parseInt(hex.slice(3, 5), 16) / 255,\n\t            b: parseInt(hex.slice(5, 7), 16) / 255\n\t        };\n\t    };\n\t    BokehPcolourComponent.prototype.zeroPadHex = function (hexStr) {\n\t        return '00'.slice(hexStr.length) + hexStr;\n\t    };\n\t    BokehPcolourComponent.prototype.rgb2hex = function (rgb) {\n\t        // Map channel triplet into hex color code\n\t        return '#' + [rgb.r, rgb.g, rgb.b]\n\t            .map(function (ch) { return Math.round(ch * 255).toString(16); })\n\t            .map(this.zeroPadHex)\n\t            .join('');\n\t    };\n\t    BokehPcolourComponent.prototype.interpolate = function (a_init, b_init) {\n\t        var _this = this;\n\t        var a = this.hex2rgb(a_init);\n\t        var b = this.hex2rgb(b_init);\n\t        var ar = a.r;\n\t        var ag = a.g;\n\t        var ab = a.b;\n\t        var br = b.r - ar;\n\t        var bg = b.g - ag;\n\t        var bb = b.b - ab;\n\t        return function (t) {\n\t            return _this.rgb2hex({\n\t                r: ar + br * t,\n\t                g: ag + bg * t,\n\t                b: ab + bb * t\n\t            });\n\t        };\n\t    };\n\t    BokehPcolourComponent.prototype.interpolateArray = function (scaleArr) {\n\t        var N = scaleArr.length - 2; // -1 for spacings, -1 for number of interpolate fns\n\t        var intervalWidth = 1 / N;\n\t        var intervals = [];\n\t        for (var i = 0; i <= N; i++) {\n\t            intervals[i] = this.interpolate(scaleArr[i], scaleArr[i + 1]);\n\t        }\n\t        return function (t) {\n\t            if (t < 0 || t > 1)\n\t                throw new Error('Outside the allowed range of [0, 1]');\n\t            var i = Math.floor(t * N);\n\t            var intervalOffset = i * intervalWidth;\n\t            return intervals[i](t / intervalWidth - intervalOffset / intervalWidth);\n\t        };\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], BokehPcolourComponent.prototype, \"title\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], BokehPcolourComponent.prototype, \"plot_width\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], BokehPcolourComponent.prototype, \"plot_height\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehPcolourComponent.prototype, \"scatter_x\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehPcolourComponent.prototype, \"scatter_y\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehPcolourComponent.prototype, \"scatter_z\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehPcolourComponent.prototype, \"pcolour_x\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehPcolourComponent.prototype, \"pcolour_y\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehPcolourComponent.prototype, \"pcolour_z\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], BokehPcolourComponent.prototype, \"enabled\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('bokehplot'), \n\t        __metadata('design:type', Object)\n\t    ], BokehPcolourComponent.prototype, \"bokehplot\", void 0);\n\t    BokehPcolourComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-bokeh-pcolour',\n\t            template: __webpack_require__(187)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], BokehPcolourComponent);\n\t    return BokehPcolourComponent;\n\t}());\n\texports.BokehPcolourComponent = BokehPcolourComponent;\n\n\n/***/ },\n\n/***/ 187:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"bk-root\\\" [style.width]=\\\"plot_width + 'px'\\\" style=\\\"height:400px\\\">\\n  <div #bokehplot></div>\\n</div>\\n\";\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** app.6ffb3dfcadded37df4e0.js\n **/","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { AppModule } from './app/app.module';\n\nif (process.env.ENV === 'production') {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/main.ts\n **/","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { Title } from '@angular/platform-browser';\nimport { NgZone } from '@angular/core';\n// import {MaterialModule} from '@angular/material';\n\nimport { routing } from './app.routing';\n\nimport { MdlModule } from 'angular2-mdl';\n\nimport { AppComponent }  from './app.component';\nimport { PlotComponent } from './plot.component';\nimport { ParameteriseComponent } from './parameterise.component';\nimport { PageNotFoundComponent } from './page-not-found.component';\nimport { WidthLengthTableComponent } from './width-length-table.component';\nimport { JsonInputComponent } from './json-input.component';\nimport { NotYetImplimentedComponent } from './not-yet-implimented.component';\nimport { HomeComponent } from './home.component';\nimport { ModelComponent } from './model.component';\nimport { ExportImportComponent } from './export-import.component';\nimport { SpecificationsComponent } from './specifications.component';\nimport { DicomComponent } from './dicom.component';\nimport { JsonEditComponent } from './json-edit.component';\nimport { SendToParameterisationComponent } from './send-to-parameterisation.component';\nimport { BokehPcolourComponent } from './bokeh-pcolour.component';\n\nimport { MyJsonPipe } from './my-json.pipe'\n\nimport { ElectronApiService } from './electron-api.service';\nimport { DataService } from './data.service';\nimport { TitleService } from './title.service';\n// import { CookieService } from 'angular2-cookie/core';\nimport { LocalStorageService } from './local-storage.service';\n// import {WEB_STORAGE_PROVIDERS} from \"h5webstorage\";\n\n@NgModule({\n  imports: [\n     BrowserModule,\n     FormsModule,\n     HttpModule,\n     MdlModule,\n    //  MaterialModule.forRoot(),\n     routing     \n  ],\n  declarations: [\n    AppComponent,\n    ParameteriseComponent,\n    PlotComponent,\n    PageNotFoundComponent,\n    WidthLengthTableComponent,\n    JsonInputComponent,\n    MyJsonPipe,\n    NotYetImplimentedComponent,\n    HomeComponent,\n    ModelComponent,\n    ExportImportComponent,\n    SpecificationsComponent,\n    DicomComponent,\n    SendToParameterisationComponent,\n    JsonEditComponent,\n    BokehPcolourComponent\n  ],\n  providers: [\n    ElectronApiService,\n    DataService,\n    TitleService,\n    Title,\n    LocalStorageService,\n    // WEB_STORAGE_PROVIDERS\n  ],\n  bootstrap: [\n    AppComponent\n  ]\n})\nexport class AppModule {\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.module.ts\n **/","import { ModuleWithProviders }  from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ParameteriseComponent } from './parameterise.component';\nimport { PageNotFoundComponent } from './page-not-found.component';\nimport { NotYetImplimentedComponent } from './not-yet-implimented.component';\nimport { HomeComponent } from './home.component';\nimport { ModelComponent } from './model.component';\nimport { ExportImportComponent } from './export-import.component';\nimport { SpecificationsComponent } from './specifications.component';\nimport { DicomComponent } from './dicom.component';\n\n\nconst appRoutes: Routes = [\n  {\n    path: 'home',\n    component: HomeComponent,\n    data: {\n      title: 'Home'\n    }\n  },\n  {\n    path: 'export-import',\n    component: ExportImportComponent\n  },\n  {\n    path: 'specifications',\n    component: SpecificationsComponent\n  },\n  {\n    path: 'dicom',\n    component: DicomComponent\n  },\n  {\n    path: 'parameterise',\n    component: ParameteriseComponent\n  },\n  {\n    path: 'model',\n    component: ModelComponent\n  },\n  {\n    path: '',\n    component: HomeComponent\n  },\n  {\n    path: '**', component: PageNotFoundComponent\n  }\n];\n\nexport const appRoutingProviders: any[] = [\n\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes);\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.routing.ts\n **/","import { Component, OnInit, Input, ViewChild } from '@angular/core';\n\nimport { Parameterisation } from './parameterisation';\nimport { InsertData } from './insert-data';\n\n// import { CookieService } from 'angular2-cookie/core';\nimport { ElectronApiService } from './electron-api.service';\nimport { DataService } from './data.service';\nimport { TitleService } from './title.service';\n// import { LocalStorageService } from './local-storage.service';\n\nimport { DEMO_PARAMETERISE_INPUT } from './demo-data';\n\n@Component({\n  selector: 'my-parameterise',\n  template: require('./parameterise.component.html'),\n})\nexport class ParameteriseComponent implements OnInit {\n  parameterisation: Parameterisation = {\n    insert: {\n      x: [0],\n      y: [0]\n    },\n    width: null,\n    length: null,\n    circle: null,\n    ellipse: null\n  };\n  machineSpecifications: {};\n\n  @ViewChild('jsonInput') jsonInputComponent: any;\n\n  jsonValid: boolean = true;\n\n  serverResponseValid: boolean = true;\n  serverErrorMessage: string;\n\n  dataInFlight: boolean = false;\n\n  submitDisabled: boolean = false;\n\n  refreshJsonInput: boolean = false;\n\n  parameteriseURL: string;\n\n  insertData: InsertData = {\n    machine: null,\n    parameterisation: this.parameterisation,\n    energy: null,\n    applicator: null,\n    ssd: null\n  }\n\n  machineExists: boolean = false;\n  machineSettingsExist: boolean = false;\n  modelExists: boolean = false;\n\n  R50: number;\n\n  constructor(\n    private electronApiService: ElectronApiService,\n    private dataService: DataService,\n    private myTitleService: TitleService\n  ) { }\n\n  ngOnInit() {\n    this.getData();\n    this.myTitleService.setTitle('Parameterisation');\n\n    this.parameteriseURL = localStorage.getItem(\"parameteriseURL\")\n    if (this.parameteriseURL == null) {\n      this.parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n    }\n    this.machineSpecifications = JSON.parse(localStorage.getItem(\"specifications\"));\n    if (this.machineSpecifications == null) {\n      this.machineSpecifications = {};\n    }\n    this.checkMachineSettings()\n  }\n\n  getData(): void {\n    let localStorageInsertDataString = localStorage['last_insertData'];\n    \n    if (localStorageInsertDataString) {\n      this.insertData = JSON.parse(localStorageInsertDataString);\n      let insert = this.insertData['parameterisation']['insert']\n      this.insertUpdated(insert);\n      this.insertData['parameterisation'] = this.parameterisation;\n    }\n    else {\n      this.loadDemoData();\n    }\n  }\n\n  loadDemoData(): void {\n    let demoData = JSON.parse(JSON.stringify(DEMO_PARAMETERISE_INPUT));\n    this.insertUpdated(demoData.insert);\n    this.jsonInputComponent.refresh = true;\n    this.insertData =  {\n      machine: null,\n      parameterisation: this.parameterisation,\n      energy: null,\n      applicator: null,\n      ssd: null\n    }\n  }\n\n  sleep(time: number) {\n    return new Promise((resolve) => setTimeout(resolve, time));\n  }\n\n  recursiveServerSubmit() {\n    this.electronApiService.sendToServer(\n      this.parameteriseURL,\n      JSON.stringify(this.parameterisation.insert)\n    )\n      .then((parameterisationResult: any) => {\n        this.parameterisation.circle = parameterisationResult.circle;\n        this.parameterisation.ellipse = parameterisationResult.ellipse;\n        this.parameterisation.width = parameterisationResult.width;\n        this.parameterisation.length = parameterisationResult.length;\n        let complete = parameterisationResult.complete;\n        if (complete) {\n          this.dataInFlight = false;\n          this.serverResponseValid = true;\n          this.checkSubmitButton()\n          localStorage.setItem(\n            JSON.stringify(this.parameterisation.insert), \n            JSON.stringify(this.parameterisation)\n          );\n          this.insertData['parameterisation'] = this.parameterisation\n          localStorage.setItem(\n            \"last_insertData\", JSON.stringify(this.insertData)\n          );\n        }\n        else {\n          this.sleep(500).then(() => this.recursiveServerSubmit());\n        }\n      })\n  }\n\n  checkMachineSettings() {\n    this.R50 = null;\n    let machine = this.insertData['machine'];\n    let energy = this.insertData['energy'];\n    let applicator = this.insertData['applicator'];\n    let ssd = this.insertData['ssd'];\n    if (this.machineSpecifications[machine]) {\n      let specifications = this.machineSpecifications[machine];\n      this.R50 = specifications['R50'][energy];\n      if (\n        specifications['energy'].indexOf(Number(energy)) > -1 && \n        specifications['applicator'].indexOf(String(applicator)) > -1 && \n        specifications['ssd'].indexOf(Number(ssd)) > -1) {\n          this.machineSettingsExist = true;\n      }\n      else {\n        this.machineSettingsExist = false;\n      }\n      this.machineExists = true;\n    }\n    else {\n      this.machineExists = false;\n      this.machineSettingsExist = false;\n      this.modelExists = false;\n    }\n  }\n\n  insertDataChange() {\n    localStorage.setItem(\n      \"last_insertData\", JSON.stringify(this.insertData)\n    );\n    this.checkMachineSettings()\n  }\n\n  onSubmit() {\n    this.dataInFlight = true;\n    this.checkSubmitButton();\n    this.recursiveServerSubmit();\n  }\n\n  insertDataFromLocalStorage(localStorageInsertData: string) {\n\n  }\n\n  parameterisationFromLocalStorage(localStorageParameterisationString: string) {\n    let localStorageParameterisation = JSON.parse(localStorageParameterisationString); \n    this.parameterisation.insert = localStorageParameterisation['insert'];\n    this.parameterisation.width = localStorageParameterisation['width'];\n    this.parameterisation.length = localStorageParameterisation['length'];\n    this.parameterisation.circle = localStorageParameterisation['circle'];\n    this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n  }\n\n  insertUpdated(insert: any) {\n    let localStorageParameterisation = localStorage.getItem(JSON.stringify(insert))\n    if (localStorageParameterisation) {\n      this.parameterisationFromLocalStorage(localStorageParameterisation);\n    }\n    else {\n      this.parameterisation.insert = insert;\n      this.parameterisation.width = null;\n      this.parameterisation.length = null;\n      this.parameterisation.circle = null;\n      this.parameterisation.ellipse = null;\n    }\n  }\n\n  onJsonStatusChange(jsonStatus: boolean) {\n    this.jsonValid = jsonStatus;\n    this.checkSubmitButton();\n  }\n\n  checkSubmitButton() {\n    if (this.dataInFlight || !this.jsonValid ) {\n      this.submitDisabled = true;\n    }\n    else {\n      this.submitDisabled = false;\n    }\n  }\n\n  parameterisationServerChange(serverUrl: string) {\n    localStorage.setItem(\"parameteriseURL\", serverUrl);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/parameterise.component.ts\n **/","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class ElectronApiService {\n  // private parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n  // private modelURL = 'http://electronapi.simonbiggs.net/model';\n  private wakeUpURL = 'http://electronapi.simonbiggs.net/wakeup';\n\n  constructor(private http: Http) { }\n  // Initial get from server to wake it up\n  wakeUpServer() {\n    return this.http\n      .get(this.wakeUpURL).toPromise();\n  }\n\n  sendToServer(URL:string, input: string): Promise<any> {\n    return this.http\n            .post(URL, input)\n            .toPromise()\n            .then((res) => {\n              let nan: number = null;\n              return res.json()})\n            .catch(this.handleError);\n  }\n\n  private handleError(error: any) {\n    console.error('An error occurred', error);\n    return Promise.reject(error.message || error);\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/electron-api.service.ts\n **/","import { Injectable } from '@angular/core';\nimport { Parameterisation } from './parameterisation'\n\nimport { DEMO_PARAMETERISE_INPUT } from './demo-data';\n// import { DEMO_MODEL_INPUT } from './demo-data';\n\n@Injectable()\nexport class DataService {\n    getParameterisationData(): Promise<Parameterisation> {\n        return Promise.resolve(DEMO_PARAMETERISE_INPUT);\n    };\n    // getModelData(): Promise<string> {\n    //     return Promise.resolve(DEMO_MODEL_INPUT);\n    // }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/data.service.ts\n **/","import { Parameterisation } from './parameterisation';\nimport { Coordinates } from './coordinates';\n\nconst insert: Coordinates = {\n  x: [\n    0.99, -0.14, -1.0, -1.73, -2.56, -3.17, -3.49,\n    -3.57, -3.17, -2.52, -1.76, -1.04, -0.17,\n    0.77, 1.63, 2.36, 2.79, 2.91, 3.04, 3.22,\n    3.34, 3.37, 3.08, 2.54, 1.88, 1.02, 0.99],\n  y: [\n    5.05, 4.98, 4.42, 3.24, 1.68, 0.6, -0.64,\n    -1.48, -2.38, -3.77, -4.81,  -5.26, -5.51,\n    -5.58, -5.23, -4.64, -3.77, -2.77, -1.68,\n    -0.29, 1.23, 2.68, 3.8, 4.6, 5.01, 5.08, \n    5.05]\n}\n\nexport const DEMO_PARAMETERISE_INPUT: Parameterisation = {\n  insert: insert,\n  circle: null,\n  ellipse: null,\n  width: null,\n  length: null\n};\n  \n// export const DEMO_MODEL_INPUT: string =`{\n//   \"width\": [\n//     3.15, 3.16, 3.17, 3.17, 3.17, 3.55, 3.66, \n//     3.71, 4.2, 4.21, 4.21, 4.21, 4.21, 4.38, \n//     4.48, 4.59, 4.59, 4.67, 5.21, 5.25, 5.26,\n//     5.26, 5.26, 5.34, 5.43, 5.72, 5.86, 6, 6.04,\n//     6.08, 6.3, 6.31, 6.41, 6.53, 6.54, 6.64, 6.78,\n//     6.9, 7.08, 7.18, 7.21, 7.36, 7.56, 7.6, 7.64,\n//     7.82, 8.06, 8.4, 9.45], \n//   \"length\": [\n//     3.16, 5.25, 13.64, 6.83, 9.43, 7.7, 5.04, \n//     4.36, 4.21, 10.51, 13.65, 6.82, 8.41, 5.47, \n//     7.29, 5.67, 6.54, 6.28, 11.4, 5.26, 10.52, \n//     13.66, 8.41, 9.64, 11.02, 11.6, 8.62, 7.98,\n//     9.22, 6.64, 6.33, 8.24, 8.69, 10.99, 8.41, \n//     9.81, 10.98, 10.25, 10.77, 11.27, 9.03, 7.37,\n//     10.05, 10.26, 8.99, 10.85, 11.85, 8.42, 9.47],\n//   \"factor\": [\n//     0.9294, 0.9346, 0.9533, 0.9488, 0.9488, \n//     0.9443, 0.9434, 0.9488, 0.956, 0.9709, 0.9756,\n//     0.9606, 0.9709, 0.9634, 0.9606, 0.9588,\n//     0.9681, 0.9737, 0.9881, 0.9709, 0.9881,\n//     0.9872, 0.9833, 0.993, 0.9872, 0.999, 0.9891,\n//     0.9911, 0.999, 0.993, 0.9862, 0.9921, 0.999,\n//     1, 0.993, 0.999, 1.007, 0.999, 1.005, 0.999,\n//     1.0101, 1.003, 1.004, 1.0142, 1.003, 1.002,\n//     1.007, 1.007, 1.0081]\n// }`\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/demo-data.ts\n **/","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class TitleService {\n  title = 'Home';\n\n  getTitle(): string {\n    return this.title;\n  }\n\n  setTitle(title: string) {\n    this.title = title;\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/title.service.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet\\\">\\n    <h4>Equivalent ellipse parameterisation</h4>\\n    <p>Provide basic instructions here.</p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\"\\n    style=\\\"display: flex; align-items: center; flex-flow: row wrap;\\\">\\n    <my-plot \\n      [insert]=\\\"parameterisation.insert\\\"\\n      [circle]=\\\"parameterisation.circle\\\"\\n      [ellipse]=\\\"parameterisation.ellipse\\\"\\n      [enabled]=\\\"jsonValid\\\">\\n    </my-plot>\\n\\n    <div style=\\\"width:100%; height:30px\\\"></div>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"submitDisabled\\\"\\n      (click)=\\\"onSubmit()\\\">Parameterise Insert          \\n    </button>\\n\\n    <div style=\\\"height:20px; width:20px;\\\"></div>\\n\\n    <my-width-length-table\\n      [width]=\\\"parameterisation.width\\\"\\n      [length]=\\\"parameterisation.length\\\"\\n      [enabled]=\\\"jsonValid\\\">\\n    </my-width-length-table>\\n\\n    <div [hidden]=\\\"serverResponseValid\\\">\\n      {{serverErrorMessage}}\\n    </div>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\"\\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"true\\\"\\n      (click)=\\\"null\\\">Predict Factor with Model        \\n    </button>\\n\\n    <div style=\\\"height:20px; width:20px;\\\"></div>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"!machineSettingsExist || measuredFactor.value==null || measuredFactor.value==''\\\"\\n      (click)=\\\"null\\\">Add Measured Factor to Model            \\n    </button>\\n\\n    <p *ngIf=\\\"!machineExists\\\">\\n      This machine ID does not exist within your provided machine specifications.\\n    </p>\\n\\n    <p *ngIf=\\\"!machineSettingsExist\\\">\\n      These specific machine settings do not exist within your provided machine specifications.\\n    </p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Machine (ID)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.machine\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Energy (Nominal)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.energy\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"R50 Beam Quality (cm)\\\"\\n      floating-label\\n      [value]=\\\"R50\\\"\\n      [disabled]=\\\"true\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Applicator (ID)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.applicator\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"SSD (cm)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.ssd\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-textfield #measuredFactor\\n      type=\\\"text\\\"\\n      label=\\\"Measured Factor\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.factor\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Predicted Factor\\\"\\n      floating-label\\n      [disabled]=true\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n  </div>\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n    <p>Change the following address to use your own\\n      parameterisation server. The default is: <br>\\n      <a>http://electronapi.simonbiggs.net/parameterise</a>       \\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Parameterisation Server Address\\\"\\n      (input)=\\\"parameterisationServerChange($event.target.value)\\\"\\n      floating-label\\n      [(ngModel)]=\\\"parameteriseURL\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet\\\">\\n    <h5>Edit raw coordinates</h5>\\n    <my-json-input #jsonInput\\n      [insert]=\\\"parameterisation.insert\\\"\\n      [jsonDisabled]=\\\"dataInFlight\\\"\\n      (insertUpdated)=\\\"insertUpdated($event)\\\"\\n      (jsonStatus)=\\\"onJsonStatusChange($event)\\\">\\n    </my-json-input>\\n  </div>\\n\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/parameterise.component.html\n ** module id = 64\n ** module chunks = 0\n **/","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-page-not-found',\n  template: require('./page-not-found.component.html')\n})\nexport class PageNotFoundComponent {\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/page-not-found.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    This page has not been found. Please provide feedback ...\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/page-not-found.component.html\n ** module id = 66\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\nimport { LocalStorageService } from './local-storage.service';\n\n\n@Component({\n  selector: 'my-home',\n  template: require('./home.component.html')\n})\nexport class HomeComponent implements OnInit {\n  testLocalStorage: boolean;\n  usedLocalStorageSpace: number;\n  remainingLocalStorageSpace: number;\n\n\n  constructor(\n    private myTitleService: TitleService,\n    private myLocalStorageService: LocalStorageService\n  ) {}\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Home');\n    this.testLocalStorage = this.myLocalStorageService.isSupported;\n    this.usedLocalStorageSpace = this.myLocalStorageService.getUsedSpace();\n  }\n\n  testRemainingStorage() {\n    this.remainingLocalStorageSpace = this.myLocalStorageService.getRemainingSpace()\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/home.component.ts\n **/","import { Injectable } from '@angular/core';\nimport { LocalStorage } from './localstoragemodule';\n\n@Injectable()\nexport class LocalStorageService {\n  isSupported = LocalStorage.isSupported;\n  hasItem = LocalStorage.hasItem;\n  getRemainingSpace = LocalStorage.getRemainingSpace;\n  getMaximumSpace = LocalStorage.getMaximumSpace;\n  getUsedSpace = LocalStorage.getUsedSpace;\n  getItemUsedSpace = LocalStorage.getItemUsedSpace;\n  getBackup = LocalStorage.getBackup;\n  applyBackup = LocalStorage.applyBackup;\n  consoleInfo = LocalStorage.consoleInfo;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/local-storage.service.ts\n **/","/**\n * Check if localStorage is supported                       const isSupported: boolean\n * Check if localStorage has an Item                        function hasItem(key: string): boolean\n * Get the amount of space left in localStorage             function getRemainingSpace(): number\n * Get the maximum amount of space in localStorage          function getMaximumSpace(): number\n * Get the used space in localStorage                       function getUsedSpace(): number\n * Get the used space of an item in localStorage            function getItemUsedSpace(): number\n * Backup Assosiative Array                                 interface Backup\n * Get a Backup of localStorage                             function getBackup(): Backup\n * Apply a Backup to localStorage                           function applyBackup(backup: Backup, fClear: boolean = true, fOverwriteExisting: boolean = true)\n * Dump all information of localStorage in the console      function consoleInfo(fShowMaximumSize: boolean = false)\n */\nexport module LocalStorage {\n    // Copied from https://gist.github.com/CodeiSir/1fb8bd9154dfde7eb0c7\n    // found from http://stackoverflow.com/a/34245594\n    \n    /**\n     * Flag set true if the Browser supports localStorage, widthout affecting it\n     */\n    export const isSupported: boolean = (() => {\n        try {\n            let itemBackup = localStorage.getItem(\"\")\n            localStorage.removeItem(\"\");\n            localStorage.setItem(\"\", itemBackup);\n            if (itemBackup === null) localStorage.removeItem(\"\")\n            else localStorage.setItem(\"\", itemBackup)\n            return true;\n        } catch (e) {\n            return false;\n        }\n    })()\n\n    /**\n     * Check if localStorage has an Item / exists with the give key\n     * @param key the key of the Item\n     */\n    export function hasItem(key: string): boolean {\n        return localStorage.getItem(key) !== null\n    }\n\n    /**\n     * This will return the left space in localStorage without affecting it's content\n     * Might be slow !!!\n     */\n    export function getRemainingSpace(): number {\n        let itemBackup = localStorage.getItem(\"\")\n        let increase = true\n        let data = \"1\"\n        let totalData = \"\"\n        let trytotalData = \"\"\n        while (true) {\n            try {\n                trytotalData = totalData + data\n                localStorage.setItem(\"\", trytotalData);\n                totalData = trytotalData;\n                if (increase) data += data\n            } catch (e) {\n                if (data.length < 2) {\n                    break;\n                }\n                increase = false\n                data = data.substr(data.length / 2)\n            }\n        }\n        if (itemBackup === null) localStorage.removeItem(\"\")\n        else localStorage.setItem(\"\", itemBackup)\n\n        return totalData.length\n    }\n\n    /**\n     * This function returns the maximum size of localStorage without affecting it's content\n     * Might be slow !!!\n     */\n    export function getMaximumSpace(): number {\n        let backup = getBackup()\n        localStorage.clear()\n        let max = getRemainingSpace()\n        applyBackup(backup)\n        return max\n    }\n\n    /**\n     * This will return the currently used size of localStorage\n     */\n    export function getUsedSpace(): number {\n        let sum = 0\n\n        for (let i = 0; i < localStorage.length; ++i) {\n            let key = localStorage.key(i)\n            let value = localStorage.getItem(key)\n            sum += key.length + value.length\n        }\n\n        return sum\n    }\n\n    /**\n     * This will return the currently used size of a given Item, returns NaN if key is not found\n     * @param key\n     */\n    export function getItemUsedSpace(key: string): number {\n        let value = localStorage.getItem(key)\n        if (value === null) {\n            return NaN\n        } else {\n            return key.length + value.length\n        }\n    }\n\n    /** \n     * Associative-array for localStorage holding key->value \n     */\n    export interface Backup {\n        [index: string]: string\n    }\n\n    /**\n     * This will return a localStorage-backup (Associative-Array key->value)\n     */\n    export function getBackup(): Backup {\n        let backup: Backup = {}\n\n        for (let i = 0; i < localStorage.length; ++i) {\n            let key = localStorage.key(i)\n            let value = localStorage.getItem(key)\n            backup[key] = value\n        }\n\n        return backup\n    }\n\n    /**\n     * This will apply a localStorage-Backup (Associative-Array key->value)\n     * @param backup            associative-array \n     * @param fClear             optional flag to clear all existing storage first. Default: true\n     * @param fOverwriteExisting optional flag to replace existing keys. Default: true\n     */\n    export function applyBackup(backup: Backup, fClear: boolean = true, fOverwriteExisting: boolean = true) {\n        if (fClear == true) {\n            localStorage.clear()\n        }\n\n        for (let key in backup) {\n            if (fOverwriteExisting === false && backup[key] !== undefined) {\n                continue\n            }\n            let value = backup[key]\n            localStorage.setItem(key, value)\n        }\n    }\n\n    /**\n     * This functions dumps all keys and values of the local Storage to the console,\n     * as well as the current size and number of items\n     * @param fShowMaximumSize optional, flag show maximum size of localStorage. Default: false\n     */\n    export function consoleInfo(fShowMaximumSize: boolean = false) {\n        let amount = 0\n        let size = 0\n\n        for (let i = 0; i < localStorage.length; ++i) {\n            let key = localStorage.key(i)\n            let value = localStorage.getItem(key);\n            console.log(amount, key, value)\n            size += key.length + value.length\n            amount++\n        }\n        console.log(\"Total entries:\", amount)\n        console.log(\"Total size:\", size)\n        if (fShowMaximumSize === true) {\n            let maxSize = getMaximumSpace()\n            console.log(\"Total size:\", maxSize)\n        }\n    }\n}\n/*\n    // Example\n    console.log(\"LocalStorage supported:\", LocalStorage.isSupported)// true - I hope so anyways \n    localStorage.setItem(\"asd\", \"ASDASD\")                           // sets / overwrites the item \"asd\"\n    localStorage.setItem(\"asd\" + Math.random(), \"ASDASD\")           // set another item each time you refresh the page\n    var backup = LocalStorage.getBackup()                           // creates a backup, we will need it later!\n    console.log(JSON.stringify(backup))                             // this is how the backup looks like\n    var usedSpace = LocalStorage.getUsedSpace()                     // amount of space used right now\n    console.log(\"Used Space:\", usedSpace)                \n    var maxSpace = LocalStorage.getMaximumSpace()                   // amount of maximum space aviable\n    console.log(\"Maximum Space:\", maxSpace)             \n    var remSpace = LocalStorage.getRemainingSpace()                 // amount of remaining space\n    console.log(\"Remaining Space:\", remSpace)\n    console.log(\"SpaceCheck\", maxSpace === usedSpace + remSpace)    // true\n    console.log(\"hasItem\", LocalStorage.hasItem(\"nothis0ne\"))       // we don't have this one in our localStorage\n    localStorage.clear()                                            // oops, we deleted the localStorage!\n    console.log(\"has asd\",LocalStorage.hasItem(\"asd\"))              // item asd is lost \n    LocalStorage.applyBackup(backup)                                // but we have a backup, restore it!\n    LocalStorage.consoleInfo()                                      // show all the info we have, see the backup worked \n*/\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/localstoragemodule.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <h4>Description</h4>\\n    <p>\\n      This online web app is for the modelling of the portion of the electron output factor that is dependent on the shape of the shielding insert mounted within the applicator. This allows modelling insert factors using only the measured factors already available at a centre. Should all outliers be removed from the data set the user might expect as low as 0.5% standard uncertainty for factor prediction with as little as 8 data points.\\n    </p>\\n\\n\\n    <p>If you have any issues or feedback please contact me at <a href=\\\"mailto:mail@simonbiggs.net\\\">mail@simonbiggs.net</a>.</p>\\n\\n    <h4>Disclaimer</h4>\\n    <p>\\n      Any use of this web app or any of its code has you accepting the AGPL3+ license which includes no warranty that this code is fit for a particular purpose. Attempts have been made to make the code transparent and it is recommended that an experienced python programmer and physicist who understands the procedure outlined in the paper and the requirements of your centre identifies whether or not this method and code is fit for your use.</p>\\n\\n    <h4>Paper</h4>\\n    <p>The paper outlining this method:</p>\\n    <p>\\n      S. Biggs, M. Sobolewski, R. Murry, J. Kenny, Spline modelling electron insert factors using routine measurements. Physica Medica (2015), <a href=\\\"http://dx.doi.org/10.1016/j.ejmp.2015.11.002\\\">doi:10.1016/j.ejmp.2015.11.002</a>.\\n    </p>\\n\\n    <h4>Detailed instructions</h4>\\n    <p>Yet to be written</p>\\n\\n    <h4>Steps required to freeze your own version of this web app</h4>\\n      As I make improvements to this web app I will be updating this online version. \\n      You may desire to not have the web app you are using day to day change on you.\\n      To achieve this you can create your own version of the server and your own version of the web app.\\n      \\n      For now this will require a bit of your own working out until I provide further instructions.\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n\\n    <h4>Source code</h4>\\n    <p>\\n      For the purpose of coding transparency and to enable the user to take responsibility for the code themselves any redistribution\\n      or derivative works of this web app need to include the source code of any additions made and need to include a way\\n      for users to easily access the source code of each of the components used or linked to.\\n    </p>\\n\\n    <h5>Server Code</h5>\\n\\n    <h6>Base Electron Insert Factor Source Code</h6>\\n    <p>\\n      The python file which does the shape parameterisation and insert factor modelling which is used by the server is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py</a>\\n    </p>\\n\\n    <h6>Tornado REST API</h6>\\n    <p>\\n      The Tornado REST API is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py</a>\\n    </p>\\n\\n    <h6>Heroku App code</h6>\\n    <p>\\n      The code to make the heroku app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server\\\">\\n              https://github.com/SimonBiggs/electronfactor-server</a>\\n    </p>\\n\\n    <h5>Web App Code</h5>\\n    <p>\\n      The source code for this web app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp\\\">\\n            https://github.com/SimonBiggs/electroninserts-webapp</a>\\n    </p>\\n\\n    <h5>Libraries used</h5>\\n    <h6>Bokehjs</h6>\\n    <p>\\n      The bokehjs library is used for plots. Documentation can be found here:\\n      <a href=\\\"http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs\\\">\\n              http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/bokeh/bokeh/tree/master/bokehjs\\\">\\n              https://github.com/bokeh/bokeh/tree/master/bokehjs</a>\\n    </p>\\n\\n    <h6>dcmjs</h6>\\n    <p>\\n      The dcmjs library is used for reading dicom files within javascript. Website can be found here:\\n      <a href=\\\"http://dcmjs.org/\\\">\\n              http://dcmjs.org/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/commontk/dcmjs\\\">\\n              https://github.com/commontk/dcmjs</a>\\n    </p>\\n\\n    <h6>Angular2</h6>\\n    <p>\\n      This interface was built using Angular2. Documentation can be found here:\\n      <a href=\\\"https://angular.io/docs/ts/latest/\\\">\\n              https://angular.io/docs/ts/latest/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/angular/angular\\\">\\n              https://github.com/angular/angular</a>\\n    </p>\\n    <h6>Remaining libraries</h6>\\n    <p>\\n      For all remaining libraries used please see the npm package.json file:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json</a>\\n    </p>\\n    <p>\\n      And the index file for various imports:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html</a>\\n    </p>\\n  </div>\\n\\n\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/home.component.html\n ** module id = 70\n ** module chunks = 0\n **/","import { Component, OnInit, NgZone, ViewChild } from '@angular/core';\n\nimport { TitleService } from './title.service'\nimport { ElectronApiService } from './electron-api.service';\n\n@Component({\n  selector: 'my-model',\n  template: require('./model.component.html')\n})\nexport class ModelComponent implements OnInit {\n  modelData = {\n      measurement: {\n        width: [    \n          3.15, 3.16, 3.17, 3.17, 3.17, 3.55, 3.66, 3.71, 4.2, 4.21, \n          4.21, 4.21, 4.21, 4.38, 4.48, 4.59, 4.59, 4.67, 5.21, 5.25,\n          5.26, 5.26, 5.26, 5.34, 5.43, 5.72, 5.86, 6, 6.04, 6.08, 6.3,\n          6.31, 6.41, 6.53, 6.54, 6.64, 6.78, 6.9, 7.08, 7.18, 7.21, 7.36, \n          7.56, 7.6, 7.64, 7.82, 8.06, 8.4, 9.45],\n        length: [\n          3.16, 5.25, 13.64, 6.83, 9.43, 7.7, 5.04, 4.36, 4.21, 10.51, \n          13.65, 6.82, 8.41, 5.47, 7.29, 5.67, 6.54, 6.28, 11.4, 5.26, \n          10.52, 13.66, 8.41, 9.64, 11.02, 11.6, 8.62, 7.98, 9.22, 6.64, \n          6.33, 8.24, 8.69, 10.99, 8.41, 9.81, 10.98, 10.25, 10.77, 11.27, \n          9.03, 7.37, 10.05, 10.26, 8.99, 10.85, 11.85, 8.42, 9.47],\n        factor: [\n          0.9294, 0.9346, 0.9533, 0.9488, 0.9488, 0.9443, 0.9434, 0.9488, \n          0.956, 0.9709, 0.9756, 0.9606, 0.9709, 0.9634, 0.9606, 0.9588, 0.9681, \n          0.9737, 0.9881, 0.9709, 0.9881, 0.9872, 0.9833, 0.993, 0.9872, 0.999, \n          0.9891, 0.9911, 0.999, 0.993, 0.9862, 0.9921, 0.999, 1, 0.993, 0.999, \n          1.007, 0.999, 1.005, 0.999, 1.0101, 1.003, 1.004, 1.0142, 1.003, 1.002, \n          1.007, 1.007, 1.0081],\n      },\n      model: {\n        width: <number[]> [],\n        length: <number[]> [],\n        factor: <number[]> []\n      }\n  };\n\n  modelURL: string;\n  plot_width = 600;\n\n  @ViewChild('plotContainer') plotContainer: any;\n\n  constructor(\n    private myTitleService: TitleService,\n    private electronApiService: ElectronApiService,\n    ngZone: NgZone\n  ) {\n    window.onresize = (e) =>\n    {\n        ngZone.run(() => {\n            this.plot_width = this.plotContainer.nativeElement.clientWidth;\n        });\n    };\n  }\n \n  ngOnInit() {\n    this.myTitleService.setTitle('Model');\n\n    this.modelURL = localStorage.getItem(\"modelURL\")\n    if (this.modelURL == null) {\n      this.modelURL = 'http://electronapi.simonbiggs.net/model';\n    }\n    this.plot_width = this.plotContainer.nativeElement.clientWidth;\n  }\n\n  basicServerSubmit() {\n    this.electronApiService.sendToServer(\n      this.modelURL,\n      JSON.stringify(this.modelData.measurement)\n    )\n      .then((modelResult: any) => {\n        this.modelData.model.width = modelResult.model_width;\n        this.modelData.model.length = modelResult.model_length;\n        this.modelData.model.factor = modelResult.model_factor;\n      })\n  }\n\n  jsonInputUpdated(jsonInput: any) {\n    this.modelData = jsonInput;\n  }\n\n  modelServerChange(newModelURL: string) {\n    localStorage.setItem(\"modelURL\", newModelURL);\n  }\n\n  defaultServer() {\n    this.modelURL = 'http://electronapi.simonbiggs.net/model';\n    localStorage.setItem(\"modelURL\", this.modelURL);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/model.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\" #plotContainer>\\n    <my-bokeh-pcolour\\n      [title]=\\\"'Model Plot'\\\"\\n      [scatter_x]=\\\"modelData.measurement.width\\\"\\n      [scatter_y]=\\\"modelData.measurement.length\\\"\\n      [scatter_z]=\\\"modelData.measurement.factor\\\"\\n      [pcolour_x]=\\\"modelData.model.width\\\"\\n      [pcolour_y]=\\\"modelData.model.length\\\"\\n      [pcolour_z]=\\\"modelData.model.factor\\\"\\n      [plot_width]=\\\"plot_width\\\"\\n      [plot_height]=\\\"380\\\">\\n    </my-bokeh-pcolour>\\n      \\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"false\\\"\\n      (click)=\\\"basicServerSubmit()\\\">Run Spline Model          \\n    </button>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n    <p>Change the following address to use your own\\n      spline modelling server. The default is: <br>\\n      <a (click)=\\\"defaultServer()\\\">http://electronapi.simonbiggs.net/model</a>        \\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Spline model server address\\\"\\n      (input)=\\\"modelServerChange($event.target.value)\\\"\\n      floating-label\\n      [(ngModel)]=\\\"modelURL\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <h5>Edit raw model data</h5>\\n    <my-json-edit\\n      [input]=\\\"modelData\\\"\\n      (inputUpdated)=\\\"jsonInputUpdated($event)\\\"\\n      buttonText=\\\"Update Model Data\\\"\\n      useMyJsonPipe=\\\"true\\\">\\n    </my-json-edit>\\n  </div>\\n\\n\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/model.component.html\n ** module id = 72\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\nimport { LocalStorageService } from './local-storage.service';\n\n@Component({\n  selector: 'my-export-import',\n  template: require('./export-import.component.html')\n})\nexport class ExportImportComponent implements OnInit {\n  testLocalStorage: boolean;\n  usedLocalStorageSpace: number;\n  remainingLocalStorageSpace: number;\n\n  constructor(\n    private myTitleService: TitleService,\n    private myLocalStorageService: LocalStorageService\n  ) {}\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Export / Import');\n    this.testLocalStorage = this.myLocalStorageService.isSupported;\n    this.usedLocalStorageSpace = this.myLocalStorageService.getUsedSpace();\n  }\n\n  testRemainingStorage() {\n    this.remainingLocalStorageSpace = this.myLocalStorageService.getRemainingSpace()\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/export-import.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <h4>Local storage tests</h4>\\n    <p></p>\\n\\n    <div *ngIf=\\\"testLocalStorage\\\">\\n      <p>Your browser supports local storage. You currently have {{usedLocalStorageSpace}} B of used space. Most browsers support\\n        5 MB.\\n      </p>\\n\\n      <p>To check your remaining storage press the button below. Warning, this might be slow.</p>\\n      <button mdl-button mdl-button-type=\\\"raised\\\" mdl-colored=\\\"primary\\\" mdl-ripple (click)=\\\"testRemainingStorage()\\\">Test remaining local storage           \\n      </button>\\n      <div *ngIf=\\\"remainingLocalStorageSpace\\\">\\n        <p>You have {{remainingLocalStorageSpace}} B of local storage remaining which is available for use by this webapp.</p>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"!testLocalStorage\\\">\\n      <p>\\n        This webapp relies upon local storage working within your browser. Your browser does not support local storage. Please download\\n        and use a modern standards compliant browser such as\\n        <a href=\\\"https://www.google.com.au/chrome/browser/desktop/\\\">Chrome</a> or\\n        <a href=\\\"https://www.mozilla.org/en-GB/firefox/new/\\\">Firefox</a> to use this webapp.\\n      </p>\\n    </div>\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/export-import.component.html\n ** module id = 74\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\n\n@Component({\n  selector: 'my-specifications',\n  template: require('./specifications.component.html')\n})\nexport class SpecificationsComponent implements OnInit {\n  machines: string[];\n  specifications = {};\n  currentMachine: string;\n\n  newMachineID: string;\n  newMachineIDValid: boolean = false;\n  newModel: string;\n  newModelValid: boolean = false;\n  newMachineValid: boolean = false;\n  edittingMachine: string = null;\n\n  newEnergy: number;\n  newEnergyValid: boolean = false;\n  newR50: number;\n  newR50Valid: boolean = false;\n  newEnergySetValid: boolean = false;\n  edittingEnergy: string = null;\n\n  newApplicator: string;\n  newApplicatorValid: boolean = false;\n  edittingApplicator: string = null;\n\n  newSSD: number;\n  newSSDValid: boolean = false;\n  edittingSSD: string = null;\n\n\n  constructor(\n    private myTitleService: TitleService\n  ) {}\n\n  changeCurrentMachine(machine: string) {\n    this.currentMachine = machine;\n    this.updateCurrentMachine()\n  }\n\n  checkNewMachineIDInput() {\n    if (this.specifications[this.newMachineID] == null && this.newMachineID != null && this.newMachineID != \"\") {\n      this.newMachineIDValid = true;\n    }\n    else {\n      this.newMachineIDValid = false;\n    }\n\n    this.checkNewMachineValid()\n  }\n\n  checkNewModelInput() {\n    if (this.newModel != null && this.newModel != \"\") {\n      this.newModelValid = true;\n    }\n    else {\n      this.newModelValid = false;\n    }\n\n    this.checkNewMachineValid()\n  }\n\n  checkNewMachineValid() {\n    this.newMachineValid = (this.newMachineIDValid && this.newModelValid);\n  }\n\n  addMachineID() {\n    if (this.newMachineValid) {\n      this.machines.push(this.newMachineID);\n      this.specifications[this.newMachineID] = {};\n      this.specifications[this.newMachineID][\"model\"] = this.newModel;\n      this.specifications[this.newMachineID][\"energy\"] = [];\n      this.specifications[this.newMachineID][\"R50\"] = {};\n      this.specifications[this.newMachineID][\"applicator\"] = [];\n      this.specifications[this.newMachineID][\"ssd\"] = [];\n\n      this.changeCurrentMachine(this.newMachineID);\n\n      this.newMachineID = null;\n      this.newModel = null;\n      this.newMachineIDValid = false;\n      this.newModelValid = false;\n      this.newMachineValid = false;      \n\n      this.updateSpecifications();\n    }\n  }\n\n  checkNewEnergyInput() {\n    if (this.specifications[this.currentMachine][\"energy\"].indexOf(Number(this.newEnergy)) < 0 && this.newEnergy != null && !isNaN(Number(this.newEnergy))) {\n      this.newEnergyValid = true;\n    }\n    else {\n      this.newEnergyValid = false;\n    }\n\n    this.checkNewEnergySetValid()\n  }\n\n  checkNewR50Input() {\n    if (this.newR50 != null && !isNaN(Number(this.newR50))) {\n      this.newR50Valid = true;\n    }\n    else {\n      this.newR50Valid = false;\n    }\n\n    this.checkNewEnergySetValid()\n  }\n\n  checkNewEnergySetValid() {\n    this.newEnergySetValid = (this.newEnergyValid && this.newR50Valid);\n  }\n\n  addEnergy() {\n    if (this.newEnergySetValid) {\n      this.specifications[this.currentMachine][\"energy\"].push(Number(this.newEnergy));\n      this.specifications[this.currentMachine][\"R50\"][this.newEnergy] = Number(this.newR50);\n\n      this.newEnergy = null;\n      this.newR50 = null;\n      this.newEnergyValid = false;\n      this.newR50Valid = false;\n      this.newEnergySetValid = false;\n\n      this.updateSpecifications();\n    }\n\n  }\n\n  checkNewApplicatorInput() {\n    if (this.specifications[this.currentMachine][\"applicator\"].indexOf(this.newApplicator.toLowerCase()) < 0 && this.newApplicator != null && this.newApplicator != \"\") {\n      this.newApplicatorValid = true;\n    }\n    else {\n      this.newApplicatorValid = false;\n    }\n  }\n\n  addApplicator() {\n    if (this.newApplicatorValid) { \n      this.specifications[this.currentMachine][\"applicator\"].push(this.newApplicator.toLowerCase());\n\n      this.newApplicator = null;\n      this.newApplicatorValid = false;\n\n      this.updateSpecifications();\n    }\n  }\n\n  checkNewSSDInput() {\n    if (this.specifications[this.currentMachine][\"ssd\"].indexOf(Number(this.newSSD)) < 0 && this.newSSD != null && !isNaN(Number(this.newSSD))) {\n      this.newSSDValid = true;\n    }\n    else {\n      this.newSSDValid = false;\n    }\n  }\n\n  addSSD() {\n    if (this.newSSDValid) {\n    this.specifications[this.currentMachine][\"ssd\"].push(Number(this.newSSD));\n\n    this.newSSD = null;\n    this.newSSDValid = false;\n\n    this.updateSpecifications();\n    }\n  }\n\n  updateSpecifications() {\n    localStorage.setItem(\"specifications\", JSON.stringify(this.specifications));\n  }\n\n  updateCurrentMachine() {\n    localStorage.setItem(\"current_machine\", JSON.stringify(this.currentMachine));\n  }\n\n  editMachine(machine:string) {\n    this.currentMachine = null;\n    this.edittingMachine = machine;\n  }\n\n  finishMachineEdit(machine: any, idInput: any, modelInput: any) {\n    if (idInput != machine) {\n      this.specifications[idInput] = this.specifications[machine]\n      delete this.specifications[machine]\n      this.machines = Object.keys(this.specifications).sort();\n    }\n    this.specifications[idInput][\"model\"] = modelInput;\n\n    this.updateSpecifications();\n\n    this.currentMachine = this.edittingMachine;\n    this.edittingMachine = null;\n  }\n\n  deleteMachine(machine:string) {\n    let index = this.machines.indexOf(machine);\n    this.machines.splice(index, 1);\n    delete this.specifications[machine];\n\n    this.edittingMachine = null;\n\n    this.updateSpecifications();\n  }\n\n  changeSpecifications(newSpecifications: {}) {\n    this.specifications = newSpecifications;\n    if (this.specifications == null) {\n      this.specifications = {};\n      this.machines = [];\n    }\n    else {\n      this.machines = Object.keys(this.specifications).sort();\n\n      this.currentMachine = JSON.parse(localStorage.getItem(\"current_machine\"));\n      if (this.currentMachine == null || this.specifications[this.currentMachine] === undefined) {\n        this.currentMachine = this.machines[0];\n      }\n    }\n    this.updateSpecifications()\n  }\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Specifications');\n    \n    this.changeSpecifications(JSON.parse(localStorage.getItem(\"specifications\")));\n    \n\n    // this.specifications = {\n    //   \"2619\": {\n    //     \"model\": \"Elekta Synergy\",\n    //     \"energy\": [6, 9, 12],\n    //     \"R50\": {\n    //       6: 0,\n    //       9: 0,\n    //       12: 0\n    //     },\n    //     \"applicator\": [\"10X10\", \"6X6\"],\n    //     \"ssd\": [100]\n    //   },\n    //   \"2694\": {\n    //     \"model\": \"Elekta Synergy\",\n    //     \"energy\": [6, 9, 12],\n    //     \"R50\": {\n    //       6: 0,\n    //       9: 0,\n    //       12: 0\n    //     },\n    //     \"applicator\": [\"14X14\", \"6X6\"],\n    //     \"ssd\": [100]\n    //   },\n    //   \"Another\": {\n    //     \"model\": \"Varian True Beam\",\n    //     \"energy\": [6, 8, 10],\n    //     \"R50\": {\n    //       6: 0,\n    //       8: 0,\n    //       10: 0\n    //     },\n    //     \"applicator\": [\"10X10\", \"6X6\"],\n    //     \"ssd\": [100]\n    //   }\n    // }\n    \n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/specifications.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    \\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Machine specifications editing</h5>\\n    <p>Currently the editing and deleting of energy, applicator, and SSD entries is not yet implimented.</p>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\" style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Machine IDs</h2>\\n      </mdl-card-title>\\n\\n      <mdl-list>\\n        \\n        <div *ngFor=\\\"let machine of machines\\\">\\n        \\n          <div *ngIf=\\\"machine!=edittingMachine\\\">\\n            <mdl-list-item lines=\\\"3\\\">\\n              <mdl-list-item-primary-content>\\n                <div (click)=\\\"editMachine(machine)\\\">\\n                  <span>{{machine}}</span>\\n                  <mdl-list-item-text-body>{{specifications[machine].model}}</mdl-list-item-text-body>\\n                </div>\\n              </mdl-list-item-primary-content>\\n              <mdl-list-item-secondary-action>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"machine==currentMachine || edittingMachine!=null\\\"\\n                  (click)=\\\"changeCurrentMachine(machine)\\\"><mdl-icon>dashboard</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button *ngIf=\\\"machine!=edittingMachine\\\"\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"false\\\"\\n                  (click)=\\\"editMachine(machine)\\\"><mdl-icon>edit</mdl-icon>       \\n                </button>\\n              </mdl-list-item-secondary-action>\\n            </mdl-list-item>\\n\\n          </div>\\n\\n          <div *ngIf=\\\"machine==edittingMachine\\\">\\n            <mdl-list-item lines=\\\"3\\\">\\n              <mdl-list-item-primary-content>\\n                <mdl-textfield #machineIDTextField\\n                  type=\\\"text\\\"\\n                  label=\\\"Machine ID\\\"\\n                  [value]=\\\"machine\\\"\\n                  (keyup.enter)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"\\n                  floating-label\\n                  style=\\\"display:inline;\\\"></mdl-textfield>\\n                <mdl-textfield #modelTextField\\n                  type=\\\"text\\\"\\n                  label=\\\"Model\\\"\\n                  [value]=\\\"specifications[machine].model\\\"\\n                  (keyup.enter)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"\\n                  floating-label\\n                  style=\\\"display:inline;\\\"></mdl-textfield>\\n              </mdl-list-item-primary-content>\\n\\n              <mdl-list-item-secondary-action>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"machine!=edittingMachine\\\"\\n                  (click)=\\\"deleteMachine(machine)\\\"><mdl-icon>delete</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  mdl-colored=\\\"primary\\\" \\n                  [disabled]=\\\"machine==currentMachine || edittingMachine!=null\\\"\\n                  (click)=\\\"changeCurrentMachine(machine)\\\"><mdl-icon>dashboard</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"false\\\"\\n                  (click)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"><mdl-icon>done</mdl-icon>       \\n                </button>\\n              </mdl-list-item-secondary-action>\\n            </mdl-list-item>\\n\\n          </div>\\n        </div>\\n\\n\\n      </mdl-list>\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Machine ID\\\"\\n          [(ngModel)]=\\\"newMachineID\\\"\\n          (input)=\\\"checkNewMachineIDInput()\\\"\\n          (keyup.enter)=\\\"addMachineID()\\\"\\n          floating-label\\n          style=\\\"width:100%\\\"></mdl-textfield>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"Machine Make and Model\\\"\\n          [(ngModel)]=\\\"newModel\\\"\\n          (input)=\\\"checkNewModelInput()\\\"\\n          (keyup.enter)=\\\"addMachineID()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newMachineValid\\\"\\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          mdl-ripple\\n          (click)=\\\"addMachineID()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Energies for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let energy of specifications[currentMachine].energy\\\" lines=\\\"3\\\">\\n            <mdl-list-item-primary-content>\\n              <span>{{energy}} MeV</span>\\n              <mdl-list-item-text-body>R50: {{specifications[currentMachine].R50[energy]}} cm</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Energy (MeV)\\\"\\n          [(ngModel)]=\\\"newEnergy\\\"\\n          (input)=\\\"checkNewEnergyInput()\\\"\\n          (keyup.enter)=\\\"addEnergy()\\\"\\n          floating-label\\n          style=\\\"width:100%\\\"></mdl-textfield>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"R50 for New Energy (cm)\\\"\\n          [(ngModel)]=\\\"newR50\\\"\\n          (input)=\\\"checkNewR50Input()\\\"\\n          (keyup.enter)=\\\"addEnergy()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newEnergySetValid\\\" \\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addEnergy()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Applicators for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let applicator of specifications[currentMachine].applicator\\\">\\n            <mdl-list-item-primary-content>\\n              <mdl-list-item-text-body>{{applicator}}</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Applicator\\\"\\n          [(ngModel)]=\\\"newApplicator\\\"\\n          (input)=\\\"checkNewApplicatorInput()\\\"\\n          (keyup.enter)=\\\"addApplicator()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newApplicatorValid\\\" \\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addApplicator()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>SSDs for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let ssd of specifications[currentMachine].ssd\\\">\\n            <mdl-list-item-primary-content>\\n              <mdl-list-item-text-body>{{ssd}} cm</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New SSD (cm)\\\"\\n          [(ngModel)]=\\\"newSSD\\\"\\n          (input)=\\\"checkNewSSDInput()\\\"\\n          (keyup.enter)=\\\"addSSD()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newSSDValid\\\" \\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addSSD()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Raw specification data editing</h5>\\n    <p>\\n      Edit the raw machine specifications data below. \\n      Currently error checking on this raw input is not implemented.\\n      Incorrectly editing the data below may cause the web app not to function.\\n      Input data above to determine the data structure required.</p>\\n    <my-json-edit\\n      [input]=\\\"specifications\\\"\\n      (inputUpdated)=\\\"changeSpecifications($event)\\\"\\n      buttonText=\\\"Update Specifications\\\">\\n    </my-json-edit>\\n  </div>\\n\\n</div>\\n\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/specifications.component.html\n ** module id = 76\n ** module chunks = 0\n **/","import { Component, OnInit, ApplicationRef, ViewChild } from '@angular/core';\n\nimport { Router } from '@angular/router';\n\nimport { Coordinates } from './coordinates'\nimport { Parameterisation } from './parameterisation';\nimport { InsertData } from './insert-data';\n\nimport { TitleService } from './title.service';\n\nimport { safeLoad } from 'js-yaml';\n\ndeclare var Module: any;\ndeclare var FS: any;\n\n// declare var yaml: any;\n// declare var pypyjs: any;\n\n@Component({\n  selector: 'my-dicom',\n  template: require('./dicom.component.html'),\n  styles: ['./dicom.component.css']\n})\nexport class DicomComponent implements OnInit {\n  parameterisation: Parameterisation = {\n    insert: {\n      x: [0],\n      y: [0]\n    },\n    width: null,\n    length: null,\n    circle: null,\n    ellipse: null\n  };\n\n  insertData: InsertData = {\n    machine: null,\n    parameterisation: this.parameterisation,\n    energy: null,\n    applicator: null,\n    ssd: null\n  }\n\n  dicomWarning: string;\n  dicomExitCode = 1;\n\n  insertList: any[];\n\n  reader = new FileReader();\n\n  constructor(\n    private myTitleService: TitleService,\n    private router: Router\n  ) { }\n\n  @ViewChild('dicomOutput') dicomOutputDir: any;\n  @ViewChild('getBlockDataButton') getBlockDataButton: any;\n\n\n  ngOnInit() {\n    window['dicomData'] = ' ';\n\n    this.reader.onload = () => this.onceFileIsLoaded();\n    \n    let insertListString = localStorage.getItem('dicom_insertList')\n    if (insertListString) {\n      this.insertList = JSON.parse(insertListString);\n    }\n\n    // localStorage.removeItem('dicomPrint');\n    Module.print = this.sendDicomDumpToGlobalVariable;\n    // Module.printErr = this.sendDicomDumpToLocalStorage;\n    this.myTitleService.setTitle('Dicom');\n\n    // pypyjs.exec(\"import json; print json.dumps({'hello': 'world'})\")\n    // pypyjs.exec(\"import dicom; print json.dumps({'hello': 'world'})\")\n  }\n\n  sendDicomDumpToGlobalVariable(print: any) {\n    window['dicomData'] = window['dicomData'] + '\\n' + print\n  }\n\n  updateDicomWarning() {\n    let status = Number(localStorage.getItem('dicomLoadStatus'));\n    if (status == 0) {\n      this.getBlockDataButton.disabled = false;\n      this.dicomWarning = null;\n    }\n    else {\n      this.getBlockDataButton.disabled = true;\n      this.dicomWarning = 'An error occured while trying to find the block data within the provided Dicom file.';\n    }\n  }\n\n  onceFileIsLoaded() {\n    let content = new Int8Array(this.reader.result);\n    console.log(content.length);\n    let fileName = 'dicomfile';\n\n    if (FS.isFile(fileName)) {\n      FS.unlink(fileName);\n    }\n    FS.writeFile(fileName, content, {encoding: \"binary\"});\n\n    let exit_orig = Module.exit;    \n    Module.exit = (status: any) => {\n      localStorage.setItem('dicomLoadStatus', status);\n      exit_orig(status);\n    }\n    Module.callMain(['dcmdump', fileName, '--print-all']);\n\n    Module.exit = exit_orig;\n\n    console.log(Module)\n\n    this.updateDicomWarning()\n    FS.unlink(fileName);\n  }\n\n  openFile(event: any) {\n\n    if (typeof event.target !== 'undefined') {\n      console.log(event.target.files);\n      let file = event.target.files[0];\n\n      window['dicomData'] = ' '\n\n      this.reader.readAsArrayBuffer(file);\n    }\n    else {\n      console.log(event);\n    }\n\n  }\n\n  convertDicomDumpToDict(dump: string) {\n    let yamlConvert = dump.replace(/\\s*#[^#\\n]*\\n/g,'\\n');\n    yamlConvert = yamlConvert.replace(/\\s*#[^#\\n]*$/g,'');\n    yamlConvert = yamlConvert.replace(/^\\n*/,'');\n    yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\))/g,'$1:')\n    yamlConvert = yamlConvert.replace(\n      /(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) SQ \\(Sequence with undefined length #=\\d+\\)/g,\n      '$1')\n    yamlConvert = yamlConvert.replace(\n      /(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) na \\(Item with undefined length #=\\d+\\)/g,\n      '$1')\n    yamlConvert = yamlConvert.replace(\n      / *\\(fffe,e00d\\): na \\(ItemDelimitationItem\\) *\\n/g,\n      '')\n    yamlConvert = yamlConvert.replace(\n      / *\\(fffe,e0dd\\): na \\(SequenceDelimitationItem\\)\\n/g,\n      '')\n    yamlConvert = yamlConvert.replace(\n      /(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) (.*)/g,\n      '$1 \"$2\"')\n    yamlConvert = yamlConvert.replace(/\\\\/g, ', ')\n    yamlConvert = yamlConvert.replace(/\\(fffe,e000\\):/g, ' - ')\n\n    yamlConvert = safeLoad(yamlConvert);\n\n    return yamlConvert;\n  }\n\n  convertBlockDataToCoords(blockData: string): Coordinates {\n    let listString = /\\[[, \\d\\.-]*\\]/.exec(blockData).toString();\n\n    let parsedData = JSON.parse('{ \"data\": ' + listString + '}');\n\n    let x: number[] = [];\n    let y: number[] = [];\n    let i = 0;\n    for (let num of parsedData['data']) {\n      if (i % 2 == 0) {\n        x.push(parseFloat((num / 10).toFixed(2)));\n      }\n      else {\n        y.push(parseFloat((num / 10).toFixed(2)));\n      }\n      i++;\n    }\n    let insert = {\n      \"x\": x,\n      \"y\": y\n    };\n\n    return insert;\n  }\n\n  dicomPullNumber(input: string): number {\n    return Number(input.replace(/.*\\[([\\d\\.-]*)\\].*/, \"$1\"));\n  }\n\n  dicomPullString(input: string): string {\n    return input.replace(/.*\\[(.*)\\].*/, \"$1\");\n  }\n\n  getBlockData() {\n    let dicomPrint = window['dicomData'];\n    let dicomDict = this.convertDicomDumpToDict(dicomPrint);\n\n    this.insertList = [];\n\n    let beamSequence = dicomDict[\"(300a,00b0)\"];\n    for (let beam of beamSequence) {\n      let blockData = beam[\"(300a,00f4)\"][0][\"(300a,0106)\"];\n      let coordinates = this.convertBlockDataToCoords(blockData);\n\n      let applicator = this.dicomPullString(\n        beam[\"(300a,0107)\"][0][\"(300a,0108)\"]);\n      let energy = this.dicomPullNumber(\n        beam[\"(300a,0111)\"][0][\"(300a,0114)\"]);\n      let ssd = this.dicomPullNumber(\n        beam[\"(300a,0111)\"][0][\"(300a,0130)\"]) / 10;\n      let machine = this.dicomPullString(\n        beam[\"(300a,00b2)\"]);\n\n      let insert = {\n        \"machine\": machine,\n        \"coordinates\": coordinates,\n        \"applicator\": applicator.toLowerCase(),\n        \"energy\": energy,\n        \"ssd\": ssd\n      }\n      this.insertList.push(insert)\n    }\n    localStorage.setItem('dicom_insertList', JSON.stringify(this.insertList));\n  }\n\n  sendToParameterisation(insert: any) {\n    this.insertUpdated(insert['coordinates']);    \n\n    this.insertData['machine'] = insert['machine'];\n    this.insertData['parameterisation'] = this.parameterisation\n    this.insertData['energy'] = insert['energy'];\n    this.insertData['applicator'] = insert['applicator'];\n    this.insertData['ssd'] = insert['ssd'];\n\n    localStorage.setItem(\n      \"last_insertData\", JSON.stringify(this.insertData)\n    );\n\n    this.router.navigate([\"/parameterise\"])\n  }\n\n  parameterisationFromLocalStorage(localStorageParameterisationString: string) {\n    let localStorageParameterisation = JSON.parse(localStorageParameterisationString); \n    this.parameterisation.insert = localStorageParameterisation['insert'];\n    this.parameterisation.width = localStorageParameterisation['width'];\n    this.parameterisation.length = localStorageParameterisation['length'];\n    this.parameterisation.circle = localStorageParameterisation['circle'];\n    this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n  }\n\n  insertUpdated(insert: any) {\n    let localStorageParameterisation = localStorage.getItem(JSON.stringify(insert))\n    if (localStorageParameterisation) {\n      this.parameterisationFromLocalStorage(localStorageParameterisation);\n    }\n    else {\n      this.parameterisation.insert = insert;\n      this.parameterisation.width = null;\n      this.parameterisation.length = null;\n      this.parameterisation.circle = null;\n      this.parameterisation.ellipse = null;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/dicom.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>This Dicom loader does not send the Dicom file off to a server. The entire reading of the dicom file is done within javascript.\\n    You can confirm this yourself by using the chrome web browser, pressing 'Ctrl + Shift + I'\\n    and then clicking on the network tab. When the file is chosen, then the block data is pulled and sent to parameterisation,\\n    at no point in this interaction is there network traffic.</p>\\n\\n    <p>The only data that will be sent to the server will be on either the paremeterisation tab or the model tab, and this data will\\n      just consist of x and y coordinates or widths, lengths, and factors.\\n    </p>\\n\\n    <p>\\n      Download a demo dicom file from <a href=\\\"/30x16x30_RandomElectronShapes.dcm\\\">here</a>\\n    </p>\\n  <div>\\n</div>\\n<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <input type='file' (change)='openFile($event)'>\\n    <div *ngIf=\\\"dicomWarning\\\">{{dicomWarning}}</div>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <button #getBlockDataButton\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"true\\\"\\n      (click)=\\\"getBlockData()\\\">Get Dicom Insert Data\\n    </button>\\n\\n    \\n  </div>\\n\\n  <div *ngFor=\\\"let insert of insertList\\\" class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\">\\n\\n\\n      <my-send-to-parameterisation\\n        [machine]=insert.machine\\n        [coordinates]=insert.coordinates\\n        [applicator]=insert.applicator\\n        [ssd]=insert.ssd\\n        [energy]=insert.energy>\\n      </my-send-to-parameterisation>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <button\\n          mdl-button \\n          mdl-ripple\\n          (click)=\\\"sendToParameterisation(insert)\\\">Send to parameterisation           \\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n    \\n\\n\\n    <!--<p>{{insert | json}}</p>-->\\n  </div>\\n\\n\\n\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/dicom.component.html\n ** module id = 113\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\n\nimport { ElectronApiService } from './electron-api.service';\nimport { TitleService } from './title.service';\n\n@Component({\n  selector: 'my-app',\n  template: require('./app.component.html'),\n})\nexport class AppComponent implements OnInit {\n  pageTitle: string;\n\n  constructor(\n    private electronApiService: ElectronApiService,\n    private myTitleService: TitleService,\n    private router: Router,\n    private title:Title\n  ) { \n    router.events\n      .filter(event => event instanceof NavigationEnd)\n      .subscribe(() => {\n        this.pageTitle = this.myTitleService.getTitle();\n        this.title.setTitle(\n          this.myTitleService.getTitle() + \n          ' | Electron Insert Factor Modelling');\n      })\n  }\n\n  ngOnInit() {\n    let redirect = sessionStorage['redirect'];\n    delete sessionStorage['redirect'];\n    if (redirect && redirect != location.href) {\n      history.replaceState(null, null, redirect);\n      this.router.navigate([redirect])\n    }\n    \n    this.electronApiService.wakeUpServer();\n\n    this.pageTitle = this.myTitleService.getTitle();\n    this.title.setTitle(\n      this.myTitleService.getTitle() + \n      ' | Electron Insert Factor Modelling');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.component.ts\n **/","module.exports = \"\\n<!--<md-sidenav-layout>\\n\\n  <md-sidenav #sidenav mode=\\\"side\\\" class=\\\"app-sidenav\\\">\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </md-sidenav>\\n\\n  <md-toolbar color=\\\"primary\\\">\\n    <button class=\\\"app-icon-button\\\" (click)=\\\"sidenav.toggle()\\\">\\n      <i class=\\\"material-icons app-toolbar-menu\\\">menu</i>\\n    </button>\\n\\n    {{pageTitle}}\\n\\n    <span class=\\\"app-toolbar-filler\\\"></span>\\n    <button md-button (click)=\\\"isDarkTheme = !isDarkTheme\\\">TOGGLE DARK THEME</button>\\n  </md-toolbar>\\n\\n  <div class=\\\"app-content\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n\\n\\n</md-sidenav-layout>-->\\n\\n\\n<mdl-layout mdl-layout-fixed-drawer mdl-layout-fixed-header>\\n  <mdl-layout-header>\\n    <mdl-layout-header-row>\\n      <mdl-layout-title>{{pageTitle}}</mdl-layout-title>\\n    </mdl-layout-header-row>\\n  </mdl-layout-header>\\n  <mdl-layout-drawer>\\n    <mdl-layout-title>Electron Factors</mdl-layout-title>\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </mdl-layout-drawer>\\n  <mdl-layout-content>\\n\\n    <router-outlet></router-outlet>\\n\\n  </mdl-layout-content>\\n</mdl-layout>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/app.component.html\n ** module id = 170\n ** module chunks = 0\n **/","import { Component, Input, OnChanges, ViewChild, AfterViewInit } from '@angular/core';\n\nimport { Coordinates } from './coordinates';\n\ndeclare var Bokeh: any;\n\n@Component({\n  selector: 'my-plot',\n  template: require('./plot.component.html'),\n  styles: [require('./plot.component.css')]\n})\nexport class PlotComponent implements OnChanges, AfterViewInit {\n  @Input()\n  insert: Coordinates = null;\n  @Input()\n  circle: Coordinates = null;\n  @Input()\n  ellipse: Coordinates = null;\n  @Input()\n  enabled: boolean = true;\n\n  parsedJSON: any;\n  tempSource: any;\n  jsonValid: boolean = true;\n  jsonErrorMessage: string;\n\n  @ViewChild('bokehplot') bokehplot: any;\n\n  plt = Bokeh.Plotting;\n  tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';\n\n  xrange = Bokeh.Range1d(-6, 6);\n  yrange = Bokeh.Range1d(-6, 6);\n  \n  fig = this.plt.figure({\n    title: 'Electron Insert Plot', tools: this.tools,\n    x_range: this.xrange, y_range: this.yrange,\n    plot_width: 300, plot_height: 300\n  });\n\n  source = new Bokeh.ColumnDataSource();\n  doc = new Bokeh.Document();\n\n\n  ngOnChanges() {\n    this.jsonValid = false;\n    this.tempSource = {\n      \"xs\": [[0], [0], [0]],\n      \"ys\": [[0], [0], [0]],\n      \"colour\": [\"navy\", \"firebrick\", \"green\"]\n    }\n    let xAll: number[] = [];\n    let yAll: number[] = [];\n    if (this.enabled) {\n      if (this.insert) {\n        if ('x' in this.insert && 'y' in this.insert) {\n          this.tempSource.xs[0] = this.insert.x.concat(this.insert.x[0]);\n          this.tempSource.ys[0] = this.insert.y.concat(this.insert.y[0]);\n          xAll = xAll.concat(this.tempSource.xs[0]);\n          yAll = yAll.concat(this.tempSource.ys[0]);\n        }\n      }\n\n      if (this.circle) {\n        if ('x' in this.circle && 'y' in this.circle) {\n          this.tempSource.xs[1] = this.circle.x\n          this.tempSource.ys[1] = this.circle.y\n          xAll = xAll.concat(this.tempSource.xs[1]);\n          yAll = yAll.concat(this.tempSource.ys[1]);\n        }\n      }\n      if (this.ellipse) {\n        if ('x' in this.ellipse && 'y' in this.ellipse) {\n          this.tempSource.xs[2] = this.ellipse.x\n          this.tempSource.ys[2] = this.ellipse.y\n          xAll = xAll.concat(this.tempSource.xs[2]);\n          yAll = yAll.concat(this.tempSource.ys[2]);\n        }\n      }\n    }\n\n    let xMax = Math.max(...xAll);\n    let xMin = Math.min(...xAll);\n    let yMax = Math.max(...yAll);\n    let yMin = Math.min(...yAll);\n\n    let range = Math.max(xMax - xMin, yMax - yMin) * 1.1;\n    let sqXMax = (xMax + xMin) / 2 + range / 2\n    let sqXMin = (xMax + xMin) / 2 - range / 2\n    let sqYMax = (yMax + yMin) / 2 + range / 2\n    let sqYMin = (yMax + yMin) / 2 - range / 2\n\n\n\n    this.fig.attributes.x_range.start = sqXMin;\n    this.fig.attributes.x_range.end = sqXMax;\n    this.fig.attributes.y_range.start = sqYMin;\n    this.fig.attributes.y_range.end = sqYMax;\n    // this.fig.update_range();\n    // console.log(this.fig);\n\n    this.source.data = this.tempSource;\n\n    \n    \n  }\n\n  ngAfterViewInit() {\n    // this.ngOnChanges();\n    this.fig.multi_line({ field: 'xs' }, { field: 'ys' }, {\n      source: this.source,\n      line_width: 2,\n      color: { field: 'colour' }\n    });\n\n    this.doc.add_root(this.fig);\n    Bokeh.embed.add_document_standalone(\n      this.doc, this.bokehplot.nativeElement);\n    \n\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/plot.component.ts\n **/","export class Coordinates {\n\n  constructor(\n    public x: number[],\n    public y: number[]\n  ) { }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/coordinates.ts\n **/","module.exports = \"\\n  <div class=\\\"bk-root\\\" style=\\\"height:300px\\\">\\n    <div #bokehplot></div>\\n  </div>\\n\\n\\n  <div [hidden]=\\\"jsonValid\\\" class=\\\"alert alert-danger\\\">\\n      {{jsonErrorMessage}}\\n  </div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/plot.component.html\n ** module id = 173\n ** module chunks = 0\n **/","module.exports = \"\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/plot.component.css\n ** module id = 174\n ** module chunks = 0\n **/","import { Component, OnInit, Input, OnChanges } from '@angular/core';\n\nimport { MdlDefaultTableModel } from 'angular2-mdl';\n\n@Component({\n  selector: 'my-width-length-table',\n  template: require('./width-length-table.component.html'),\n})\nexport class WidthLengthTableComponent implements OnInit {\n  @Input()\n  width: number;\n  @Input()\n  length: number;\n  @Input()\n  enabled: boolean;\n\n  tableData:[any] = [\n      {width:null, length:null}\n  ];\n\n  public tableModel = new MdlDefaultTableModel([\n        {key:'width', name:'Width', sortable:true, numeric:true},\n        {key:'length', name:'Length', sortable:true, numeric:true}\n      ]);\n\n  ngOnChanges() {\n    if (this.enabled) {\n      this.tableData[0].width = this.width;\n      this.tableData[0].length = this.length;\n    }\n    else {\n      this.tableData[0].width = null;\n      this.tableData[0].length = null;\n    }\n\n  }\n\n  ngOnInit() {\n    this.tableModel.addAll(this.tableData);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/width-length-table.component.ts\n **/","module.exports = \"<mdl-table mdl-shadow=\\\"2\\\"\\n  [table-model]=\\\"tableModel\\\">\\n</mdl-table>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/width-length-table.component.html\n ** module id = 176\n ** module chunks = 0\n **/","import { Component, Input, Output, OnChanges, EventEmitter, ViewChild } from '@angular/core';\n\nimport { MyJsonPipe } from './my-json.pipe'\n\nimport { Coordinates } from './coordinates';\n\n\n@Component({\n  selector: 'my-json-input',\n  template: require('./json-input.component.html'),\n})\nexport class JsonInputComponent implements OnChanges {\n  @Input()\n  insert: Coordinates;\n  @Input()\n  jsonDisabled: boolean;\n  @Input()\n  refresh: boolean;\n  @Output()\n  insertUpdated = new EventEmitter();\n  @Output()\n  jsonStatus = new EventEmitter();\n\n  jsonValid: boolean = true;\n  jsonErrorMessage: string;\n\n  @ViewChild('jsonInput') jsonInputDir: any;\n\n  onInput(jsonInput: string) {\n    this.parseAndCheckJSON(jsonInput) \n    this.insertUpdated.emit(this.insert);\n  }\n\n  ngOnChanges() {\n    if (this.refresh) {\n      this.jsonInputDir.value = new MyJsonPipe().transform(this.insert);      \n      this.parseAndCheckJSON(this.jsonInputDir.value);\n      this.refresh = false;\n    }\n  }\n\n  parseAndCheckJSON(jsonInput:string) {\n    let oldJsonValid = this.jsonValid;\n    this.jsonValid = false;\n    try {\n      let parsedJSON = JSON.parse(jsonInput);\n      if ('x' in parsedJSON && 'y' in parsedJSON) {\n        if (parsedJSON.x.length === parsedJSON.y.length) {\n          let x: [number] = parsedJSON.x\n          let y: [number] = parsedJSON.y\n          let insert = {\n            x: x,\n            y: y\n          }\n          this.insert = insert\n          this.jsonValid = true;\n        }\n        else {\n          this.jsonErrorMessage = 'The length of x doesn\\'t match the length of y.';\n        }\n      }\n      else {\n        this.jsonErrorMessage = 'Either x or y is missing.';\n      }\n    }\n    catch(err) {\n      this.jsonErrorMessage = 'Error in JSON input. ' + err ;\n    }\n    finally {\n      if (this.jsonValid != oldJsonValid) {\n        this.jsonStatus.emit(this.jsonValid)\n      }\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/json-input.component.ts\n **/","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'myJson', pure: false})\nexport class MyJsonPipe implements PipeTransform {\n  transform(input: {}): string {\n    let jsonText = JSON.stringify(input, null, 4)\n    jsonText = jsonText.replace(/(-?\\d+(\\.\\d+)?),\\n\\s*/g, \"$1, \");\n    jsonText = jsonText.replace(/null,\\n\\s*/g, \"null, \");\n    // jsonText = jsonText.replace(/:/g, \":\\n\");\n    return jsonText\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/my-json.pipe.ts\n **/","module.exports = \"<mdl-textfield #jsonInput\\n  [value]=\\\"insert | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  rows=\\\"12\\\" \\n  style=\\\"width:100%\\\"\\n  [disabled]=jsonDisabled>\\n</mdl-textfield>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/json-input.component.html\n ** module id = 179\n ** module chunks = 0\n **/","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-not-yet-implimented',\n  template: require('./not-yet-implimented.component.html')\n})\nexport class NotYetImplimentedComponent {\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/not-yet-implimented.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    Due to this web app being a work in progress this page is not yet implimented.\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/not-yet-implimented.component.html\n ** module id = 181\n ** module chunks = 0\n **/","import { Component, Input, Output, OnChanges, EventEmitter, ViewChild, OnInit } from '@angular/core';\n\nimport { MyJsonPipe } from './my-json.pipe'\nimport { JsonPipe } from '@angular/common';\n\n@Component({\n  selector: 'my-json-edit',\n  template: require('./json-edit.component.html'),\n})\nexport class JsonEditComponent implements OnInit {\n  @Input()\n  input: {};\n  @Input()\n  buttonText: string = \"Button\";\n  @Output()\n  inputUpdated = new EventEmitter();\n  @Input()\n  validationCheck: Function = (parsedJSON: {}) => {};\n  @Input()\n  useMyJsonPipe: boolean = false;\n\n  editedInput: {};\n\n  lines: number = 10;\n\n  jsonValid: boolean = true;\n  jsonErrorMessage: string;\n\n  @ViewChild('jsonInput') jsonInputDir: any;\n\n  onInput(jsonInput: string) {\n    this.parseAndCheckJSON(jsonInput)\n  }\n\n  ngOnInit() {\n    let value = \"\";\n    if (this.useMyJsonPipe) {\n       value = new MyJsonPipe().transform(this.input); \n    }\n    else {\n      value = new JsonPipe().transform(this.input);\n    }     \n    this.lines = value.split(/\\r\\n|\\r|\\n/).length;    \n    this.editedInput = this.input;\n  }\n\n  updateInput() {\n    this.input = this.editedInput \n    this.inputUpdated.emit(this.input);\n  }\n\n  parseAndCheckJSON(jsonInput:string) {\n    let oldJsonValid = this.jsonValid;\n    this.jsonValid = false;\n    try {\n      let parsedJSON = JSON.parse(jsonInput);\n      this.validationCheck(parsedJSON);\n      this.editedInput = parsedJSON;\n      this.jsonValid = true;\n    }\n    catch(err) {\n      this.jsonErrorMessage = 'Error in JSON input. ' + err ;\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/json-edit.component.ts\n **/","module.exports = \"<button\\n  mdl-button mdl-button-type=\\\"raised\\\" \\n  mdl-colored=\\\"primary\\\" \\n  mdl-ripple\\n  [disabled]=\\\"!jsonValid || input==editedInput\\\"\\n  (click)=\\\"updateInput()\\\">{{buttonText}} \\n</button>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\\n<mdl-textfield *ngIf=\\\"!useMyJsonPipe\\\" #jsonInput\\n  [value]=\\\"input | json\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  [rows]=\\\"20\\\" \\n  style=\\\"width:100%\\\">\\n</mdl-textfield>\\n<mdl-textfield *ngIf=\\\"useMyJsonPipe\\\" #jsonInput\\n  [value]=\\\"input | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  [rows]=\\\"20\\\" \\n  style=\\\"width:100%\\\">\\n</mdl-textfield>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/json-edit.component.html\n ** module id = 183\n ** module chunks = 0\n **/","import { Component, OnInit, Input} from '@angular/core';\n\nimport { Coordinates } from './coordinates';\n\nimport { MdlDefaultTableModel } from 'angular2-mdl';\n\n@Component({\n  selector: 'my-send-to-parameterisation',\n  template: require('./send-to-parameterisation.component.html'),\n})\nexport class SendToParameterisationComponent implements OnInit {\n  @Input()\n  applicator: string;\n  @Input()\n  machine: string;\n  @Input()\n  energy: number;\n  @Input()\n  ssd: number;\n  @Input()\n  coordinates: Coordinates;\n\n  tableData:[any] = [\n      {machine:null, applicator:null, energy:null, ssd:null}\n  ];\n\n  public tableModel = new MdlDefaultTableModel([\n        {key:'machine', name:'Machine', sortable:true, numeric:false},\n        {key:'applicator', name:'App', sortable:true, numeric:false},\n        {key:'energy', name:'Eng', sortable:true, numeric:true},\n        {key:'ssd', name:'SSD', sortable:true, numeric:true}\n      ]);\n\n  ngOnInit() {\n    this.tableData[0].machine = this.machine;\n    this.tableData[0].applicator = this.applicator;\n    this.tableData[0].energy = this.energy;\n    this.tableData[0].ssd = this.ssd;\n    this.tableModel.addAll(this.tableData);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/send-to-parameterisation.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <my-plot \\n      [insert]=\\\"coordinates\\\">\\n    </my-plot>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <mdl-table mdl-shadow=\\\"2\\\"\\n      [table-model]=\\\"tableModel\\\">\\n    </mdl-table>\\n  </div>\\n</div>\\n\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/send-to-parameterisation.component.html\n ** module id = 185\n ** module chunks = 0\n **/","import { Component, Input, OnChanges, ViewChild, AfterViewInit, OnInit } from '@angular/core';\n\nimport { Coordinates } from './coordinates';\n\ndeclare var Bokeh: any;\n\n@Component({\n  selector: 'my-bokeh-pcolour',\n  template: require('./bokeh-pcolour.component.html')\n})\nexport class BokehPcolourComponent implements OnChanges, AfterViewInit, OnInit {\n  @Input()\n  title: string = \"Figure Title\";\n  @Input()\n  plot_width: number = 300;\n  @Input()\n  plot_height: number = 300;\n  @Input()\n  scatter_x: number[];\n  @Input()\n  scatter_y: number[];\n  @Input()\n  scatter_z: number[] = [0.5];\n  @Input()\n  pcolour_x: number[];\n  @Input()\n  pcolour_y: number[];\n  @Input()\n  pcolour_z: number[];\n  @Input()\n  enabled: boolean = true;\n\n  @ViewChild('bokehplot') bokehplot: any;\n\n  plt = Bokeh.Plotting;\n  tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';  \n  fig: any;\n\n  old_scatter_z: number[] = [];\n  old_pcolour_z: number[] = [];\n\n  old_scatter_c: string[] = [];\n  old_pcolour_c: string[] = [];\n\n  scatter_data = {\n    x: <number[]> [],\n    y: <number[]> [],\n    c: <string[]> []\n  }\n  scatter_source = new Bokeh.ColumnDataSource({\n    data: this.scatter_data\n  });\n\n  pcolour_data = {\n    x: <number[]> [],\n    y: <number[]> [],\n    c: <string[]> []\n  }\n  pcolour_source = new Bokeh.ColumnDataSource({\n    data: this.pcolour_data\n  });\n  doc = new Bokeh.Document();\n\n  ngOnInit() {\n    this.fig = this.plt.figure({\n        title: this.title, tools: this.tools,\n        plot_width: this.plot_width, plot_height: this.plot_height\n      });\n  }\n\n  ngOnChanges() {\n    this.scatter_data = {\n      x: <number[]> this.scatter_x,\n      y: <number[]> this.scatter_y,\n      c: <string[]> this.old_scatter_c\n    }\n    this.pcolour_data = {\n      x: <number[]> this.pcolour_x,\n      y: <number[]> this.pcolour_y,\n      c: <string[]> this.old_pcolour_c\n    }\n\n    if (this.old_scatter_z != this.scatter_z || this.old_pcolour_z != this.pcolour_z) {\n      this.scatter_data.c = this.determineFillColours(this.scatter_z, this.pcolour_z);\n      this.pcolour_data.c = this.determineFillColours(this.pcolour_z, this.scatter_z);\n      \n      this.old_scatter_z = this.scatter_z;\n      this.old_pcolour_z = this.pcolour_z;\n\n      this.old_scatter_c = this.scatter_data.c;\n      this.old_pcolour_c = this.pcolour_data.c;\n    }\n\n    if (this.scatter_source.data != this.scatter_data) {\n      this.scatter_source.data = this.scatter_data;\n    }\n\n    if (this.pcolour_source.data != this.pcolour_data) {\n      this.pcolour_source.data = this.pcolour_data;\n    }\n\n    if (this.fig != null) {\n      if (this.fig.width != this.plot_width) {\n        this.fig.width = this.plot_width;\n      }\n      if (this.fig.height != this.plot_height) {\n        this.fig.height = this.plot_height;\n      }\n    }\n  }\n\n  ngAfterViewInit() {\n    this.fig.rect(\n      { field: 'x' }, { field: 'y' }, 0.1, 0.1, {\n        source: this.pcolour_source,\n        color:  { field: 'c' }\n    });\n    this.fig.circle(\n      { field: 'x' }, { field: 'y' }, {\n        source: this.scatter_source,\n        size: 15,\n        line_color: 'black',\n        fill_color:  { field: 'c' },\n        line_width: 2\n    });\n\n\n    // console.log(Bokeh)\n    // console.log(this.fig)\n\n    this.doc.add_root(this.fig);\n    Bokeh.embed.add_document_standalone(\n      this.doc, this.bokehplot.nativeElement); \n  }\n\n  determineFillColours(z1: number[], z2: number[]) {\n    let allZ = z1.concat(z2);\n    let vmin = Math.min(...allZ);\n    let vmax = Math.max(...allZ);\n    let vrange = vmax - vmin;\n    \n    let colour_scale: number[] = [];\n    if (vmin == vmax) {\n      colour_scale = [0.5];\n    }\n    else {\n      for (let item of z1) {\n        colour_scale.push((item - vmin) / vrange);\n      }\n    }\n    let fill_colour: string[] = []\n    for (let item of colour_scale) {\n      fill_colour.push(this.viridis(item));\n    }\n\n    return fill_colour\n  }\n\n\n  /*\n  The following functions are adapted from https://github.com/politiken-journalism/scale-color-perceptual.\n\n  Copyright (c) 2015, Politiken Journalism <emil.bay@pol.dk>\n\n  Permission to use, copy, modify, and/or distribute this software for any\n  purpose with or without fee is hereby granted, provided that the above\n  copyright notice and this permission notice appear in all copies.\n  */\n\n  viridis_hex = [\n    \"#440154\",\"#440256\",\"#450457\",\"#450559\",\"#46075a\",\"#46085c\",\"#460a5d\",\"#460b5e\",\"#470d60\",\"#470e61\",\"#471063\",\"#471164\",\"#471365\",\"#481467\",\"#481668\",\"#481769\",\"#48186a\",\"#481a6c\",\"#481b6d\",\"#481c6e\",\"#481d6f\",\"#481f70\",\"#482071\",\"#482173\",\"#482374\",\"#482475\",\"#482576\",\"#482677\",\"#482878\",\"#482979\",\"#472a7a\",\"#472c7a\",\"#472d7b\",\"#472e7c\",\"#472f7d\",\"#46307e\",\"#46327e\",\"#46337f\",\"#463480\",\"#453581\",\"#453781\",\"#453882\",\"#443983\",\"#443a83\",\"#443b84\",\"#433d84\",\"#433e85\",\"#423f85\",\"#424086\",\"#424186\",\"#414287\",\"#414487\",\"#404588\",\"#404688\",\"#3f4788\",\"#3f4889\",\"#3e4989\",\"#3e4a89\",\"#3e4c8a\",\"#3d4d8a\",\"#3d4e8a\",\"#3c4f8a\",\"#3c508b\",\"#3b518b\",\"#3b528b\",\"#3a538b\",\"#3a548c\",\"#39558c\",\"#39568c\",\"#38588c\",\"#38598c\",\"#375a8c\",\"#375b8d\",\"#365c8d\",\"#365d8d\",\"#355e8d\",\"#355f8d\",\"#34608d\",\"#34618d\",\"#33628d\",\"#33638d\",\"#32648e\",\"#32658e\",\"#31668e\",\"#31678e\",\"#31688e\",\"#30698e\",\"#306a8e\",\"#2f6b8e\",\"#2f6c8e\",\"#2e6d8e\",\"#2e6e8e\",\"#2e6f8e\",\"#2d708e\",\"#2d718e\",\"#2c718e\",\"#2c728e\",\"#2c738e\",\"#2b748e\",\"#2b758e\",\"#2a768e\",\"#2a778e\",\"#2a788e\",\"#29798e\",\"#297a8e\",\"#297b8e\",\"#287c8e\",\"#287d8e\",\"#277e8e\",\"#277f8e\",\"#27808e\",\"#26818e\",\"#26828e\",\"#26828e\",\"#25838e\",\"#25848e\",\"#25858e\",\"#24868e\",\"#24878e\",\"#23888e\",\"#23898e\",\"#238a8d\",\"#228b8d\",\"#228c8d\",\"#228d8d\",\"#218e8d\",\"#218f8d\",\"#21908d\",\"#21918c\",\"#20928c\",\"#20928c\",\"#20938c\",\"#1f948c\",\"#1f958b\",\"#1f968b\",\"#1f978b\",\"#1f988b\",\"#1f998a\",\"#1f9a8a\",\"#1e9b8a\",\"#1e9c89\",\"#1e9d89\",\"#1f9e89\",\"#1f9f88\",\"#1fa088\",\"#1fa188\",\"#1fa187\",\"#1fa287\",\"#20a386\",\"#20a486\",\"#21a585\",\"#21a685\",\"#22a785\",\"#22a884\",\"#23a983\",\"#24aa83\",\"#25ab82\",\"#25ac82\",\"#26ad81\",\"#27ad81\",\"#28ae80\",\"#29af7f\",\"#2ab07f\",\"#2cb17e\",\"#2db27d\",\"#2eb37c\",\"#2fb47c\",\"#31b57b\",\"#32b67a\",\"#34b679\",\"#35b779\",\"#37b878\",\"#38b977\",\"#3aba76\",\"#3bbb75\",\"#3dbc74\",\"#3fbc73\",\"#40bd72\",\"#42be71\",\"#44bf70\",\"#46c06f\",\"#48c16e\",\"#4ac16d\",\"#4cc26c\",\"#4ec36b\",\"#50c46a\",\"#52c569\",\"#54c568\",\"#56c667\",\"#58c765\",\"#5ac864\",\"#5cc863\",\"#5ec962\",\"#60ca60\",\"#63cb5f\",\"#65cb5e\",\"#67cc5c\",\"#69cd5b\",\"#6ccd5a\",\"#6ece58\",\"#70cf57\",\"#73d056\",\"#75d054\",\"#77d153\",\"#7ad151\",\"#7cd250\",\"#7fd34e\",\"#81d34d\",\"#84d44b\",\"#86d549\",\"#89d548\",\"#8bd646\",\"#8ed645\",\"#90d743\",\"#93d741\",\"#95d840\",\"#98d83e\",\"#9bd93c\",\"#9dd93b\",\"#a0da39\",\"#a2da37\",\"#a5db36\",\"#a8db34\",\"#aadc32\",\"#addc30\",\"#b0dd2f\",\"#b2dd2d\",\"#b5de2b\",\"#b8de29\",\"#bade28\",\"#bddf26\",\"#c0df25\",\"#c2df23\",\"#c5e021\",\"#c8e020\",\"#cae11f\",\"#cde11d\",\"#d0e11c\",\"#d2e21b\",\"#d5e21a\",\"#d8e219\",\"#dae319\",\"#dde318\",\"#dfe318\",\"#e2e418\",\"#e5e419\",\"#e7e419\",\"#eae51a\",\"#ece51b\",\"#efe51c\",\"#f1e51d\",\"#f4e61e\",\"#f6e620\",\"#f8e621\",\"#fbe723\",\"#fde725\"]\n\n  viridis = this.interpolateArray(this.viridis_hex);\n\n  hex2rgb (hex: string) {\n    return {\n      // skip # at position 0\n      r: parseInt(hex.slice(1, 3), 16) / 255,\n      g: parseInt(hex.slice(3, 5), 16) / 255,\n      b: parseInt(hex.slice(5, 7), 16) / 255\n    }\n  }\n\n  zeroPadHex (hexStr: string) {\n    return '00'.slice(hexStr.length) + hexStr\n  }\n\n  rgb2hex (rgb: {r:number, g:number, b:number}): string {\n    // Map channel triplet into hex color code\n    return '#' + [rgb.r, rgb.g, rgb.b]\n      // Convert to hex (map [0, 1] => [0, 255] => Z => [0x0, 0xff])\n      .map(function (ch) { return Math.round(ch * 255).toString(16) })\n      // Make sure each channel is two digits long\n      .map(this.zeroPadHex)\n      .join('')\n  }\n\n  interpolate (a_init: string, b_init: string) {    \n    let a = this.hex2rgb(a_init)\n    let b = this.hex2rgb(b_init)\n    \n    let ar = a.r\n    let ag = a.g\n    let ab = a.b\n    let br = b.r - ar\n    let bg = b.g - ag\n    let bb = b.b - ab\n\n    return (t: number): string => {\n      return this.rgb2hex({\n        r: ar + br * t,\n        g: ag + bg * t,\n        b: ab + bb * t\n      })\n    }\n  }\n\n  interpolateArray(scaleArr: string[]) {\n    let N = scaleArr.length - 2 // -1 for spacings, -1 for number of interpolate fns\n    let intervalWidth = 1 / N\n    let intervals: Function[] = [];\n\n    for (let i = 0; i <= N; i++) {\n      intervals[i] = this.interpolate(scaleArr[i], scaleArr[i + 1])\n    }\n\n    return function (t: number) {\n      if (t < 0 || t > 1) throw new Error('Outside the allowed range of [0, 1]')\n\n      let i = Math.floor(t * N)\n      let intervalOffset = i * intervalWidth\n\n      return intervals[i](t / intervalWidth - intervalOffset / intervalWidth)\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/bokeh-pcolour.component.ts\n **/","module.exports = \"<div class=\\\"bk-root\\\" [style.width]=\\\"plot_width + 'px'\\\" style=\\\"height:400px\\\">\\n  <div #bokehplot></div>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/bokeh-pcolour.component.html\n ** module id = 187\n ** module chunks = 0\n **/"],"sourceRoot":""}