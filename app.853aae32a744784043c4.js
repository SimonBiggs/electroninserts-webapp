webpackJsonp([0],{0:function(e,t,n){"use strict";var o=n(1),r=n(3),i=n(23);r.enableProdMode(),o.platformBrowserDynamic().bootstrapModule(i.AppModule)},23:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(21),s=n(24),l=n(28),c=n(21),p=n(29),d=n(73),m=n(124),u=n(126),h=n(58),f=n(65),g=n(130),y=n(132),v=n(67),S=n(69),b=n(133),C=n(59),R=n(61),I=n(63),j=n(135),P=n(70),w=function(){function AppModule(){}return AppModule=o([i.NgModule({imports:[a.BrowserModule,s.FormsModule,l.HttpModule,d.MdlModule,p.routing],declarations:[m.AppComponent,h.ParameteriseComponent,u.PlotComponent,f.PageNotFoundComponent,g.WidthLengthTableComponent,y.JsonInputComponent,b.MyJsonPipe,v.NotYetImplimentedComponent,S.HomeComponent],providers:[C.ElectronApiService,R.DataService,j.CookieService,I.TitleService,c.Title,P.LocalStorageService],bootstrap:[m.AppComponent]}),r("design:paramtypes",[])],AppModule)}();t.AppModule=w},29:function(e,t,n){"use strict";var o=n(30),r=n(58),i=n(65),a=n(67),s=n(69),l=[{path:"home",component:s.HomeComponent,data:{title:"Home"}},{path:"export-import",component:a.NotYetImplimentedComponent},{path:"specifications",component:a.NotYetImplimentedComponent},{path:"dicom",component:a.NotYetImplimentedComponent},{path:"parameterise",component:r.ParameteriseComponent},{path:"model",component:a.NotYetImplimentedComponent},{path:"",component:s.HomeComponent},{path:"**",component:i.PageNotFoundComponent}];t.appRoutingProviders=[],t.routing=o.RouterModule.forRoot(l)},58:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(59),s=n(61),l=n(63),c=n(62),p=function(){function ParameteriseComponent(e,t,n){this.electronApiService=e,this.dataService=t,this.myTitleService=n,this.parameterisation={insert:{x:[0],y:[0]},width:null,length:null,circle:null,ellipse:null},this.jsonValid=!0,this.serverResponseValid=!0,this.dataInFlight=!1,this.submitDisabled=!1,this.refreshJsonInput=!1}return ParameteriseComponent.prototype.getData=function(){var e=localStorage.last_parameterisation;e?this.parameterisationFromLocalStorage(e):this.loadDemoData()},ParameteriseComponent.prototype.loadDemoData=function(){var e=JSON.parse(JSON.stringify(c.DEMO_PARAMETERISE_INPUT));this.insertUpdated(e.insert),this.jsonInputComponent.refresh=!0},ParameteriseComponent.prototype.onSubmit=function(){var e=this;this.dataInFlight=!0,this.checkSubmitButton(),this.electronApiService.parameteriseInsert(JSON.stringify(this.parameterisation.insert)).then(function(t){e.parameterisation.circle=t.circle,e.parameterisation.ellipse=t.ellipse,e.parameterisation.width=t.width,e.parameterisation.length=t.length,e.dataInFlight=!1,e.serverResponseValid=!0,e.checkSubmitButton(),localStorage.setItem(JSON.stringify(e.parameterisation.insert),JSON.stringify(e.parameterisation)),localStorage.setItem("last_parameterisation",JSON.stringify(e.parameterisation))})},ParameteriseComponent.prototype.parameterisationFromLocalStorage=function(e){var t=JSON.parse(e);this.parameterisation.insert=t.insert,this.parameterisation.width=t.width,this.parameterisation.length=t.length,this.parameterisation.circle=t.circle,this.parameterisation.ellipse=t.ellipse},ParameteriseComponent.prototype.insertUpdated=function(e){var t=localStorage.getItem(JSON.stringify(e));t?this.parameterisationFromLocalStorage(t):(this.parameterisation.insert=e,this.parameterisation.width=null,this.parameterisation.length=null,this.parameterisation.circle=null,this.parameterisation.ellipse=null)},ParameteriseComponent.prototype.onJsonStatusChange=function(e){this.jsonValid=e,this.checkSubmitButton()},ParameteriseComponent.prototype.checkSubmitButton=function(){this.dataInFlight||!this.jsonValid?this.submitDisabled=!0:this.submitDisabled=!1},ParameteriseComponent.prototype.ngOnInit=function(){this.getData(),this.myTitleService.setTitle("Parameterisation")},o([i.ViewChild("jsonInput"),r("design:type",Object)],ParameteriseComponent.prototype,"jsonInputComponent",void 0),ParameteriseComponent=o([i.Component({selector:"my-parameterise",template:n(64)}),r("design:paramtypes",[a.ElectronApiService,s.DataService,l.TitleService])],ParameteriseComponent)}();t.ParameteriseComponent=p},59:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(28);n(60);var s=function(){function ElectronApiService(e){this.http=e,this.parameteriseURL="http://electronapi.simonbiggs.net/parameterise",this.wakeUpURL="http://electronapi.simonbiggs.net/wakeup"}return ElectronApiService.prototype.wakeUpServer=function(){return this.http.get(this.wakeUpURL).toPromise()},ElectronApiService.prototype.parameteriseInsert=function(e){return this.http.post(this.parameteriseURL,e).toPromise().then(function(e){return e.json()})["catch"](this.handleError)},ElectronApiService.prototype.handleError=function(e){return console.error("An error occurred",e),Promise.reject(e.message||e)},ElectronApiService=o([i.Injectable(),r("design:paramtypes",[a.Http])],ElectronApiService)}();t.ElectronApiService=s},61:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(62),s=function(){function DataService(){}return DataService.prototype.getParameterisationData=function(){return Promise.resolve(a.DEMO_PARAMETERISE_INPUT)},DataService=o([i.Injectable(),r("design:paramtypes",[])],DataService)}();t.DataService=s},62:function(e,t){"use strict";var n={x:[.99,-.14,-1,-1.73,-2.56,-3.17,-3.49,-3.57,-3.17,-2.52,-1.76,-1.04,-.17,.77,1.63,2.36,2.79,2.91,3.04,3.22,3.34,3.37,3.08,2.54,1.88,1.02,.99],y:[5.05,4.98,4.42,3.24,1.68,.6,-.64,-1.48,-2.38,-3.77,-4.81,-5.26,-5.51,-5.58,-5.23,-4.64,-3.77,-2.77,-1.68,-.29,1.23,2.68,3.8,4.6,5.01,5.08,5.05]};t.DEMO_PARAMETERISE_INPUT={insert:n,circle:null,ellipse:null,width:null,length:null}},63:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function TitleService(){this.title="Home"}return TitleService.prototype.getTitle=function(){return this.title},TitleService.prototype.setTitle=function(e){this.title=e},TitleService=o([i.Injectable(),r("design:paramtypes",[])],TitleService)}();t.TitleService=a},64:function(e,t){e.exports='<div class="mdl-grid">\r\n  Parameterisations are saved within your browser\'s local storage.\r\n</div>\r\n<div class="mdl-grid">\r\n    <div class="mdl-cell mdl-cell--6-col">\r\n    <my-json-input #jsonInput\r\n      [insert]="parameterisation.insert"\r\n      [jsonDisabled]="dataInFlight"\r\n      (insertUpdated)="insertUpdated($event)"\r\n      (jsonStatus)="onJsonStatusChange($event)">\r\n    </my-json-input>\r\n\r\n    <div class="mdl-grid">\r\n      <div class="mdl-cell mdl-cell--6-col">\r\n        <button\r\n          mdl-button mdl-button-type="raised" \r\n          mdl-colored="primary" \r\n          mdl-ripple\r\n          [disabled]="dataInFlight"\r\n          (click)="loadDemoData()">Load Demo Data            \r\n        </button>\r\n        <button\r\n          mdl-button mdl-button-type="raised" \r\n          mdl-colored="primary" \r\n          mdl-ripple\r\n          [disabled]="submitDisabled"\r\n          (click)="onSubmit()">Submit            \r\n        </button>\r\n        <div [hidden]="serverResponseValid">\r\n          {{serverErrorMessage}}\r\n        </div>\r\n      </div>\r\n      <div class="mdl-cell mdl-cell--6-col">\r\n        <my-width-length-table\r\n          [width]="parameterisation.width"\r\n          [length]="parameterisation.length"\r\n          [enabled]="jsonValid">\r\n        </my-width-length-table>\r\n      </div>\r\n    </div>\r\n\r\n    </div>\r\n    <div class="mdl-cell mdl-cell--6-col">\r\n      <my-plot \r\n        [insert]="parameterisation.insert"\r\n        [circle]="parameterisation.circle"\r\n        [ellipse]="parameterisation.ellipse"\r\n        [enabled]="jsonValid">\r\n      </my-plot>\r\n\r\n    </div>\r\n</div>\r\n'},65:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function PageNotFoundComponent(){}return PageNotFoundComponent=o([i.Component({selector:"my-page-not-found",template:n(66)}),r("design:paramtypes",[])],PageNotFoundComponent)}();t.PageNotFoundComponent=a},66:function(e,t){e.exports='<div class="mdl-grid">\r\n  <div class="mdl-cell mdl-cell--12-col">\r\n    This page has not been found. Please provide feedback ...\r\n  </div>\r\n</div>'},67:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function NotYetImplimentedComponent(){}return NotYetImplimentedComponent=o([i.Component({selector:"my-not-yet-implimented",template:n(68)}),r("design:paramtypes",[])],NotYetImplimentedComponent)}();t.NotYetImplimentedComponent=a},68:function(e,t){e.exports='<div class="mdl-grid">\r\n  <div class="mdl-cell mdl-cell--12-col">\r\n    Due to this web app being a work in progress this page is not yet implimented.\r\n  </div>\r\n</div>'},69:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(63),s=n(70),l=function(){function HomeComponent(e,t){this.myTitleService=e,this.myLocalStorageService=t}return HomeComponent.prototype.ngOnInit=function(){this.myTitleService.setTitle("Home"),this.testLocalStorage=this.myLocalStorageService.isSupported,this.usedLocalStorageSpace=this.myLocalStorageService.getUsedSpace()},HomeComponent.prototype.testRemainingStorage=function(){this.remainingLocalStorageSpace=this.myLocalStorageService.getRemainingSpace()},HomeComponent=o([i.Component({selector:"my-home",template:n(72)}),r("design:paramtypes",[a.TitleService,s.LocalStorageService])],HomeComponent)}();t.HomeComponent=l},70:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(71),s=function(){function LocalStorageService(){this.isSupported=a.LocalStorage.isSupported,this.hasItem=a.LocalStorage.hasItem,this.getRemainingSpace=a.LocalStorage.getRemainingSpace,this.getMaximumSpace=a.LocalStorage.getMaximumSpace,this.getUsedSpace=a.LocalStorage.getUsedSpace,this.getItemUsedSpace=a.LocalStorage.getItemUsedSpace,this.getBackup=a.LocalStorage.getBackup,this.applyBackup=a.LocalStorage.applyBackup,this.consoleInfo=a.LocalStorage.consoleInfo}return LocalStorageService=o([i.Injectable(),r("design:paramtypes",[])],LocalStorageService)}();t.LocalStorageService=s},71:function(e,t){"use strict";var n;!function(e){function hasItem(e){return null!==localStorage.getItem(e)}function getRemainingSpace(){for(var e=localStorage.getItem(""),t=!0,n="1",o="",r="";;)try{r=o+n,localStorage.setItem("",r),o=r,t&&(n+=n)}catch(i){if(n.length<2)break;t=!1,n=n.substr(n.length/2)}return null===e?localStorage.removeItem(""):localStorage.setItem("",e),o.length}function getMaximumSpace(){var e=getBackup();localStorage.clear();var t=getRemainingSpace();return applyBackup(e),t}function getUsedSpace(){for(var e=0,t=0;t<localStorage.length;++t){var n=localStorage.key(t),o=localStorage.getItem(n);e+=n.length+o.length}return e}function getItemUsedSpace(e){var t=localStorage.getItem(e);return null===t?NaN:e.length+t.length}function getBackup(){for(var e={},t=0;t<localStorage.length;++t){var n=localStorage.key(t),o=localStorage.getItem(n);e[n]=o}return e}function applyBackup(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),1==t&&localStorage.clear();for(var o in e)if(n!==!1||void 0===e[o]){var r=e[o];localStorage.setItem(o,r)}}function consoleInfo(e){void 0===e&&(e=!1);for(var t=0,n=0,o=0;o<localStorage.length;++o){var r=localStorage.key(o),i=localStorage.getItem(r);console.log(t,r,i),n+=r.length+i.length,t++}if(console.log("Total entries:",t),console.log("Total size:",n),e===!0){var a=getMaximumSpace();console.log("Total size:",a)}}e.isSupported=function(){try{var e=localStorage.getItem("");return localStorage.removeItem(""),localStorage.setItem("",e),null===e?localStorage.removeItem(""):localStorage.setItem("",e),!0}catch(t){return!1}}(),e.hasItem=hasItem,e.getRemainingSpace=getRemainingSpace,e.getMaximumSpace=getMaximumSpace,e.getUsedSpace=getUsedSpace,e.getItemUsedSpace=getItemUsedSpace,e.getBackup=getBackup,e.applyBackup=applyBackup,e.consoleInfo=consoleInfo}(n=t.LocalStorage||(t.LocalStorage={}))},72:function(e,t){e.exports='<div class="mdl-grid">\r\n  <div class="mdl-cell mdl-cell--12-col">\r\n    <h4>Parameterisation</h4>\r\n    Please head on over to <a routerLink="/parameterise">http://electrons.simonbiggs.net/parameterise</a> as this is the only\r\n    section currently implimented.\r\n\r\n    <h4>Local storage tests</h4>\r\n    <p></p>\r\n    \r\n    <div *ngIf="testLocalStorage">\r\n      <p>Your browser supports local storage. \r\n        You currently have {{usedLocalStorageSpace}} B of used space. Most browsers support 5 MB.\r\n      </p>\r\n\r\n      <p>To check your remaining storage press the button below. Warning, this might be slow.</p>\r\n      <button\r\n        mdl-button mdl-button-type="raised" \r\n        mdl-colored="primary" \r\n        mdl-ripple\r\n        (click)="testRemainingStorage()">Test remaining local storage           \r\n      </button>\r\n      <div *ngIf="remainingLocalStorageSpace">\r\n        <p>You have {{remainingLocalStorageSpace}} B of local storage remaining \r\n        which is available for use by this webapp.</p>\r\n      </div>\r\n    </div>\r\n    <div *ngIf="!testLocalStorage">\r\n      <p>\r\n        This webapp relies upon local storage working within your browser.\r\n        Your browser does not support local storage.\r\n        Please download and use a modern standards complient browser such as \r\n        <a href="https://www.google.com.au/chrome/browser/desktop/">Chrome</a> or \r\n        <a href="https://www.mozilla.org/en-GB/firefox/new/">Firefox</a> to use this webapp.\r\n      </p>\r\n    </div>\r\n\r\n\r\n    \r\n    \r\n\r\n    <h4>Brief overview</h4>\r\n\r\n    <h4>Paper(s?)</h4>\r\n\r\n    <h4>Source code</h4>\r\n\r\n    <h4>Detailed instructions</h4>\r\n\r\n  </div>\r\n</div>'},124:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(30),s=n(21),l=n(59),c=n(63),p=function(){function AppComponent(e,t,n,o){var r=this;this.electronApiService=e,this.myTitleService=t,this.router=n,this.title=o,n.events.filter(function(e){return e instanceof a.NavigationEnd}).subscribe(function(){r.pageTitle=r.myTitleService.getTitle(),r.title.setTitle(r.myTitleService.getTitle()+" | Electron Insert Factor Modelling")})}return AppComponent.prototype.ngOnInit=function(){var e=sessionStorage.redirect;delete sessionStorage.redirect,e&&e!=location.href&&(history.replaceState(null,null,e),this.router.navigate([e])),this.electronApiService.wakeUpServer(),this.pageTitle=this.myTitleService.getTitle(),this.title.setTitle(this.myTitleService.getTitle()+" | Electron Insert Factor Modelling")},AppComponent=o([i.Component({selector:"my-app",template:n(125)}),r("design:paramtypes",[l.ElectronApiService,c.TitleService,a.Router,s.Title])],AppComponent)}();t.AppComponent=p},125:function(e,t){e.exports='<mdl-layout mdl-layout-fixed-drawer mdl-layout-fixed-header>\r\n  <mdl-layout-header>\r\n    <mdl-layout-header-row>\r\n      <mdl-layout-title>{{pageTitle}}</mdl-layout-title>\r\n    </mdl-layout-header-row>\r\n  </mdl-layout-header>\r\n  <mdl-layout-drawer>\r\n    <mdl-layout-title>Electron Factors</mdl-layout-title>\r\n    <nav class="mdl-navigation">\r\n      <a class="mdl-navigation__link" routerLink="/home" routerLinkActive="active" href>Home</a>\r\n      <a class="mdl-navigation__link" routerLink="/export-import" routerLinkActive="active" href>Export / Import</a>\r\n      <a class="mdl-navigation__link" routerLink="/specifications" routerLinkActive="active" href>Machine specifications</a>\r\n      <a class="mdl-navigation__link" routerLink="/dicom" routerLinkActive="active" href>Dicom shape extraction</a>\r\n      <a class="mdl-navigation__link" routerLink="/parameterise" routerLinkActive="active" href>Parameterise inserts</a>\r\n      <a class="mdl-navigation__link" routerLink="/model" routerLinkActive="active" href>Model insert factors</a>\r\n    </nav>\r\n  </mdl-layout-drawer>\r\n  <mdl-layout-content>\r\n    <router-outlet></router-outlet>\r\n  </mdl-layout-content>\r\n</mdl-layout>'},126:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(127),s=function(){function PlotComponent(){this.jsonValid=!0,this.plt=Bokeh.Plotting,this.tools="pan,crosshair,wheel_zoom,box_zoom,reset,save",this.xrange=Bokeh.Range1d(-6,6),this.yrange=Bokeh.Range1d(-6,6),this.fig=this.plt.figure({title:"Electron Insert Plot",tools:this.tools,plot_width:300,plot_height:300,x_range:this.xrange,y_range:this.yrange}),this.source=new Bokeh.ColumnDataSource,this.doc=new Bokeh.Document}return PlotComponent.prototype.ngOnChanges=function(){this.jsonValid=!1,this.tempSource={xs:[[0],[0],[0]],ys:[[0],[0],[0]],colour:["navy","firebrick","green"]},this.enabled&&(this.insert&&"x"in this.insert&&"y"in this.insert&&(this.tempSource.xs[0]=this.insert.x.concat(this.insert.x[0]),this.tempSource.ys[0]=this.insert.y.concat(this.insert.y[0])),this.circle&&"x"in this.circle&&"y"in this.circle&&(this.tempSource.xs[1]=this.circle.x,this.tempSource.ys[1]=this.circle.y),this.ellipse&&"x"in this.ellipse&&"y"in this.ellipse&&(this.tempSource.xs[2]=this.ellipse.x,this.tempSource.ys[2]=this.ellipse.y)),this.source.data=this.tempSource},PlotComponent.prototype.ngAfterViewInit=function(){this.ngOnChanges(),this.fig.multi_line({field:"xs"},{field:"ys"},{source:this.source,line_width:2,color:{field:"colour"}}),this.doc.add_root(this.fig),Bokeh.embed.add_document_standalone(this.doc,this.bokehplot.nativeElement)},o([i.Input(),r("design:type",a.Coordinates)],PlotComponent.prototype,"insert",void 0),o([i.Input(),r("design:type",a.Coordinates)],PlotComponent.prototype,"circle",void 0),o([i.Input(),r("design:type",a.Coordinates)],PlotComponent.prototype,"ellipse",void 0),o([i.Input(),r("design:type",Boolean)],PlotComponent.prototype,"enabled",void 0),o([i.ViewChild("bokehplot"),r("design:type",Object)],PlotComponent.prototype,"bokehplot",void 0),PlotComponent=o([i.Component({selector:"my-plot",template:n(128),styles:[n(129)]}),r("design:paramtypes",[])],PlotComponent)}();t.PlotComponent=s},127:function(e,t){"use strict";var n=function(){function Coordinates(e,t){this.x=e,this.y=t}return Coordinates}();t.Coordinates=n},128:function(e,t){e.exports='\r\n  <div class="bk-root" style="height:300px">\r\n    <div #bokehplot></div>\r\n  </div>\r\n\r\n\r\n  <div [hidden]="jsonValid" class="alert alert-danger">\r\n      {{jsonErrorMessage}}\r\n  </div>\r\n'},129:function(e,t){e.exports=""},130:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(73),s=function(){function WidthLengthTableComponent(){this.tableData=[{width:null,length:null}],this.tableModel=new a.MdlDefaultTableModel([{key:"width",name:"Width",sortable:!0,numeric:!0},{key:"length",name:"Length",sortable:!0,numeric:!0}])}return WidthLengthTableComponent.prototype.ngOnChanges=function(){this.enabled?(this.tableData[0].width=this.width,this.tableData[0].length=this.length):(this.tableData[0].width=null,this.tableData[0].length=null)},WidthLengthTableComponent.prototype.ngOnInit=function(){this.tableModel.addAll(this.tableData)},o([i.Input(),r("design:type",Number)],WidthLengthTableComponent.prototype,"width",void 0),o([i.Input(),r("design:type",Number)],WidthLengthTableComponent.prototype,"length",void 0),o([i.Input(),r("design:type",Boolean)],WidthLengthTableComponent.prototype,"enabled",void 0),WidthLengthTableComponent=o([i.Component({selector:"my-width-length-table",template:n(131)}),r("design:paramtypes",[])],WidthLengthTableComponent)}();t.WidthLengthTableComponent=s},131:function(e,t){e.exports='<mdl-table mdl-shadow="2"\r\n  [table-model]="tableModel">\r\n</mdl-table>'},132:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(133),s=n(127),l=function(){function JsonInputComponent(){this.insertUpdated=new i.EventEmitter,this.jsonStatus=new i.EventEmitter,this.jsonValid=!0}return JsonInputComponent.prototype.onInput=function(e){this.parseAndCheckJSON(e),this.insertUpdated.emit(this.insert)},JsonInputComponent.prototype.ngOnChanges=function(){this.refresh&&(this.jsonInputDir.value=(new a.MyJsonPipe).transform(this.insert),this.parseAndCheckJSON(this.jsonInputDir.value),this.refresh=!1)},JsonInputComponent.prototype.parseAndCheckJSON=function(e){var t=this.jsonValid;this.jsonValid=!1;try{var n=JSON.parse(e);if("x"in n&&"y"in n)if(n.x.length===n.y.length){var o=n.x,r=n.y,i={x:o,y:r};this.insert=i,this.jsonValid=!0}else this.jsonErrorMessage="The length of x doesn't match the length of y.";else this.jsonErrorMessage="Either x or y is missing."}catch(a){this.jsonErrorMessage="Error in JSON input. "+a}finally{this.jsonValid!=t&&this.jsonStatus.emit(this.jsonValid)}},o([i.Input(),r("design:type",s.Coordinates)],JsonInputComponent.prototype,"insert",void 0),o([i.Input(),r("design:type",Boolean)],JsonInputComponent.prototype,"jsonDisabled",void 0),o([i.Input(),r("design:type",Boolean)],JsonInputComponent.prototype,"refresh",void 0),o([i.Output(),r("design:type",Object)],JsonInputComponent.prototype,"insertUpdated",void 0),o([i.Output(),r("design:type",Object)],JsonInputComponent.prototype,"jsonStatus",void 0),o([i.ViewChild("jsonInput"),r("design:type",Object)],JsonInputComponent.prototype,"jsonInputDir",void 0),JsonInputComponent=o([i.Component({selector:"my-json-input",template:n(134)}),r("design:paramtypes",[])],JsonInputComponent)}();t.JsonInputComponent=l},133:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function MyJsonPipe(){}return MyJsonPipe.prototype.transform=function(e){var t=JSON.stringify(e);return t=t.replace(/,/g,", ")},MyJsonPipe=o([i.Pipe({name:"myJson",pure:!1}),r("design:paramtypes",[])],MyJsonPipe)}();t.MyJsonPipe=a},134:function(e,t){e.exports='<mdl-textfield #jsonInput\r\n  [value]="insert | myJson"\r\n  (input)="onInput($event.target.value)"\r\n  rows="8" \r\n  style="width:100%"\r\n  [disabled]=jsonDisabled>\r\n</mdl-textfield>\r\n<div *ngIf="!jsonValid">\r\n  {{jsonErrorMessage}}\r\n</div>'}});
//# sourceMappingURL=app.853aae32a744784043c4.js.map