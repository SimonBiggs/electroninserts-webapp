{"version":3,"sources":["webpack:///app.2381bf5177e8161b772e.js","webpack:///./src/main.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routing.ts","webpack:///./src/app/parameterise.component.ts","webpack:///./src/app/electron-api.service.ts","webpack:///./src/app/data.service.ts","webpack:///./src/app/demo-data.ts","webpack:///./src/app/title.service.ts","webpack:///./src/app/model-data.ts","webpack:///./src/app/parameterise.component.html","webpack:///./src/app/page-not-found.component.ts","webpack:///./src/app/page-not-found.component.html","webpack:///./src/app/home.component.ts","webpack:///./src/app/home.component.html","webpack:///./src/app/create-model.component.ts","webpack:///./src/app/create-model.component.html","webpack:///./src/app/use-model.component.ts","webpack:///./src/app/sanitise-validation.ts","webpack:///./src/app/use-model.component.html","webpack:///./src/app/storage-management.component.ts","webpack:///./src/app/local-storage.service.ts","webpack:///./src/app/localstoragemodule.ts","webpack:///./src/app/storage-management.component.html","webpack:///./src/app/specifications.component.ts","webpack:///./src/app/specifications.component.html","webpack:///./src/app/dicom.component.ts","webpack:///./src/app/dicom.component.html","webpack:///./~/angulartics2/src/providers/angulartics2-google-analytics.js","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/plot.component.ts","webpack:///./src/app/coordinates.ts","webpack:///./src/app/bokeh-plot.html","webpack:///./src/app/width-length-table.component.ts","webpack:///./src/app/width-length-table.component.html","webpack:///./src/app/json-input.component.ts","webpack:///./src/app/my-json.pipe.ts","webpack:///./src/app/json-input.component.html","webpack:///./src/app/json-edit.component.ts","webpack:///./src/app/json-edit.component.html","webpack:///./src/app/send-to-parameterisation.component.ts","webpack:///./src/app/send-to-parameterisation.component.html","webpack:///./src/app/bokeh-create-model.component.ts","webpack:///./src/app/bokeh-pcolour.ts","webpack:///./src/app/bokeh-use-model.component.ts","webpack:///./src/app/choose-specifications.component.ts","webpack:///./src/app/choose-specifications.component.html"],"names":["webpackJsonp","module","exports","__webpack_require__","platform_browser_dynamic_1","core_1","app_module_1","enableProdMode","platformBrowserDynamic","bootstrapModule","AppModule","__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","platform_browser_1","forms_1","http_1","platform_browser_2","app_routing_1","angulartics2_google_analytics_1","angulartics2_1","angular2_mdl_1","app_component_1","plot_component_1","parameterise_component_1","page_not_found_component_1","width_length_table_component_1","json_input_component_1","home_component_1","create_model_component_1","use_model_component_1","storage_management_component_1","specifications_component_1","dicom_component_1","json_edit_component_1","send_to_parameterisation_component_1","bokeh_create_model_component_1","bokeh_use_model_component_1","choose_specifications_component_1","my_json_pipe_1","model_data_1","electron_api_service_1","data_service_1","title_service_1","local_storage_service_1","NgModule","imports","BrowserModule","FormsModule","HttpModule","MdlModule","routing","Angulartics2Module","forRoot","declarations","AppComponent","ParameteriseComponent","PlotComponent","PageNotFoundComponent","WidthLengthTableComponent","JsonInputComponent","MyJsonPipe","HomeComponent","CreateModelComponent","UseModelComponent","StorageManagementComponent","SpecificationsComponent","DicomComponent","SendToParameterisationComponent","JsonEditComponent","BokehCreateModelComponent","BokehUseModelComponent","ChooseSpecificationsComponent","providers","ElectronApiService","DataService","TitleService","Title","LocalStorageService","Angulartics2GoogleAnalytics","ModelData","ModelMeasurement","ModelGrid","Predictions","bootstrap","router_1","appRoutes","path","component","data","title","redirectTo","appRoutingProviders","RouterModule","demo_data_1","electronApiService","dataService","myTitleService","router","modelData","parameterisation","insert","x","y","width","circle","ellipse","jsonValid","xInputValid","yInputValid","equalLengths","serverResponseValid","dataInFlight","submitDisabled","refreshJsonInput","insertData","machine","energy","applicator","ssd","factor","machineExists","machineSettingsExist","modelExists","ableToAddDataToModel","dataAlreadyExistsOnModel","serverError","prototype","ngOnInit","getData","setTitle","parameteriseURL","localStorage","getItem","machineSpecifications","JSON","parse","checkMachineSettings","checkIfCanBeSentToModel","updateTextAreaValues","createKey","stringify","String","Number","addMeasuredFactor","measurement","model","push","setItem","predictFactor","currentSettings","loadModelData","predictions","unshift","measuredFactor","saveModelData","navigate","textAreaX","replace","textAreaY","checkIfEqualLengths","saveInsertData","validateInput","input","test","inputTextAreaX","xInput","eval","insertUpdated","err","console","log","inputTextAreaY","yInput","localStorageInsertDataString","loadDemoData","demoData","DEMO_PARAMETERISE_INPUT","sleep","time","Promise","resolve","setTimeout","recursiveServerSubmit","_this","sendToServer","then","parameterisationResult","complete","checkSubmitButton","indexOf","R50","specifications","insertDataChange","onSubmit","insertDataFromLocalStorage","localStorageInsertData","parameterisationFromLocalStorage","localStorageParameterisationString","localStorageParameterisation","onJsonStatusChange","jsonStatus","parameterisationServerChange","serverUrl","Component","selector","template","Router","http","wakeUpURL","wakeUpServer","get","toPromise","URL","post","res","json","handleError","error","reject","message","Injectable","Http","getParameterisationData","getTitle","__extends","b","__","constructor","p","hasOwnProperty","create","Base","reset","_i","_a","propNames","propName","fillFromObject","object","updateOldKeyNames","newKey","oldKey","keyConversions","_super","apply","predictedFactor","area","_b","_c","createLocalStorageKey","localStorageKey","parsedData","ngZone","textboxInput","textboxLabels","textboxValid","lengthSmallerThanWidth","plot_width","window","onresize","e","run","updatePlotWidth","modelURL","plotContainer","nativeElement","clientWidth","currentMachineSettingsUpdated","newSettings","loadMeasuredData","checkLengthSmallerThanWidth","updateTextboxInput","saveModel","onTextboxChange","newInput","basicServerSubmit","modelResult","model_width","model_length","model_factor","modelServerChange","newModelURL","defaultServer","settingsPicker","ViewChild","NgZone","sanitise_validation_1","modelLookup","predictionDifference","lastEdit","updateModelLookup","updatePredictedFactors","lookupFactor","Math","round","amount","min","updatePredictionDifference","difference","convertLengthToArea","PI","convertAreaToLength","updateAreaFromLength","updateLengthFromArea","updateAllTextboxInputs","myLocalStorageService","testLocalStorage","isSupported","usedLocalStorageSpace","getUsedSpace","testRemainingStorage","remainingLocalStorageSpace","getRemainingSpace","localstoragemodule_1","LocalStorage","hasItem","getMaximumSpace","getItemUsedSpace","getBackup","applyBackup","consoleInfo","itemBackup","increase","totalData","trytotalData","substr","removeItem","backup","clear","max","sum","value","NaN","fClear","fOverwriteExisting","undefined","fShowMaximumSize","size","maxSize","newMachineIDValid","newModelValid","newMachineValid","edittingMachine","newEnergyValid","newR50Valid","newEnergySetValid","edittingEnergy","newApplicatorValid","edittingApplicator","newSSDValid","edittingSSD","changeSpecifications","newSpecifications","machines","keys","sort","currentMachine","updateSpecifications","changeCurrentMachine","updateCurrentMachine","checkNewMachineIDInput","newMachineID","checkNewMachineValid","checkNewModelInput","newModel","addMachineID","checkNewEnergyInput","newEnergy","isNaN","checkNewEnergySetValid","checkNewR50Input","newR50","addEnergy","checkNewApplicatorInput","newApplicator","toLowerCase","addApplicator","checkNewSSDInput","newSSD","addSSD","editMachine","finishMachineEdit","idInput","modelInput","deleteMachine","index","splice","js_yaml_1","dicomExitCode","reader","FileReader","onload","onceFileIsLoaded","insertListString","insertList","Module","print","sendDicomDumpToGlobalVariable","updateDicomWarning","status","getBlockDataButton","disabled","dicomWarning","content","Int8Array","result","fileName","FS","isFile","unlink","writeFile","encoding","exit_orig","exit","callMain","openFile","event","files","file","readAsArrayBuffer","convertDicomDumpToDict","dump","yamlConvert","safeLoad","convertBlockDataToCoords","blockData","listString","exec","toString","num","parseFloat","toFixed","dicomPullNumber","dicomPullString","getBlockData","dicomPrint","dicomDict","beamSequence","beamSequence_1","beam","temp","coordinates","sendToParameterisation","styles","angulartics2","settings","pageTracking","trackRelativePath","ga","additionalAccountNames","userId","pageTrack","subscribe","eventTrack","action","properties","exceptionTrack","setUsername","setUserProperties","userTimings","_gaq","accountName","category","parsed","parseInt","eventOptions","eventCategory","eventAction","eventLabel","label","eventValue","nonInteraction","noninteraction","page","location","hash","substring","pathname","setDimensionsAndMetrics","transport","appId","appName","appVersion","fatal","exFatal","exDescription","description","timingCategory","timingVar","timingValue","idx","type","ctorParameters","Angulartics2","angulartics2GoogleAnalytics","events","filter","NavigationEnd","pageTitle","coordinates_1","insert_x","insert_y","enabled","plot_height","plt","Bokeh","Plotting","tools","xrange","Range1d","yrange","fig","figure","x_range","y_range","source","ColumnDataSource","doc","Document","ngOnChanges","tempSource","xs","ys","colour","xAll","yAll","concat","xMax","xMin","yMax","yMin","range","sqXMax","sqXMin","sqYMax","sqYMin","attributes","start","end","ngAfterViewInit","multi_line","field","line_width","color","add_root","embed","add_document_standalone","bokehplot","Input","Array","Coordinates","Boolean","tableData","tableModel","MdlDefaultTableModel","name","sortable","numeric","addAll","EventEmitter","onInput","jsonInput","parseAndCheckJSON","emit","refresh","jsonInputDir","transform","oldJsonValid","parsedJSON","jsonErrorMessage","Output","jsonText","Pipe","pure","common_1","buttonText","inputUpdated","validationCheck","useMyJsonPipe","lines","JsonPipe","split","editedInput","updateInput","Function","bokeh_pcolour_1","scatter_z","updateHoverData","runAllUpdates","pcolour_data","pcolour_x","pcolour_hover_width","pcolour_y","pcolour_hover_length","z","pcolour_z","pcolour_hover_predicted_factor","_d","_e","hover_tool","HoverTool","tooltips","renderers","pcolour_renderer","add_tools","BokehPcolour","scatter_hover_width","scatter_hover_length","scatter_hover_area","scatter_hover_measured_factor","scatter_hover_predicted_factor","old_scatter_z","old_pcolour_z","scatter_c","pcolour_c","scatter_data","hover_width","hover_length","hover_area","hover_measured_factor","hover_predicted_factor","scatter_source","pcolour_source","viridis_hex","colour_mapper","LinearColorMapper","palette","ticker","BasicTicker","colour_bar","ColorBar","label_standoff","figureInitialise","rect","scatter_renderer","line_color","fill_color","add_layout","updateScatterData","updatePcolourData","updateScatterColour","updateSourceData","updateFigureDimensions","scatter_x","scatter_y","allZ","vmin","vmax","low","high","color_mapper","v_compute","height","predicted_factor","old_area","old_predicted_factor","_f","_g","_h","_j","a","settingsUpdated","allMachineSpecifications","machineList","currentMachineSpecifications","updateMachineID","newCurrentMachine","item","updateEnergy","newCurrentEnergy","updateApplicator","newCurrentApplicator","updateSSD","newCurrentSSD"],"mappings":"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","file":"app.2381bf5177e8161b772e.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar platform_browser_dynamic_1 = __webpack_require__(1);\n\tvar core_1 = __webpack_require__(3);\n\tvar app_module_1 = __webpack_require__(23);\n\tif (true) {\n\t    core_1.enableProdMode();\n\t}\n\tplatform_browser_dynamic_1.platformBrowserDynamic().bootstrapModule(app_module_1.AppModule);\n\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar platform_browser_1 = __webpack_require__(21);\n\tvar forms_1 = __webpack_require__(24);\n\tvar http_1 = __webpack_require__(28);\n\tvar platform_browser_2 = __webpack_require__(21);\n\t// import {MaterialModule} from '@angular/material'\n\tvar app_routing_1 = __webpack_require__(29);\n\tvar angulartics2_google_analytics_1 = __webpack_require__(118);\n\tvar angulartics2_1 = __webpack_require__(130);\n\tvar angular2_mdl_1 = __webpack_require__(132);\n\tvar app_component_1 = __webpack_require__(187);\n\tvar plot_component_1 = __webpack_require__(189);\n\tvar parameterise_component_1 = __webpack_require__(58);\n\tvar page_not_found_component_1 = __webpack_require__(66);\n\tvar width_length_table_component_1 = __webpack_require__(192);\n\tvar json_input_component_1 = __webpack_require__(194);\n\tvar home_component_1 = __webpack_require__(68);\n\tvar create_model_component_1 = __webpack_require__(70);\n\tvar use_model_component_1 = __webpack_require__(72);\n\tvar storage_management_component_1 = __webpack_require__(75);\n\tvar specifications_component_1 = __webpack_require__(79);\n\tvar dicom_component_1 = __webpack_require__(81);\n\tvar json_edit_component_1 = __webpack_require__(197);\n\tvar send_to_parameterisation_component_1 = __webpack_require__(199);\n\tvar bokeh_create_model_component_1 = __webpack_require__(201);\n\tvar bokeh_use_model_component_1 = __webpack_require__(203);\n\tvar choose_specifications_component_1 = __webpack_require__(204);\n\tvar my_json_pipe_1 = __webpack_require__(195);\n\tvar model_data_1 = __webpack_require__(64);\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar data_service_1 = __webpack_require__(61);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar local_storage_service_1 = __webpack_require__(76);\n\tvar AppModule = (function () {\n\t    function AppModule() {\n\t    }\n\t    AppModule = __decorate([\n\t        core_1.NgModule({\n\t            imports: [\n\t                platform_browser_1.BrowserModule,\n\t                forms_1.FormsModule,\n\t                http_1.HttpModule,\n\t                angular2_mdl_1.MdlModule,\n\t                //  MaterialModule.forRoot(),\n\t                app_routing_1.routing,\n\t                angulartics2_1.Angulartics2Module.forRoot()\n\t            ],\n\t            declarations: [\n\t                app_component_1.AppComponent,\n\t                parameterise_component_1.ParameteriseComponent,\n\t                plot_component_1.PlotComponent,\n\t                page_not_found_component_1.PageNotFoundComponent,\n\t                width_length_table_component_1.WidthLengthTableComponent,\n\t                json_input_component_1.JsonInputComponent,\n\t                my_json_pipe_1.MyJsonPipe,\n\t                home_component_1.HomeComponent,\n\t                create_model_component_1.CreateModelComponent,\n\t                use_model_component_1.UseModelComponent,\n\t                storage_management_component_1.StorageManagementComponent,\n\t                specifications_component_1.SpecificationsComponent,\n\t                dicom_component_1.DicomComponent,\n\t                send_to_parameterisation_component_1.SendToParameterisationComponent,\n\t                json_edit_component_1.JsonEditComponent,\n\t                bokeh_create_model_component_1.BokehCreateModelComponent,\n\t                bokeh_use_model_component_1.BokehUseModelComponent,\n\t                choose_specifications_component_1.ChooseSpecificationsComponent\n\t            ],\n\t            providers: [\n\t                electron_api_service_1.ElectronApiService,\n\t                data_service_1.DataService,\n\t                title_service_1.TitleService,\n\t                platform_browser_2.Title,\n\t                local_storage_service_1.LocalStorageService,\n\t                angulartics2_google_analytics_1.Angulartics2GoogleAnalytics,\n\t                model_data_1.ModelData, model_data_1.ModelMeasurement, model_data_1.ModelGrid, model_data_1.Predictions\n\t            ],\n\t            bootstrap: [\n\t                app_component_1.AppComponent\n\t            ]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], AppModule);\n\t    return AppModule;\n\t}());\n\texports.AppModule = AppModule;\n\n\n/***/ },\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar router_1 = __webpack_require__(30);\n\tvar parameterise_component_1 = __webpack_require__(58);\n\tvar page_not_found_component_1 = __webpack_require__(66);\n\tvar home_component_1 = __webpack_require__(68);\n\tvar create_model_component_1 = __webpack_require__(70);\n\tvar use_model_component_1 = __webpack_require__(72);\n\tvar storage_management_component_1 = __webpack_require__(75);\n\tvar specifications_component_1 = __webpack_require__(79);\n\tvar dicom_component_1 = __webpack_require__(81);\n\tvar appRoutes = [\n\t    {\n\t        path: 'home',\n\t        component: home_component_1.HomeComponent,\n\t        data: {\n\t            title: 'Home'\n\t        }\n\t    },\n\t    {\n\t        path: 'storage',\n\t        component: storage_management_component_1.StorageManagementComponent\n\t    },\n\t    {\n\t        path: 'specifications',\n\t        component: specifications_component_1.SpecificationsComponent\n\t    },\n\t    {\n\t        path: 'dicom',\n\t        component: dicom_component_1.DicomComponent\n\t    },\n\t    {\n\t        path: 'parameterise',\n\t        component: parameterise_component_1.ParameteriseComponent\n\t    },\n\t    {\n\t        path: 'create-model',\n\t        component: create_model_component_1.CreateModelComponent\n\t    },\n\t    {\n\t        path: 'use-model',\n\t        component: use_model_component_1.UseModelComponent\n\t    },\n\t    {\n\t        path: '',\n\t        component: home_component_1.HomeComponent\n\t    },\n\t    {\n\t        path: 'model',\n\t        redirectTo: 'create-model'\n\t    },\n\t    {\n\t        path: '**', component: page_not_found_component_1.PageNotFoundComponent\n\t    }\n\t];\n\texports.appRoutingProviders = [];\n\texports.routing = router_1.RouterModule.forRoot(appRoutes);\n\n\n/***/ },\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar router_1 = __webpack_require__(30);\n\t// import { CookieService } from 'angular2-cookie/core';\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar data_service_1 = __webpack_require__(61);\n\tvar title_service_1 = __webpack_require__(63);\n\t// import { LocalStorageService } from './local-storage.service';\n\tvar model_data_1 = __webpack_require__(64);\n\tvar demo_data_1 = __webpack_require__(62);\n\tvar ParameteriseComponent = (function () {\n\t    function ParameteriseComponent(electronApiService, dataService, myTitleService, router, modelData) {\n\t        this.electronApiService = electronApiService;\n\t        this.dataService = dataService;\n\t        this.myTitleService = myTitleService;\n\t        this.router = router;\n\t        this.modelData = modelData;\n\t        this.parameterisation = {\n\t            insert: {\n\t                x: [0],\n\t                y: [0]\n\t            },\n\t            width: null,\n\t            length: null,\n\t            circle: null,\n\t            ellipse: null\n\t        };\n\t        this.jsonValid = true;\n\t        this.xInputValid = true;\n\t        this.yInputValid = true;\n\t        this.equalLengths = true;\n\t        this.serverResponseValid = true;\n\t        this.dataInFlight = false;\n\t        this.submitDisabled = false;\n\t        this.refreshJsonInput = false;\n\t        this.insertData = {\n\t            machine: null,\n\t            parameterisation: this.parameterisation,\n\t            energy: null,\n\t            applicator: null,\n\t            ssd: null,\n\t            factor: null\n\t        };\n\t        this.machineExists = false;\n\t        this.machineSettingsExist = false;\n\t        this.modelExists = false;\n\t        this.ableToAddDataToModel = false;\n\t        this.dataAlreadyExistsOnModel = false;\n\t        this.serverError = false;\n\t    }\n\t    ParameteriseComponent.prototype.ngOnInit = function () {\n\t        this.getData();\n\t        this.myTitleService.setTitle('Parameterisation');\n\t        this.parameteriseURL = localStorage.getItem(\"parameteriseURL\");\n\t        if (this.parameteriseURL == null) {\n\t            this.parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n\t        }\n\t        this.machineSpecifications = JSON.parse(localStorage.getItem(\"specifications\"));\n\t        if (this.machineSpecifications == null) {\n\t            this.machineSpecifications = {};\n\t        }\n\t        this.checkMachineSettings();\n\t        this.checkIfCanBeSentToModel();\n\t        this.updateTextAreaValues();\n\t    };\n\t    ParameteriseComponent.prototype.createKey = function () {\n\t        var key = ('{\"machine\":' + JSON.stringify(String(this.insertData.machine)) + ',' +\n\t            '\"energy\":' + JSON.stringify(Number(this.insertData.energy)) + ',' +\n\t            '\"applicator\":' + JSON.stringify(String(this.insertData.applicator)) + ',' +\n\t            '\"ssd\":' + JSON.stringify(Number(this.insertData.ssd)) +\n\t            '}');\n\t        return key;\n\t    };\n\t    ParameteriseComponent.prototype.addMeasuredFactor = function (factor) {\n\t        this.dataAlreadyExistsOnModel = true;\n\t        this.ableToAddDataToModel = false;\n\t        var key = this.createKey();\n\t        var modelData = JSON.parse(localStorage.getItem(key));\n\t        if (modelData == null) {\n\t            modelData = {\n\t                measurement: {\n\t                    width: [],\n\t                    length: [],\n\t                    factor: [],\n\t                },\n\t                model: {\n\t                    width: [],\n\t                    length: [],\n\t                    factor: []\n\t                }\n\t            };\n\t        }\n\t        modelData.model.width = [];\n\t        modelData.model.length = [];\n\t        modelData.model.factor = [];\n\t        modelData.measurement.width.push(Number(this.insertData.parameterisation.width));\n\t        modelData.measurement.length.push(Number(this.insertData.parameterisation.length));\n\t        modelData.measurement.factor.push(Number(factor));\n\t        localStorage.setItem(key, JSON.stringify(modelData));\n\t        localStorage.setItem(\"current_machine\", JSON.stringify(Number(this.insertData.machine)));\n\t        localStorage.setItem(\"currentEnergy\", JSON.stringify(Number(this.insertData.energy)));\n\t        localStorage.setItem(\"currentApplicator\", JSON.stringify(this.insertData.applicator));\n\t        localStorage.setItem(\"currentSSD\", JSON.stringify(Number(this.insertData.ssd)));\n\t    };\n\t    ParameteriseComponent.prototype.predictFactor = function () {\n\t        localStorage.setItem(\"current_machine\", JSON.stringify(Number(this.insertData.machine)));\n\t        localStorage.setItem(\"currentEnergy\", JSON.stringify(Number(this.insertData.energy)));\n\t        localStorage.setItem(\"currentApplicator\", JSON.stringify(this.insertData.applicator));\n\t        localStorage.setItem(\"currentSSD\", JSON.stringify(Number(this.insertData.ssd)));\n\t        this.currentSettings = {\n\t            machine: this.insertData.machine,\n\t            energy: this.insertData.energy,\n\t            applicator: this.insertData.applicator,\n\t            ssd: this.insertData.ssd\n\t        };\n\t        this.modelData.loadModelData(this.currentSettings);\n\t        this.modelData.predictions.width.unshift(this.parameterisation.width);\n\t        this.modelData.predictions.length.unshift(this.parameterisation.length);\n\t        if (this.insertData.factor != 0 && this.insertData.factor != null) {\n\t            this.modelData.predictions.measuredFactor.unshift(this.insertData.factor);\n\t        }\n\t        this.modelData.saveModelData(this.currentSettings);\n\t        this.router.navigate([\"/use-model\"]);\n\t    };\n\t    ParameteriseComponent.prototype.updateTextAreaValues = function () {\n\t        this.textAreaX = String(this.parameterisation.insert.x)\n\t            .replace(/,/g, ', ');\n\t        this.textAreaY = String(this.parameterisation.insert.y)\n\t            .replace(/,/g, ', ');\n\t    };\n\t    ParameteriseComponent.prototype.checkIfEqualLengths = function () {\n\t        if (this.parameterisation.insert.x.length == this.parameterisation.insert.y.length) {\n\t            this.equalLengths = true;\n\t        }\n\t        else {\n\t            this.equalLengths = false;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.saveInsertData = function () {\n\t        this.insertData['parameterisation'] = this.parameterisation;\n\t        localStorage.setItem(\"last_insertData\", JSON.stringify(this.insertData));\n\t    };\n\t    ParameteriseComponent.prototype.validateInput = function (input) {\n\t        // return /^(-?\\d*(\\.\\d+)?[,;\\s]+)*-?\\d*(\\.\\d+)?[,;\\s]*$/.test(input)\n\t        return /^[-\\d\\.,;\\s]*$/.test(input);\n\t        // return true\n\t    };\n\t    ParameteriseComponent.prototype.inputTextAreaX = function (xInput) {\n\t        try {\n\t            if (this.validateInput(xInput)) {\n\t                this.parameterisation.insert.x = eval('[' + xInput.replace(/[,;\\n\\t]\\s*/g, ', ') + ']');\n\t                this.insertUpdated(this.parameterisation.insert);\n\t                this.xInputValid = true;\n\t                this.checkIfEqualLengths();\n\t                this.saveInsertData();\n\t                this.checkIfCanBeSentToModel();\n\t            }\n\t            else {\n\t                this.xInputValid = false;\n\t            }\n\t        }\n\t        catch (err) {\n\t            console.log(err);\n\t            this.xInputValid = false;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.inputTextAreaY = function (yInput) {\n\t        try {\n\t            if (this.validateInput(yInput)) {\n\t                this.parameterisation.insert.y = eval('[' + yInput.replace(/[,;\\n\\t]\\s*/g, ', ') + ']');\n\t                this.insertUpdated(this.parameterisation.insert);\n\t                this.yInputValid = true;\n\t                this.checkIfEqualLengths();\n\t                this.saveInsertData();\n\t                this.checkIfCanBeSentToModel();\n\t            }\n\t            else {\n\t                this.yInputValid = false;\n\t            }\n\t        }\n\t        catch (err) {\n\t            console.log(err);\n\t            this.yInputValid = false;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.getData = function () {\n\t        var localStorageInsertDataString = localStorage['last_insertData'];\n\t        if (localStorageInsertDataString) {\n\t            this.insertData = JSON.parse(localStorageInsertDataString);\n\t            var insert = this.insertData['parameterisation']['insert'];\n\t            this.insertUpdated(insert);\n\t            this.insertData['parameterisation'] = this.parameterisation;\n\t        }\n\t        else {\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.loadDemoData = function () {\n\t        var demoData = JSON.parse(JSON.stringify(demo_data_1.DEMO_PARAMETERISE_INPUT));\n\t        this.insertUpdated(demoData.insert);\n\t        // this.jsonInputComponent.refresh = true;\n\t        this.insertData = {\n\t            machine: null,\n\t            parameterisation: this.parameterisation,\n\t            energy: null,\n\t            applicator: null,\n\t            ssd: null,\n\t            factor: null\n\t        };\n\t        this.updateTextAreaValues();\n\t        this.checkIfEqualLengths();\n\t    };\n\t    ParameteriseComponent.prototype.sleep = function (time) {\n\t        return new Promise(function (resolve) { return setTimeout(resolve, time); });\n\t    };\n\t    ParameteriseComponent.prototype.recursiveServerSubmit = function () {\n\t        var _this = this;\n\t        this.serverError = false;\n\t        this.electronApiService.sendToServer(this.parameteriseURL, JSON.stringify(this.parameterisation.insert))\n\t            .then(function (parameterisationResult) {\n\t            _this.parameterisation.circle = parameterisationResult.circle;\n\t            _this.parameterisation.ellipse = parameterisationResult.ellipse;\n\t            _this.parameterisation.width = parameterisationResult.width;\n\t            _this.parameterisation.length = parameterisationResult.length;\n\t            var complete = parameterisationResult.complete;\n\t            if (complete) {\n\t                _this.dataInFlight = false;\n\t                _this.serverResponseValid = true;\n\t                _this.checkSubmitButton();\n\t                localStorage.setItem(JSON.stringify(_this.parameterisation.insert), JSON.stringify(_this.parameterisation));\n\t                _this.saveInsertData();\n\t                _this.checkIfCanBeSentToModel();\n\t                if (_this.parameterisation.width == null) {\n\t                    _this.serverError = true;\n\t                }\n\t            }\n\t            else {\n\t                _this.sleep(500).then(function () { return _this.recursiveServerSubmit(); });\n\t            }\n\t        });\n\t    };\n\t    ParameteriseComponent.prototype.checkIfCanBeSentToModel = function () {\n\t        this.ableToAddDataToModel = false;\n\t        this.dataAlreadyExistsOnModel = false;\n\t        if (this.machineSettingsExist) {\n\t            var key = this.createKey();\n\t            var modelData = JSON.parse(localStorage.getItem(key));\n\t            if (modelData == null) {\n\t                this.ableToAddDataToModel = true;\n\t            }\n\t            else if (modelData.measurement == null) {\n\t                this.ableToAddDataToModel = true;\n\t            }\n\t            else {\n\t                if (this.parameterisation.width != null && this.parameterisation.length != null && this.insertData.factor != null) {\n\t                    if (modelData.measurement.width.indexOf(Number(this.parameterisation.width)) > -1 &&\n\t                        modelData.measurement.length.indexOf(Number(this.parameterisation.length)) > -1 &&\n\t                        modelData.measurement.factor.indexOf(Number(this.insertData.factor)) > -1) {\n\t                        this.dataAlreadyExistsOnModel = true;\n\t                    }\n\t                    else {\n\t                        this.dataAlreadyExistsOnModel = false;\n\t                        this.ableToAddDataToModel = true;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        // console.log(this.ableToAddDataToModel)\n\t    };\n\t    ParameteriseComponent.prototype.checkMachineSettings = function () {\n\t        this.R50 = null;\n\t        var machine = this.insertData['machine'];\n\t        var energy = this.insertData['energy'];\n\t        var applicator = this.insertData['applicator'];\n\t        var ssd = this.insertData['ssd'];\n\t        if (this.machineSpecifications[machine]) {\n\t            var specifications = this.machineSpecifications[machine];\n\t            this.R50 = specifications['R50'][energy];\n\t            if (specifications['energy'].indexOf(Number(energy)) > -1 &&\n\t                specifications['applicator'].indexOf(String(applicator)) > -1 &&\n\t                specifications['ssd'].indexOf(Number(ssd)) > -1) {\n\t                this.machineSettingsExist = true;\n\t            }\n\t            else {\n\t                this.machineSettingsExist = false;\n\t            }\n\t            this.machineExists = true;\n\t        }\n\t        else {\n\t            this.machineExists = false;\n\t            this.machineSettingsExist = false;\n\t            this.modelExists = false;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.insertDataChange = function () {\n\t        localStorage.setItem(\"last_insertData\", JSON.stringify(this.insertData));\n\t        this.checkMachineSettings();\n\t        this.checkIfCanBeSentToModel();\n\t    };\n\t    ParameteriseComponent.prototype.onSubmit = function () {\n\t        this.dataInFlight = true;\n\t        this.checkSubmitButton();\n\t        this.recursiveServerSubmit();\n\t    };\n\t    ParameteriseComponent.prototype.insertDataFromLocalStorage = function (localStorageInsertData) {\n\t    };\n\t    ParameteriseComponent.prototype.parameterisationFromLocalStorage = function (localStorageParameterisationString) {\n\t        var localStorageParameterisation = JSON.parse(localStorageParameterisationString);\n\t        this.parameterisation.insert = localStorageParameterisation['insert'];\n\t        this.parameterisation.width = localStorageParameterisation['width'];\n\t        this.parameterisation.length = localStorageParameterisation['length'];\n\t        this.parameterisation.circle = localStorageParameterisation['circle'];\n\t        this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n\t    };\n\t    ParameteriseComponent.prototype.insertUpdated = function (insert) {\n\t        var localStorageParameterisation = localStorage.getItem(JSON.stringify(insert));\n\t        if (localStorageParameterisation) {\n\t            this.parameterisationFromLocalStorage(localStorageParameterisation);\n\t        }\n\t        else {\n\t            this.parameterisation.insert = insert;\n\t            this.parameterisation.width = null;\n\t            this.parameterisation.length = null;\n\t            this.parameterisation.circle = null;\n\t            this.parameterisation.ellipse = null;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.onJsonStatusChange = function (jsonStatus) {\n\t        this.jsonValid = jsonStatus;\n\t        this.checkSubmitButton();\n\t    };\n\t    ParameteriseComponent.prototype.checkSubmitButton = function () {\n\t        if (this.dataInFlight || !this.jsonValid) {\n\t            this.submitDisabled = true;\n\t        }\n\t        else {\n\t            this.submitDisabled = false;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.parameterisationServerChange = function (serverUrl) {\n\t        localStorage.setItem(\"parameteriseURL\", serverUrl);\n\t    };\n\t    ParameteriseComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-parameterise',\n\t            template: __webpack_require__(65),\n\t        }), \n\t        __metadata('design:paramtypes', [electron_api_service_1.ElectronApiService, data_service_1.DataService, title_service_1.TitleService, router_1.Router, model_data_1.ModelData])\n\t    ], ParameteriseComponent);\n\t    return ParameteriseComponent;\n\t}());\n\texports.ParameteriseComponent = ParameteriseComponent;\n\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar http_1 = __webpack_require__(28);\n\t__webpack_require__(60);\n\tvar ElectronApiService = (function () {\n\t    function ElectronApiService(http) {\n\t        this.http = http;\n\t        // private parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n\t        // private modelURL = 'http://electronapi.simonbiggs.net/model';\n\t        this.wakeUpURL = 'http://electronapi.simonbiggs.net/wakeup';\n\t    }\n\t    // Initial get from server to wake it up\n\t    ElectronApiService.prototype.wakeUpServer = function () {\n\t        return this.http\n\t            .get(this.wakeUpURL).toPromise();\n\t    };\n\t    ElectronApiService.prototype.sendToServer = function (URL, input) {\n\t        return this.http\n\t            .post(URL, input)\n\t            .toPromise()\n\t            .then(function (res) {\n\t            var nan = null;\n\t            return res.json();\n\t        })\n\t            .catch(this.handleError);\n\t    };\n\t    ElectronApiService.prototype.handleError = function (error) {\n\t        console.error('An error occurred', error);\n\t        return Promise.reject(error.message || error);\n\t    };\n\t    ElectronApiService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [http_1.Http])\n\t    ], ElectronApiService);\n\t    return ElectronApiService;\n\t}());\n\texports.ElectronApiService = ElectronApiService;\n\n\n/***/ },\n/* 60 */,\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar demo_data_1 = __webpack_require__(62);\n\t// import { DEMO_MODEL_INPUT } from './demo-data';\n\tvar DataService = (function () {\n\t    function DataService() {\n\t    }\n\t    DataService.prototype.getParameterisationData = function () {\n\t        return Promise.resolve(demo_data_1.DEMO_PARAMETERISE_INPUT);\n\t    };\n\t    ;\n\t    DataService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], DataService);\n\t    return DataService;\n\t}());\n\texports.DataService = DataService;\n\n\n/***/ },\n/* 62 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar insert = {\n\t    x: [\n\t        0.99, -0.14, -1.0, -1.73, -2.56, -3.17, -3.49,\n\t        -3.57, -3.17, -2.52, -1.76, -1.04, -0.17,\n\t        0.77, 1.63, 2.36, 2.79, 2.91, 3.04, 3.22,\n\t        3.34, 3.37, 3.08, 2.54, 1.88, 1.02, 0.99],\n\t    y: [\n\t        5.05, 4.98, 4.42, 3.24, 1.68, 0.6, -0.64,\n\t        -1.48, -2.38, -3.77, -4.81, -5.26, -5.51,\n\t        -5.58, -5.23, -4.64, -3.77, -2.77, -1.68,\n\t        -0.29, 1.23, 2.68, 3.8, 4.6, 5.01, 5.08,\n\t        5.05]\n\t};\n\texports.DEMO_PARAMETERISE_INPUT = {\n\t    insert: insert,\n\t    circle: null,\n\t    ellipse: null,\n\t    width: null,\n\t    length: null\n\t};\n\t// export const DEMO_MODEL_INPUT: string =`{\n\t//   \"width\": [\n\t//     3.15, 3.16, 3.17, 3.17, 3.17, 3.55, 3.66, \n\t//     3.71, 4.2, 4.21, 4.21, 4.21, 4.21, 4.38, \n\t//     4.48, 4.59, 4.59, 4.67, 5.21, 5.25, 5.26,\n\t//     5.26, 5.26, 5.34, 5.43, 5.72, 5.86, 6, 6.04,\n\t//     6.08, 6.3, 6.31, 6.41, 6.53, 6.54, 6.64, 6.78,\n\t//     6.9, 7.08, 7.18, 7.21, 7.36, 7.56, 7.6, 7.64,\n\t//     7.82, 8.06, 8.4, 9.45], \n\t//   \"length\": [\n\t//     3.16, 5.25, 13.64, 6.83, 9.43, 7.7, 5.04, \n\t//     4.36, 4.21, 10.51, 13.65, 6.82, 8.41, 5.47, \n\t//     7.29, 5.67, 6.54, 6.28, 11.4, 5.26, 10.52, \n\t//     13.66, 8.41, 9.64, 11.02, 11.6, 8.62, 7.98,\n\t//     9.22, 6.64, 6.33, 8.24, 8.69, 10.99, 8.41, \n\t//     9.81, 10.98, 10.25, 10.77, 11.27, 9.03, 7.37,\n\t//     10.05, 10.26, 8.99, 10.85, 11.85, 8.42, 9.47],\n\t//   \"factor\": [\n\t//     0.9294, 0.9346, 0.9533, 0.9488, 0.9488, \n\t//     0.9443, 0.9434, 0.9488, 0.956, 0.9709, 0.9756,\n\t//     0.9606, 0.9709, 0.9634, 0.9606, 0.9588,\n\t//     0.9681, 0.9737, 0.9881, 0.9709, 0.9881,\n\t//     0.9872, 0.9833, 0.993, 0.9872, 0.999, 0.9891,\n\t//     0.9911, 0.999, 0.993, 0.9862, 0.9921, 0.999,\n\t//     1, 0.993, 0.999, 1.007, 0.999, 1.005, 0.999,\n\t//     1.0101, 1.003, 1.004, 1.0142, 1.003, 1.002,\n\t//     1.007, 1.007, 1.0081]\n\t// }` \n\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar TitleService = (function () {\n\t    function TitleService() {\n\t        this.title = 'Home';\n\t    }\n\t    TitleService.prototype.getTitle = function () {\n\t        return this.title;\n\t    };\n\t    TitleService.prototype.setTitle = function (title) {\n\t        this.title = title;\n\t    };\n\t    TitleService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], TitleService);\n\t    return TitleService;\n\t}());\n\texports.TitleService = TitleService;\n\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar Base = (function () {\n\t    function Base() {\n\t    }\n\t    Base.prototype.reset = function () {\n\t        for (var _i = 0, _a = this.propNames; _i < _a.length; _i++) {\n\t            var propName = _a[_i];\n\t            this[propName] = [];\n\t        }\n\t    };\n\t    Base.prototype.fillFromObject = function (object) {\n\t        object = this.updateOldKeyNames(object);\n\t        for (var _i = 0, _a = this.propNames; _i < _a.length; _i++) {\n\t            var propName = _a[_i];\n\t            if (object[propName] == null) {\n\t                this[propName] = [];\n\t            }\n\t            else {\n\t                this[propName] = object[propName];\n\t            }\n\t        }\n\t    };\n\t    Base.prototype.updateOldKeyNames = function (object) {\n\t        var newKey;\n\t        for (var oldKey in this.keyConversions) {\n\t            if (object[oldKey] != null && object[this.keyConversions[oldKey]] == null) {\n\t                newKey = this.keyConversions[oldKey];\n\t                Object.defineProperty(object, newKey, Object.getOwnPropertyDescriptor(object, oldKey));\n\t                delete object[oldKey];\n\t            }\n\t        }\n\t        return object;\n\t    };\n\t    return Base;\n\t}());\n\texports.Base = Base;\n\tvar ModelMeasurement = (function (_super) {\n\t    __extends(ModelMeasurement, _super);\n\t    function ModelMeasurement() {\n\t        _super.apply(this, arguments);\n\t        this.propNames = ['width', 'length', 'measuredFactor'];\n\t        this.keyConversions = {\n\t            'factor': 'measuredFactor'\n\t        };\n\t        this.width = [];\n\t        this.length = [];\n\t        this.measuredFactor = [];\n\t    }\n\t    ModelMeasurement = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], ModelMeasurement);\n\t    return ModelMeasurement;\n\t}(Base));\n\texports.ModelMeasurement = ModelMeasurement;\n\tvar ModelGrid = (function (_super) {\n\t    __extends(ModelGrid, _super);\n\t    function ModelGrid() {\n\t        _super.apply(this, arguments);\n\t        this.propNames = ['width', 'length', 'predictedFactor'];\n\t        this.keyConversions = {\n\t            'factor': 'predictedFactor'\n\t        };\n\t        this.width = [];\n\t        this.length = [];\n\t        this.predictedFactor = [];\n\t    }\n\t    ModelGrid = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], ModelGrid);\n\t    return ModelGrid;\n\t}(Base));\n\texports.ModelGrid = ModelGrid;\n\tvar Predictions = (function (_super) {\n\t    __extends(Predictions, _super);\n\t    function Predictions() {\n\t        _super.apply(this, arguments);\n\t        this.propNames = ['width', 'length', 'area', 'measuredFactor', 'predictedFactor'];\n\t        this.width = [];\n\t        this.length = [];\n\t        this.area = [];\n\t        this.measuredFactor = [];\n\t        this.predictedFactor = [];\n\t    }\n\t    Predictions = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], Predictions);\n\t    return Predictions;\n\t}(Base));\n\texports.Predictions = Predictions;\n\tvar ModelData = (function () {\n\t    // currentSettings: {\n\t    //   machine: string, \n\t    //   energy: number, \n\t    //   applicator: string, \n\t    //   ssd: number\n\t    // }\n\t    function ModelData(measurement, model, predictions) {\n\t        this.measurement = measurement;\n\t        this.model = model;\n\t        this.predictions = predictions;\n\t        this.propNames = ['measurement', 'model', 'predictions'];\n\t    }\n\t    ModelData.prototype.fillFromObject = function (object) {\n\t        if (object == null) {\n\t            for (var _i = 0, _a = this.propNames; _i < _a.length; _i++) {\n\t                var propName = _a[_i];\n\t                this[propName].reset();\n\t            }\n\t        }\n\t        else {\n\t            for (var _b = 0, _c = this.propNames; _b < _c.length; _b++) {\n\t                var propName = _c[_b];\n\t                if (object[propName] == null) {\n\t                    this[propName].reset();\n\t                }\n\t                else {\n\t                    this[propName].fillFromObject(object[propName]);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    ModelData.prototype.createLocalStorageKey = function (currentSettings) {\n\t        var localStorageKey = ('{\"machine\":' + JSON.stringify(String(currentSettings.machine)) + ',' +\n\t            '\"energy\":' + JSON.stringify(Number(currentSettings.energy)) + ',' +\n\t            '\"applicator\":' + JSON.stringify(String(currentSettings.applicator)) + ',' +\n\t            '\"ssd\":' + JSON.stringify(Number(currentSettings.ssd)) +\n\t            '}');\n\t        return localStorageKey;\n\t    };\n\t    ModelData.prototype.loadModelData = function (currentSettings) {\n\t        var localStorageKey = this.createLocalStorageKey(currentSettings);\n\t        var parsedData = JSON.parse(localStorage.getItem(localStorageKey));\n\t        this.fillFromObject(parsedData);\n\t    };\n\t    ModelData.prototype.saveModelData = function (currentSettings) {\n\t        var localStorageKey = this.createLocalStorageKey(currentSettings);\n\t        localStorage.setItem(localStorageKey, JSON.stringify(this));\n\t    };\n\t    ModelData = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [ModelMeasurement, ModelGrid, Predictions])\n\t    ], ModelData);\n\t    return ModelData;\n\t}());\n\texports.ModelData = ModelData;\n\n\n/***/ },\n/* 65 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\" style=\\\"display: flex; align-items: center; flex-flow: row wrap;\\\">\\n    <h5>Equivalent ellipse parameterisation</h5>\\n    <p>This is for the determination of equivalent ellipse widths and lengths as defined in the paper method.</p>\\n\\n    <p>\\n      To begin shape parameterisation you need to define your insert shape. \\n      This can be done by editing the x and y coordinates within the text boxes below or by using a shape       \\n      <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n        pulled from a dicom file.\\n      </a>\\n    </p>\\n\\n    <p>\\n      Coordinates can be separated by commas (,), semicolons (;), tabs, or new lines.\\n      This web app should handle copying and pasting from a range of sources (including excel).\\n      Number inputs can only contain the characters 0-9, a minus sign (-) and decimal points (.).\\n    </p>\\n\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"X coordinates (cm @iso)\\\"\\n      [(ngModel)]=\\\"textAreaX\\\"\\n      (input)=\\\"inputTextAreaX($event.target.value)\\\"\\n      rows=4\\n      floating-label\\n      [disabled]=\\\"dataInFlight\\\"\\n      [style.width]=\\\"'100%'\\\"></mdl-textfield>\\n\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Y coordinates (cm @iso)\\\"\\n      [(ngModel)]=\\\"textAreaY\\\"\\n      (input)=\\\"inputTextAreaY($event.target.value)\\\"\\n      rows=4\\n      floating-label\\n      [disabled]=\\\"dataInFlight\\\"\\n      [style.width]=\\\"'100%'\\\"></mdl-textfield>\\n\\n    <p *ngIf=\\\"!equalLengths\\\">\\n      The x and y coordinate lengths need to be the same as each other.\\n    </p>\\n\\n    <p *ngIf=\\\"this.parameterisation.insert.x.length < 3 || this.parameterisation.insert.y.length < 3\\\">\\n      You need at least 3 data points to create an insert shape.\\n    </p>\\n\\n    <div style=\\\"width:100%; height:30px\\\"></div>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Parameterise | Load demo data\\\"\\n      [disabled]=\\\"submitDisabled\\\"\\n      (click)=\\\"loadDemoData()\\\">Load Demo Data         \\n    </button>\\n\\n    <div style=\\\"width:20px; height:30px\\\"></div>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Parameterise | Parameterise insert\\\"\\n      [disabled]=\\\"submitDisabled || !xInputValid || !yInputValid || !equalLengths\\\"\\n      (click)=\\\"onSubmit()\\\">Parameterise Insert          \\n    </button>\\n\\n\\n\\n    <div [hidden]=\\\"serverResponseValid\\\">\\n      {{serverErrorMessage}}\\n    </div>\\n\\n    <div style=\\\"height:20px; width:100%;\\\"></div>\\n\\n    <my-plot \\n      [insert_x]=\\\"parameterisation.insert.x\\\"\\n      [insert_y]=\\\"parameterisation.insert.y\\\"\\n      [circle]=\\\"parameterisation.circle\\\"\\n      [ellipse]=\\\"parameterisation.ellipse\\\"\\n      [enabled]=\\\"xInputValid && yInputValid && equalLengths\\\">\\n    </my-plot>\\n\\n    <div style=\\\"height:20px; width:20px;\\\"></div>\\n\\n    <my-width-length-table\\n      [width]=\\\"parameterisation.width\\\"\\n      [length]=\\\"parameterisation.length\\\"\\n      [enabled]=\\\"xInputValid && yInputValid && equalLengths\\\">\\n    </my-width-length-table>\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Send parameterisation to model</h5>\\n    <p>\\n      Once you have parameterised an insert shape you may either predict this insert with the model, or you may add the insert to the model.\\n    </p>\\n    <p>\\n      To predict the insert with the model you must have filled in the correct machine ID, energy, applicator, and ssd in the text boxes below.\\n      Furthermore these inputs need to correspond to one of the \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        machine specifications you have defined.\\n      </a>\\n    </p>\\n    <p>\\n      To append the current insert shape along with its measured factor to the model you must have filled in the corresponding machine ID, energy, applicator, ssd, and measured factor in the text boxes below.\\n      Once again the machine specifications given need to correspond to one of the \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        machine specifications you have defined.\\n      </a>\\n    </p>\\n\\n\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Machine (ID)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.machine\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n    <p *ngIf=\\\"!machineExists\\\">\\n      This machine ID does not exist within your \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        provided machine specifications.\\n      </a>\\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Energy (Nominal or MeV)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.energy\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Applicator (ID)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.applicator\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"SSD (cm)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.ssd\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n    <p *ngIf=\\\"!machineSettingsExist\\\">\\n      These specific machine settings do not exist within your       \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        provided machine specifications.\\n      </a>\\n    </p>\\n\\n    <mdl-textfield #measuredFactor\\n      type=\\\"text\\\"\\n      label=\\\"Measured insert factor (as per TG 25)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.factor\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Parameterise | Add measured factor to model\\\"\\n      [disabled]=\\\"!ableToAddDataToModel || !machineSettingsExist || measuredFactor.value==null || measuredFactor.value=='' || submitDisabled || !xInputValid || !yInputValid || !equalLengths\\\"\\n      (click)=\\\"addMeasuredFactor(measuredFactor.value)\\\">Add Measured Factor to Model            \\n    </button>\\n\\n    <p *ngIf=\\\"dataAlreadyExistsOnModel && !submitDisabled && xInputValid && yInputValid && equalLengths && machineSettingsExist\\\">\\n      This width, length, and measured factor combination exists within the model.       \\n      <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n        View the model.\\n      </a>\\n    </p>\\n    \\n    <div style=\\\"height:20px; width:20px;\\\"></div>\\n\\n\\n\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\"\\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Parameterise | Predict factor with model\\\"\\n      [disabled]=\\\"!machineSettingsExist || submitDisabled || !xInputValid || !yInputValid || !equalLengths || parameterisation.width == null || parameterisation.length == null\\\"\\n      (click)=\\\"predictFactor()\\\">Predict Factor with Model        \\n    </button>\\n\\n    \\n    <!--<p>\\n      <font color=\\\"#d3d3d3\\\">\\n        Currently the \\\"Predict Factor with Model\\\" button just changes the active machine specifications to match that given above and then takes you to the model component.\\n        A future implementation is to have this button plot your insert shape on the model plot and display the predicted factor.\\n      </font>\\n    </p>-->\\n\\n\\n\\n  </div>\\n\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n    <h5>Change parameterisation server url (optional)</h5>\\n    <p>Only change the following address if you wish to use your own server. This is not required to be edited. The default server is: <br>\\n      <a>http://electronapi.simonbiggs.net/parameterise</a>       \\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Parameterisation Server Address\\\"\\n      (input)=\\\"parameterisationServerChange($event.target.value)\\\"\\n      floating-label\\n      [(ngModel)]=\\\"parameteriseURL\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n  </div>\\n\\n  <!--<div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet\\\">\\n    <h5>Edit raw coordinates</h5>\\n    <my-json-input #jsonInput\\n      [insert]=\\\"parameterisation.insert\\\"\\n      [jsonDisabled]=\\\"dataInFlight\\\"\\n      (insertUpdated)=\\\"insertUpdated($event)\\\"\\n      (jsonStatus)=\\\"onJsonStatusChange($event)\\\">\\n    </my-json-input>\\n  </div>-->\\n\\n</div>\\n\";\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar PageNotFoundComponent = (function () {\n\t    function PageNotFoundComponent() {\n\t    }\n\t    PageNotFoundComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-page-not-found',\n\t            template: __webpack_require__(67)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], PageNotFoundComponent);\n\t    return PageNotFoundComponent;\n\t}());\n\texports.PageNotFoundComponent = PageNotFoundComponent;\n\n\n/***/ },\n/* 67 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    This page has not been found. Please provide feedback ...\\n  </div>\\n</div>\";\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar HomeComponent = (function () {\n\t    function HomeComponent(myTitleService) {\n\t        this.myTitleService = myTitleService;\n\t    }\n\t    HomeComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Home');\n\t    };\n\t    HomeComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-home',\n\t            template: __webpack_require__(69)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService])\n\t    ], HomeComponent);\n\t    return HomeComponent;\n\t}());\n\texports.HomeComponent = HomeComponent;\n\n\n/***/ },\n/* 69 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div itemscope itemtype=\\\"http://schema.org/SoftwareApplication\\\" class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h3 itemprop=\\\"name\\\">Electron insert factor modelling</h3>\\n    <p>\\n      Tags: <span itemprop=\\\"applicationCategory\\\">Medical physics, electron inserts, electron cutouts, Python, Angular2, Bokeh, spline modelling</span><br>\\n      Last update: <span itemprop=\\\"datePublished\\\" content=\\\"2016-10-18\\\">2016-10-23</span><br>\\n      Version: <span itemprop=\\\"softwareVersion\\\">0.1.4-beta</span><br>\\n      Operating system: <span itemprop=\\\"operatingSystem\\\">Windows, Linux, Mac, Android, and iOS</span> <br>\\n      Requirements: <span itemprop=\\\"requirements\\\">A browser that supports <a href=\\\"http://caniuse.com/#feat=namevalue-storage\\\">local storage</a></span><br>\\n      Developed by: <span itemprop=\\\"author\\\" itemscope itemtype=\\\"http://schema.org/Person\\\"><a itemprop=\\\"name\\\" href=\\\"https://github.com/SimonBiggs\\\">Simon Biggs</a></span>\\n\\n    </p>\\n    \\n    <h4>Description</h4>\\n    <p>\\n      This online web app is for the modelling of the portion of the electron output factor that is dependent on the shape of the shielding insert mounted within the applicator. This allows modelling insert factors using only the measured factors already available at a centre. Should all outliers be removed from the data set the user might expect as low as 0.5% standard uncertainty for factor prediction with as little as 8 data points.\\n    </p>\\n\\n\\n    <p>If you have any issues or feedback please contact me at <a href=\\\"mailto:mail@simonbiggs.net\\\">mail@simonbiggs.net</a>.</p>\\n\\n    <h4>Instructions</h4>\\n    <h5>Overview</h5>\\n    <p>This web app is divided into four logical components:</p>\\n      <ul>\\n        <li>   \\n          Defining your centre specific machine specifications within the   \\n          <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n            machine specifications component\\n          </a>\\n        </li>\\n        <li>\\n          Insert shape extraction from a dicom patient plan within the\\n          <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n            dicom component\\n          </a>\\n        </li>\\n        <li>\\n          Parameterise the insert shapes into equivalent widths and lengths within the\\n          <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n            parameterisation component\\n          </a>\\n        </li>\\n        <li>\\n          Take at least 8 widths, lengths, and measured factors for a given machine, applicator, energy, ssd combination and create an empirical model within the\\n          <a routerLink=\\\"/create-model\\\" routerLinkActive=\\\"active\\\">\\n            model component\\n          </a>\\n        </li>\\n      </ul>\\n\\n      <p>\\n        All your model and machine data is saved on your local machine within your browser. \\n        Your progress will be saved as long as you do not clear your browser data.\\n        In the future I plan to implement a data export and import feature, as well as the ability to sync models between browsers via a server.\\n        Currently however the only place your web app data is being stored is on your local machine.\\n      </p>\\n\\n       \\n      \\n      <h5>To demo</h5>\\n      <p>\\n        If you wish to simply demo this app these are the following steps you can take:\\n      </p>\\n      <ul>\\n        <li>\\n          Within the \\n          <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n            dicom component \\n          </a>\\n          download the demo dicom file, load it into the web app and see the insert shapes be pulled from the dicom file without any network traffic\\n        </li>\\n        <li>\\n          Within the \\n          <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n            parameterise component\\n          </a>\\n          press the \\\"Load Demo Data\\\" button and then press the \\\"Parameteterise Insert\\\" button to see the parameterisation algorithim in action\\n        </li>\\n        <li>\\n          Within the \\n          <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n            model component\\n          </a>\\n          press the \\\"Load Demo Data\\\" button and then press the \\\"Run Spline Model\\\" to see the spline model being created. \\n          You can then either hover over the model, or tap on the model to view the relevant values.\\n        </li>\\n      </ul>\\n\\n      <h5>To implement in your centre</h5>\\n      <p>\\n        To implement this web app in your centre you need to do the following:\\n      </p>\\n      <ul>\\n        <li>  \\n          Specify the machine models and the corresponding applicators, energies, and ssds within the    \\n          <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n            machine specification component.\\n          </a>\\n        </li>\\n        <li> \\n          Collate / measure your electron insert factor measuremens. These factors are to measured in accordance to TG 25.   \\n        </li>\\n        <li>\\n          If the insert shapes are ellipses, you may directly input the ellipse widths and lengths as projected to the isocentre within the \\n          <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n            model component.\\n          </a>\\n        </li>\\n        <li>\\n          If the insert shape is a generic shape or you know the x and y coordinates of your insert then determine the equivalent ellipse widths and lengths by inputting x and y coordinates as defined at isocentre within the \\n          <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n            parameterisation component.\\n          </a>          \\n        </li>\\n        <li>\\n          If the insert shape is defined within your planning system, export the patient plan to dicom and then read the insert coordinates from the dicom file using the\\n          <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n            dicom component.\\n          </a>          \\n        </li>\\n        <li>\\n          Once you have the corresponding equivalent ellipse widths and lengths for your measured factors these may be appended to the relevant machine configuration within the \\n          <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n            model component\\n          </a>\\n        </li>\\n        <li>\\n          Whenever a machine configuration gets at least 8 data points you may press the \\\"Run Spline Model\\\" on the \\n          <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n            model component\\n          </a>\\n          which will allow the prediction of insert factors for other widths and lengths.\\n        </li>\\n      </ul>\\n\\n      <h5>To use the web app after it has been implemented</h5>\\n      <ul>\\n        <li>\\n          Export the patient plan to dicom and then read the insert coordinates from the dicom file using the\\n          <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n            dicom component.\\n          </a>          \\n        </li>\\n        <li>\\n          Press the \\\"Parameterise Insert\\\" button to determine the equivalent ellipse width and length\\n        </li>\\n        <li>\\n          Press the \\\"Predict Factor with Model\\\" button to automatically change the machine configuration to that which matches your loaded insert\\n        </li>\\n        <li>\\n          Hover your mouse over the relevant width and length within the model to predict your insert factor\\n        </li>\\n      </ul>\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n\\n    <h4>Publications</h4>\\n    <!--<h6>Original paper</h6>-->\\n    <p>The paper detailing the algorithim and its validation:</p>\\n    <p>\\n      S. Biggs, M. Sobolewski, R. Murry, J. Kenny, Spline modelling electron insert factors using routine measurements. Physica Medica (2015), <a href=\\\"http://dx.doi.org/10.1016/j.ejmp.2015.11.002\\\">doi:10.1016/j.ejmp.2015.11.002</a>.\\n    </p>\\n\\n    <!--<h6>EPSM2016 Poster</h6>\\n    <ul>\\n      <li><a href=\\\"https://www.dropbox.com/s/09ij94rqc012ad8/ElectronInsertsWebAppPoster.jpg?dl=1\\\">Low resolution</a></li>\\n      <li><a href=\\\"https://www.dropbox.com/s/ga5e64echv255b8/ElectronsPoster.svg?dl=1\\\">Original SVG file</a></li>\\n    </ul>-->\\n\\n    <h4>Disclaimer</h4>\\n    <p>\\n      Any use of this web app or any of its code has you accepting the AGPL3+ license which includes no warranty that this code is fit for a particular purpose. Attempts have been made to make the code transparent and it is recommended that an experienced python programmer and physicist who understands the procedure outlined in the paper and the requirements of your centre identifies whether or not this method and code is fit for your use.</p>\\n\\n    <h4>Use of Google Analytics</h4>\\n    <p>\\n      To aid in quickly identifying bugs, user experience issues, and documenting app usage the Google Analytics service is employed. \\n      This collates and reports page views, button clicks, and demographic information based upon your IP address.\\n      For more information on privacy regarding Google Analytics <a href=\\\"https://support.google.com/analytics/answer/6004245\\\">click here.</a>\\n      If you wish to opt-out of Google Analytics data collection please <a href=\\\"https://tools.google.com/dlpage/gaoptout\\\">click here.</a>\\n    </p>   \\n\\n\\n    <h4>Steps required to freeze your own version of this web app</h4>\\n      As I make improvements to this web app I will be updating this online version. \\n      You may desire to not have the web app you are using day to day change on you.\\n      To achieve this you can create your own version of the server and your own version of the web app.\\n      \\n      For now this will require a bit of your own working out until I provide further instructions.\\n\\n\\n\\n    <h4>Source code</h4>\\n    <p>\\n      For the purpose of coding transparency and to enable the user to take responsibility for the code themselves any redistribution\\n      or derivative works of this web app need to include the source code of any additions made and need to include a way\\n      for users to easily access the source code of each of the components used or linked to.\\n    </p>\\n\\n    <h5>Server Code</h5>\\n\\n    <h6>Base Electron Insert Factor Source Code</h6>\\n    <p>\\n      The python file which does the shape parameterisation and insert factor modelling which is used by the server is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py</a>\\n    </p>\\n\\n    <h6>Tornado REST API</h6>\\n    <p>\\n      The Tornado REST API is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py</a>\\n    </p>\\n\\n    <h6>Heroku App code</h6>\\n    <p>\\n      The code to make the heroku app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server\\\">\\n              https://github.com/SimonBiggs/electronfactor-server</a>\\n    </p>\\n\\n    <h5>Web App Code</h5>\\n    <p>\\n      The source code for this web app is found here:\\n      <a itemprop=\\\"downloadUrl\\\" href=\\\"https://github.com/SimonBiggs/electroninserts-webapp\\\">\\n            https://github.com/SimonBiggs/electroninserts-webapp</a>\\n    </p>\\n\\n    <h5>Libraries used</h5>\\n    <h6>Bokehjs</h6>\\n    <p>\\n      The bokehjs library is used for plots. Documentation can be found here:\\n      <a href=\\\"http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs\\\">\\n              http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/bokeh/bokeh/tree/master/bokehjs\\\">\\n              https://github.com/bokeh/bokeh/tree/master/bokehjs</a>\\n    </p>\\n\\n    <h6>dcmjs</h6>\\n    <p>\\n      The dcmjs library is used for reading dicom files within javascript. Website can be found here:\\n      <a href=\\\"http://dcmjs.org/\\\">\\n              http://dcmjs.org/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/commontk/dcmjs\\\">\\n              https://github.com/commontk/dcmjs</a>\\n    </p>\\n\\n    <h6>Angular2</h6>\\n    <p>\\n      This interface was built using Angular2. Documentation can be found here:\\n      <a href=\\\"https://angular.io/docs/ts/latest/\\\">\\n              https://angular.io/docs/ts/latest/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/angular/angular\\\">\\n              https://github.com/angular/angular</a>\\n    </p>\\n    <h6>Remaining libraries</h6>\\n    <p>\\n      For all remaining libraries used please see the npm package.json file:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json</a>\\n    </p>\\n    <p>\\n      And the index file for various imports:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html</a>\\n    </p>\\n  </div>\\n\\n\\n</div>\";\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar model_data_1 = __webpack_require__(64);\n\tvar CreateModelComponent = (function () {\n\t    function CreateModelComponent(modelData, myTitleService, electronApiService, ngZone) {\n\t        var _this = this;\n\t        this.modelData = modelData;\n\t        this.myTitleService = myTitleService;\n\t        this.electronApiService = electronApiService;\n\t        this.textboxInput = {\n\t            width: null,\n\t            length: null,\n\t            measuredFactor: null\n\t        };\n\t        this.textboxLabels = {\n\t            width: \"Equivalent ellipse widths (cm @iso)\",\n\t            length: \"Equivalent ellipse lengths (cm @iso)\",\n\t            measuredFactor: \"Measured insert factor (as per TG 25)\"\n\t        };\n\t        this.textboxValid = {\n\t            width: true,\n\t            length: true,\n\t            measuredFactor: true\n\t        };\n\t        this.currentSettings = {\n\t            machine: null,\n\t            energy: null,\n\t            applicator: null,\n\t            ssd: null\n\t        };\n\t        this.lengthSmallerThanWidth = false;\n\t        this.plot_width = 600;\n\t        this.dataInFlight = false;\n\t        window.onresize = function (e) {\n\t            ngZone.run(function () {\n\t                _this.updatePlotWidth();\n\t            });\n\t        };\n\t    }\n\t    CreateModelComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Create Model');\n\t        this.modelURL = localStorage.getItem(\"modelURL\");\n\t        if (this.modelURL == null) {\n\t            this.modelURL = 'http://electronapi.simonbiggs.net/model';\n\t        }\n\t        this.updatePlotWidth();\n\t    };\n\t    CreateModelComponent.prototype.updatePlotWidth = function () {\n\t        this.plot_width = this.plotContainer.nativeElement.clientWidth;\n\t    };\n\t    CreateModelComponent.prototype.currentMachineSettingsUpdated = function (newSettings) {\n\t        for (var _i = 0, _a = ['machine', 'energy', 'applicator', 'ssd']; _i < _a.length; _i++) {\n\t            var key = _a[_i];\n\t            this.currentSettings[key] = newSettings[key];\n\t        }\n\t        this.loadMeasuredData();\n\t        this.checkLengthSmallerThanWidth();\n\t    };\n\t    CreateModelComponent.prototype.createKey = function () {\n\t        var key = ('{\"machine\":' + JSON.stringify(String(this.currentSettings.machine)) + ',' +\n\t            '\"energy\":' + JSON.stringify(Number(this.currentSettings.energy)) + ',' +\n\t            '\"applicator\":' + JSON.stringify(String(this.currentSettings.applicator)) + ',' +\n\t            '\"ssd\":' + JSON.stringify(Number(this.currentSettings.ssd)) +\n\t            '}');\n\t        return key;\n\t    };\n\t    CreateModelComponent.prototype.loadMeasuredData = function () {\n\t        var localStorageKey = this.createKey();\n\t        var parsedData = JSON.parse(localStorage.getItem(localStorageKey));\n\t        this.modelData.fillFromObject(parsedData);\n\t        this.updateTextboxInput();\n\t    };\n\t    CreateModelComponent.prototype.saveModel = function () {\n\t        var key = this.createKey();\n\t        localStorage.setItem(key, JSON.stringify(this.modelData));\n\t    };\n\t    CreateModelComponent.prototype.updateTextboxInput = function () {\n\t        for (var _i = 0, _a = ['width', 'length', 'measuredFactor']; _i < _a.length; _i++) {\n\t            var key = _a[_i];\n\t            this.textboxInput[key] = String(this.modelData.measurement[key])\n\t                .replace(/,/g, ', ');\n\t        }\n\t    };\n\t    CreateModelComponent.prototype.checkLengthSmallerThanWidth = function () {\n\t        this.lengthSmallerThanWidth = false;\n\t        for (var i = 0; i < this.modelData.measurement.width.length; i++) {\n\t            if (this.modelData.measurement.width[i] > this.modelData.measurement.length[i]) {\n\t                this.lengthSmallerThanWidth = true;\n\t                return;\n\t            }\n\t        }\n\t    };\n\t    CreateModelComponent.prototype.validateInput = function (input) {\n\t        // return /^(-?\\d*(\\.\\d+)?[,;\\s]+)*-?\\d*(\\.\\d+)?[,;\\s]*$/.test(input)\n\t        return true;\n\t    };\n\t    CreateModelComponent.prototype.onTextboxChange = function (key, newInput) {\n\t        this.textboxValid[key] = false;\n\t        this.modelData.model.reset();\n\t        try {\n\t            if (this.validateInput(newInput)) {\n\t                this.modelData.measurement[key] = eval('[' + newInput.replace(/[,;\\n\\t]\\s*/g, ', ') + ']');\n\t                this.saveModel();\n\t                this.textboxValid[key] = true;\n\t                this.checkLengthSmallerThanWidth();\n\t            }\n\t        }\n\t        catch (err) {\n\t            console.log(err);\n\t        }\n\t    };\n\t    CreateModelComponent.prototype.basicServerSubmit = function () {\n\t        var _this = this;\n\t        this.dataInFlight = true;\n\t        this.electronApiService.sendToServer(this.modelURL, JSON.stringify(this.modelData.measurement))\n\t            .then(function (modelResult) {\n\t            _this.modelData.model.width = modelResult.model_width;\n\t            _this.modelData.model.length = modelResult.model_length;\n\t            _this.modelData.model.predictedFactor = modelResult.model_factor;\n\t            _this.dataInFlight = false;\n\t            _this.saveModel();\n\t        });\n\t    };\n\t    CreateModelComponent.prototype.modelServerChange = function (newModelURL) {\n\t        localStorage.setItem(\"modelURL\", newModelURL);\n\t    };\n\t    CreateModelComponent.prototype.defaultServer = function () {\n\t        this.modelURL = 'http://electronapi.simonbiggs.net/model';\n\t        localStorage.setItem(\"modelURL\", this.modelURL);\n\t    };\n\t    CreateModelComponent.prototype.loadDemoData = function () {\n\t        for (var _i = 0, _a = ['machine', 'energy', 'applicator', 'ssd']; _i < _a.length; _i++) {\n\t            var key = _a[_i];\n\t            this.currentSettings[key] = null;\n\t        }\n\t        this.settingsPicker.currentSettings = this.currentSettings;\n\t        this.modelData.model.reset();\n\t        this.modelData.measurement.width = [\n\t            3.71, 6.78, 6.3, 7.56, 5.26, 6.53, 7.08, 4.38, 3.66,\n\t            4.21, 4.21, 6.54, 5.86, 3.17, 6., 8.06, 6.31, 5.26,\n\t            4.21, 5.21, 4.59, 5.34, 6.41, 5.26, 5.25, 7.82, 4.2,\n\t            3.16, 7.18, 5.72, 6.08, 6.64, 8.4, 4.59, 3.15, 4.67,\n\t            4.21, 9.45, 7.64, 3.17, 3.17, 7.36];\n\t        this.modelData.measurement.length = [\n\t            4.36, 10.97, 6.33, 10.05, 13.66, 10.99, 10.77, 5.47,\n\t            5.04, 8.41, 13.65, 8.41, 8.62, 9.43, 7.97, 11.85,\n\t            8.24, 10.52, 6.82, 11.4, 5.67, 9.64, 8.69, 8.41,\n\t            5.26, 10.85, 4.21, 5.25, 11.27, 11.6, 6.64, 9.81,\n\t            8.42, 6.54, 3.16, 6.28, 10.51, 9.47, 8.99, 13.64,\n\t            6.83, 7.37];\n\t        this.modelData.measurement.measuredFactor = [\n\t            0.9489, 1.0067, 0.9858, 1.0045, 0.9868, 1.0004, 1.0052,\n\t            0.9634, 0.9437, 0.9708, 0.9757, 0.9931, 0.9896, 0.9492,\n\t            0.9911, 1.0067, 0.9923, 0.9879, 0.9609, 0.9884, 0.9587,\n\t            0.9934, 0.9991, 0.9831, 0.9705, 1.0019, 0.9562, 0.9348,\n\t            0.9987, 0.9989, 0.9933, 0.9991, 1.0067, 0.9683, 0.9296,\n\t            0.9735, 0.9709, 1.0084, 1.0028, 0.953, 0.9484, 1.0032];\n\t        this.checkLengthSmallerThanWidth();\n\t        this.updateTextboxInput();\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('plotContainer'), \n\t        __metadata('design:type', Object)\n\t    ], CreateModelComponent.prototype, \"plotContainer\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('settingsPicker'), \n\t        __metadata('design:type', Object)\n\t    ], CreateModelComponent.prototype, \"settingsPicker\", void 0);\n\t    CreateModelComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-create-model',\n\t            template: __webpack_require__(71)\n\t        }), \n\t        __metadata('design:paramtypes', [model_data_1.ModelData, title_service_1.TitleService, electron_api_service_1.ElectronApiService, core_1.NgZone])\n\t    ], CreateModelComponent);\n\t    return CreateModelComponent;\n\t}());\n\texports.CreateModelComponent = CreateModelComponent;\n\n\n/***/ },\n/* 71 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Description</h5>\\n    <p>\\n      Use this component to turn a set of at least 8 measured factors with corresponding equivalent widths and lengths into a spline model.\\n      These widths and lengths need to be determined using the parameterisation method employed within the \\n      <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n        parameterisation component.\\n      </a>\\n    </p>\\n    <p>\\n      You are free to edit the widths, lengths, and factors manually below, or have the       \\n      <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n        parameterisation component\\n      </a>\\n      automatically add the measured factors to the correct model. Both work interchangably.\\n      You may only add shapes via the \\n      <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n        parameterisation component\\n      </a>\\n      if machine ID, applicator, energy, ssd, and measured factor are filled in and they match a machine configuration defined within the \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        specifications component.\\n      </a> \\n    </p>\\n    <p>\\n      A spline model is only valid for a single machine configuration. \\n      Therefore each machine, applicator, energy, ssd has its own model. \\n      Using the machine configuration section below you can change between the configurations.\\n      This will only work if you have already\\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        defined your machine configurations.\\n      </a> \\n    </p>\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Choose machine configuration</h5>\\n    <p>\\n      Here is where you select the machine specifications for the model you with to edit. \\n      You will only see options here if you have actually       \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        defined your machine configurations.\\n      </a> \\n    </p>\\n  </div>\\n\\n  <div [style.width]=\\\"'100%'\\\">\\n    <my-choose-specifications #settingsPicker\\n      (settingsUpdated)=currentMachineSettingsUpdated($event)>\\n    </my-choose-specifications>\\n  </div>\\n  \\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <div [style.width]=\\\"'100%'\\\" [style.height]=\\\"'30px'\\\"></div>\\n    <h5>\\n      The model\\n      <span *ngIf=\\\"currentSettings.machine != null && currentSettings.energy != null && currentSettings.energy != 0 && currentSettings.applicator != null && currentSettings.applicator != '' && currentSettings.ssd != null && currentSettings.ssd != 0\\\">\\n        for machine ID {{currentSettings.machine}}, at an energy of {{currentSettings.energy}} MeV, on the {{currentSettings.applicator}} applicator at {{currentSettings.ssd}} cm SSD\\n      </span>\\n      </h5>    \\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n\\n    <h6>Input widths, lengths, and factors</h6>\\n    <p>\\n      Use the following text boxes to directly edit the measured data used by the spline model.\\n    </p>\\n    <p>\\n      Coordinates can be separated by commas (,), semicolons (;), tabs, or new lines.\\n      This web app should handle copying and pasting from a range of sources (including excel).\\n      Number inputs can only contain the characters 0-9, a minus sign (-) and decimal points (.).\\n    </p>\\n\\n    <div *ngFor=\\\"let key of ['width', 'length', 'measuredFactor']\\\">\\n      <mdl-textfield \\n        type=\\\"text\\\"\\n        [label]=\\\"textboxLabels[key]\\\"\\n        [(ngModel)]=\\\"this.textboxInput[key]\\\"\\n        (input)=\\\"onTextboxChange(key, $event.target.value)\\\"\\n        rows=4\\n        floating-label\\n        [disabled]=\\\"dataInFlight\\\"\\n        [style.width]=\\\"'100%'\\\"></mdl-textfield>\\n      <p *ngIf=\\\"!textboxValid[key]\\\">\\n        The {{key}} input is invalid\\n      </p>\\n      <span *ngIf=\\\"key=='length'\\\">\\n        <p *ngIf=\\\"lengthSmallerThanWidth\\\">\\n          There exists a length value that is smaller than its corresponding width. Spline modelling is disabled as a result.\\n        </p>\\n      </span>\\n    </div>\\n    <p *ngIf=\\\"modelData.measurement.measuredFactor.length != modelData.measurement.width.length || modelData.measurement.measuredFactor.length != modelData.measurement.length.length || modelData.measurement.width.length != modelData.measurement.length.length\\\">\\n      The lengths of the inputs are not equal. Spline modelling is disabled as a result.\\n    </p>\\n    <p *ngIf=\\\"modelData.measurement.width.length < 8 || modelData.measurement.length.length < 8 || modelData.measurement.measuredFactor.length < 8\\\">\\n      There are currently less than 8 data points. Spline modelling is disabled as a result.\\n    </p>\\n  </div>\\n\\n<div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\" #plotContainer>\\n    <h6>The spline model</h6>\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Model | Load demo data\\\"\\n      [disabled]=\\\"dataInFlight\\\"\\n      (click)=\\\"loadDemoData()\\\">Load demo data         \\n    </button>\\n      \\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Model | Calculate spline model\\\"\\n      [disabled]=\\\"modelData.measurement.width.length < 8 || modelData.measurement.length.length < 8 || modelData.measurement.measuredFactor.length < 8 || dataInFlight || modelData.measurement.measuredFactor.length != modelData.measurement.width.length || modelData.measurement.measuredFactor.length != modelData.measurement.length.length || modelData.measurement.width.length != modelData.measurement.length.length || !textboxValid['width'] || !textboxValid['length'] || !textboxValid['measuredFactor'] || lengthSmallerThanWidth\\\"\\n      (click)=\\\"basicServerSubmit()\\\">Calculate Spline Model\\n    </button>\\n    \\n\\n    <div *ngIf=\\\"modelData.measurement.width.length > 0 && modelData.measurement.length.length > 0 && modelData.measurement.measuredFactor.length > 0\\\">\\n      <my-bokeh-create-model\\n        [title]=\\\"'Model Plot'\\\"\\n        [scatter_x]=\\\"modelData.measurement.width\\\"\\n        [scatter_y]=\\\"modelData.measurement.length\\\"\\n        [scatter_z]=\\\"modelData.measurement.measuredFactor\\\"\\n        [pcolour_x]=\\\"modelData.model.width\\\"\\n        [pcolour_y]=\\\"modelData.model.length\\\"\\n        [pcolour_z]=\\\"modelData.model.predictedFactor\\\"\\n        [plot_width]=\\\"plot_width\\\"\\n        [plot_height]=\\\"380\\\">\\n      </my-bokeh-create-model>\\n    </div>\\n    <div *ngIf=\\\"modelData.measurement.width.length == 0 || modelData.measurement.length.length == 0|| modelData.measurement.measuredFactor.length == 0\\\">\\n      <p>\\n        <font color=\\\"red\\\">There is currently no data for this combination.</font> If you wish to load some demo data to see the model in action press the \\\"load demo data\\\" button below.\\n        To set this model up with your own data follow the instructions in the description at the top of this page.\\n      </p>\\n    </div>\\n\\n\\n  </div>\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n    <h5>Change modelling server url (optional)</h5>\\n    <p>Only change the following address if you wish to use your own server. This is not required to be edited. The default is: <br>\\n      <a (click)=\\\"defaultServer()\\\">http://electronapi.simonbiggs.net/model</a>        \\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Spline model server address\\\"\\n      (input)=\\\"modelServerChange($event.target.value)\\\"\\n      floating-label\\n      [(ngModel)]=\\\"modelURL\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n  </div>\\n\\n\\n</div>\";\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar model_data_1 = __webpack_require__(64);\n\tvar sanitise_validation_1 = __webpack_require__(73);\n\tvar UseModelComponent = (function () {\n\t    function UseModelComponent(modelData, myTitleService, ngZone) {\n\t        var _this = this;\n\t        this.modelData = modelData;\n\t        this.myTitleService = myTitleService;\n\t        this.textboxInput = {\n\t            width: null,\n\t            length: null,\n\t            area: null,\n\t            measuredFactor: null\n\t        };\n\t        this.textboxLabels = {\n\t            width: \"Width of ellipse given by diameter of largest encompassed circle (cm @iso)\",\n\t            length: \"Length of ellipse that matches insert shape area (cm @iso)\",\n\t            area: \"[Optional] Area of insert shape (cm^2 @iso)\",\n\t            measuredFactor: \"[Optional] Measured insert factor (as per TG 25)\"\n\t        };\n\t        this.textboxValid = {\n\t            width: true,\n\t            length: true,\n\t            area: true,\n\t            measuredFactor: true\n\t        };\n\t        this.currentSettings = {\n\t            machine: null,\n\t            energy: null,\n\t            applicator: null,\n\t            ssd: null\n\t        };\n\t        this.modelLookup = {};\n\t        this.predictionDifference = [];\n\t        this.lengthSmallerThanWidth = false;\n\t        this.plot_width = 600;\n\t        this.lastEdit = 'length';\n\t        window.onresize = function (e) {\n\t            ngZone.run(function () {\n\t                _this.updatePlotWidth();\n\t            });\n\t        };\n\t    }\n\t    UseModelComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Use Model');\n\t        this.updatePlotWidth();\n\t        this.updateModelLookup();\n\t        this.loadMeasuredData();\n\t        this.updatePredictedFactors();\n\t    };\n\t    // linearInterpolate(x: number, x1: number, x2: number, y1: number, y2: number) {\n\t    //   let m = (y2 - y1) / (x2 - x1)\n\t    //   let c = y1 - m * x1\n\t    //   let y = m * x + c\n\t    //   return y\n\t    // }\n\t    // bilinearInterpolate(\n\t    //     x: number, y: number, \n\t    //     x_1: number, x_2: number, \n\t    //     y_1: number, y_2: number, \n\t    //     z_x1y1: number, z_x1y2: number, z_x2y1: number, z_x2y2: number) {\n\t    //   let z_xy1 = this.linearInterpolate(x, x_1, x_2, z_x1y1, z_x2y1)\n\t    //   let z_xy2 = this.linearInterpolate(x, x_1, x_2, z_x1y2, z_x2y2)\n\t    //   let z_xy = this.linearInterpolate(y, y_1, y_2, z_xy1, z_xy2)\n\t    //   return z_xy\n\t    // }\n\t    UseModelComponent.prototype.lookupFactor = function (width, length) {\n\t        width = Math.round(width * 10) / 10;\n\t        length = Math.round(length * 10) / 10;\n\t        var key;\n\t        key = String(width) + \",\" + String(length);\n\t        return Math.round(this.modelLookup[key] * 1000) / 1000;\n\t    };\n\t    UseModelComponent.prototype.updatePredictedFactors = function () {\n\t        this.modelData.predictions.predictedFactor = [];\n\t        var amount = Math.min(this.modelData.predictions.width.length, this.modelData.predictions.length.length);\n\t        var predictedFactor;\n\t        var width;\n\t        var length;\n\t        for (var i = 0; i < amount; i++) {\n\t            width = this.modelData.predictions.width[i];\n\t            length = this.modelData.predictions.length[i];\n\t            predictedFactor = this.lookupFactor(width, length);\n\t            this.modelData.predictions.predictedFactor.push(predictedFactor);\n\t        }\n\t        this.updatePredictionDifference();\n\t    };\n\t    UseModelComponent.prototype.updatePredictionDifference = function () {\n\t        this.predictionDifference = [];\n\t        var measuredFactor;\n\t        var predictedFactor;\n\t        var difference;\n\t        for (var i in this.modelData.predictions.measuredFactor) {\n\t            measuredFactor = this.modelData.predictions.measuredFactor[i];\n\t            predictedFactor = this.modelData.predictions.predictedFactor[i];\n\t            difference = predictedFactor - measuredFactor;\n\t            difference = Math.round(difference * 1000) / 1000;\n\t            this.predictionDifference.push(difference);\n\t        }\n\t    };\n\t    UseModelComponent.prototype.updateModelLookup = function () {\n\t        this.modelLookup = {};\n\t        var key;\n\t        for (var i in this.modelData.model.width) {\n\t            key = String(this.modelData.model.width[i]) + \",\" + String(this.modelData.model.length[i]);\n\t            this.modelLookup[key] = this.modelData.model.predictedFactor[i];\n\t        }\n\t    };\n\t    UseModelComponent.prototype.convertLengthToArea = function (width, length) {\n\t        var area = Math.PI * width * length / 4;\n\t        return Math.round(area * 10) / 10;\n\t    };\n\t    UseModelComponent.prototype.convertAreaToLength = function (width, area) {\n\t        var length = 4 * area / (Math.PI * width);\n\t        return Math.round(length * 10) / 10;\n\t    };\n\t    UseModelComponent.prototype.updateAreaFromLength = function () {\n\t        var width;\n\t        var length;\n\t        var area;\n\t        this.modelData.predictions.area = [];\n\t        for (var i in this.modelData.predictions.length) {\n\t            width = this.modelData.predictions.width[i];\n\t            length = this.modelData.predictions.length[i];\n\t            area = this.convertLengthToArea(width, length);\n\t            this.modelData.predictions.area.push(area);\n\t        }\n\t    };\n\t    UseModelComponent.prototype.updateLengthFromArea = function () {\n\t        var width;\n\t        var length;\n\t        var area;\n\t        this.modelData.predictions.length = [];\n\t        for (var i in this.modelData.predictions.area) {\n\t            width = this.modelData.predictions.width[i];\n\t            area = this.modelData.predictions.area[i];\n\t            length = this.convertAreaToLength(width, area);\n\t            this.modelData.predictions.length.push(length);\n\t        }\n\t    };\n\t    UseModelComponent.prototype.updatePlotWidth = function () {\n\t        this.plot_width = this.plotContainer.nativeElement.clientWidth;\n\t    };\n\t    UseModelComponent.prototype.currentMachineSettingsUpdated = function (newSettings) {\n\t        for (var _i = 0, _a = ['machine', 'energy', 'applicator', 'ssd']; _i < _a.length; _i++) {\n\t            var key = _a[_i];\n\t            this.currentSettings[key] = newSettings[key];\n\t        }\n\t        this.loadMeasuredData();\n\t    };\n\t    // createLocalStorageKey() {\n\t    //   let localStorageKey = (\n\t    //     '{\"machine\":' + JSON.stringify(String(this.currentSettings.machine)) + ',' +\n\t    //     '\"energy\":' + JSON.stringify(Number(this.currentSettings.energy)) + ',' +\n\t    //     '\"applicator\":' + JSON.stringify(String(this.currentSettings.applicator)) + ',' +\n\t    //     '\"ssd\":' + JSON.stringify(Number(this.currentSettings.ssd)) +\n\t    //     '}')\n\t    //   return localStorageKey\n\t    // }\n\t    UseModelComponent.prototype.loadMeasuredData = function () {\n\t        this.modelData.loadModelData(this.currentSettings);\n\t        // let localStorageKey = this.createLocalStorageKey()\n\t        // let parsedData = JSON.parse(localStorage.getItem(localStorageKey))\n\t        // this.modelData.fillFromObject(parsedData)\n\t        if (this.modelData.predictions.length.length < this.modelData.predictions.area.length) {\n\t            this.updateLengthFromArea();\n\t        }\n\t        else {\n\t            this.updateAreaFromLength();\n\t        }\n\t        this.updateModelLookup();\n\t        this.updatePredictedFactors();\n\t        this.updateAllTextboxInputs();\n\t    };\n\t    UseModelComponent.prototype.saveModel = function () {\n\t        this.modelData.saveModelData(this.currentSettings);\n\t        // let localStorageKey = this.createLocalStorageKey()\n\t        // localStorage.setItem(localStorageKey, JSON.stringify(this.modelData))\n\t    };\n\t    UseModelComponent.prototype.updateAllTextboxInputs = function () {\n\t        for (var _i = 0, _a = ['width', 'length', 'area', 'measuredFactor']; _i < _a.length; _i++) {\n\t            var key = _a[_i];\n\t            this.updateTextboxInput(key);\n\t        }\n\t    };\n\t    UseModelComponent.prototype.updateTextboxInput = function (key) {\n\t        this.textboxInput[key] = String(this.modelData.predictions[key])\n\t            .replace(/,/g, ', ');\n\t    };\n\t    UseModelComponent.prototype.onTextboxChange = function (key, newInput) {\n\t        this.textboxValid[key] = false;\n\t        try {\n\t            if (sanitise_validation_1.validateInput(newInput)) {\n\t                this.modelData.predictions[key] = eval('[' + newInput.replace(/[,;\\n\\t]\\s*/g, ', ') + ']');\n\t                this.textboxValid[key] = true;\n\t                if (key == 'length' || (key == 'width' && this.lastEdit == 'length')) {\n\t                    this.updateAreaFromLength();\n\t                    this.updateTextboxInput('area');\n\t                    this.lastEdit = 'length';\n\t                }\n\t                if (key == 'area' || (key == 'width' && this.lastEdit == 'area')) {\n\t                    this.updateLengthFromArea();\n\t                    this.updateTextboxInput('length');\n\t                    this.lastEdit = 'area';\n\t                }\n\t                this.updatePredictedFactors();\n\t                this.saveModel();\n\t            }\n\t        }\n\t        catch (err) {\n\t            console.log(err);\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('plotContainer'), \n\t        __metadata('design:type', Object)\n\t    ], UseModelComponent.prototype, \"plotContainer\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('settingsPicker'), \n\t        __metadata('design:type', Object)\n\t    ], UseModelComponent.prototype, \"settingsPicker\", void 0);\n\t    UseModelComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-use-model',\n\t            template: __webpack_require__(74)\n\t        }), \n\t        __metadata('design:paramtypes', [model_data_1.ModelData, title_service_1.TitleService, core_1.NgZone])\n\t    ], UseModelComponent);\n\t    return UseModelComponent;\n\t}());\n\texports.UseModelComponent = UseModelComponent;\n\n\n/***/ },\n/* 73 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tfunction validateInput(input) {\n\t    // return /^(-?\\d*(\\.\\d+)?[,;\\s]+)*-?\\d*(\\.\\d+)?[,;\\s]*$/.test(input)\n\t    return /^[-\\d\\.,;\\sNa]*$/.test(input);\n\t}\n\texports.validateInput = validateInput;\n\n\n/***/ },\n/* 74 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Use models</h5>\\n    <p>\\n      This component is where created models are used. \\n      Factors for prediction will be able to be inputted using width, and then either length or area, and optionally\\n      a measured factor can be included for the purpose of comparing model results with measurement.\\n    </p>\\n    <p>\\n      You can either use the parameterisation component to parameterise your shapes, or if you have a large data set of \\n      generic shapes you need only determine the diameter of the largest encompassed circle to define width, and then\\n      you may input shape area instead of length.\\n      This allows you to quickly check large data sets of previous measurements on generic shapes.\\n    </p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Choose machine configuration</h5>\\n    <my-choose-specifications #settingsPicker\\n      (settingsUpdated)=currentMachineSettingsUpdated($event)>\\n    </my-choose-specifications>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Inserts being predicted</h5>\\n    <div *ngFor=\\\"let key of ['width', 'length', 'area', 'measuredFactor']\\\">\\n      <mdl-textfield \\n        type=\\\"text\\\"\\n        [label]=\\\"textboxLabels[key]\\\"\\n        [(ngModel)]=\\\"this.textboxInput[key]\\\"\\n        (input)=\\\"onTextboxChange(key, $event.target.value)\\\"\\n        rows=2\\n        floating-label\\n        [style.width]=\\\"'100%'\\\"></mdl-textfield>\\n      <p *ngIf=\\\"!textboxValid[key]\\\">\\n        The {{key}} input is invalid\\n      </p>\\n    </div>\\n    <p>Predicted factors: {{modelData.predictions.predictedFactor}}</p>\\n    <p>Prediction minus measured: {{predictionDifference}}</p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\" #plotContainer>\\n    <div *ngIf=\\\"modelData.model.width.length > 0 && modelData.model.length.length > 0 && modelData.model.predictedFactor.length > 0\\\">\\n      <my-bokeh-use-model\\n        [title]=\\\"'Model Plot'\\\"\\n        [scatter_x]=\\\"modelData.predictions.width\\\"\\n        [scatter_y]=\\\"modelData.predictions.length\\\"\\n        [area]=\\\"modelData.predictions.area\\\"\\n        [scatter_z]=\\\"modelData.predictions.measuredFactor\\\"\\n        [predicted_factor]=\\\"modelData.predictions.predictedFactor\\\"\\n        [pcolour_x]=\\\"modelData.model.width\\\"\\n        [pcolour_y]=\\\"modelData.model.length\\\"\\n        [pcolour_z]=\\\"modelData.model.predictedFactor\\\"\\n        [plot_width]=\\\"plot_width\\\"\\n        [plot_height]=\\\"380\\\">\\n      </my-bokeh-use-model>\\n    </div>\\n    <div *ngIf=\\\"modelData.model.width.length == 0 || modelData.model.length.length == 0|| modelData.model.predictedFactor.length == 0\\\">\\n      <p>\\n        A model has not been calculated for this machine specification.\\n        If you do have at least 8 data points please calculate the spline model on the           \\n        <a routerLink=\\\"/create-model\\\" routerLinkActive=\\\"active\\\">\\n          create model component.\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n</div>\";\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar local_storage_service_1 = __webpack_require__(76);\n\tvar StorageManagementComponent = (function () {\n\t    function StorageManagementComponent(myTitleService, myLocalStorageService) {\n\t        this.myTitleService = myTitleService;\n\t        this.myLocalStorageService = myLocalStorageService;\n\t    }\n\t    StorageManagementComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Storage');\n\t        this.testLocalStorage = this.myLocalStorageService.isSupported;\n\t        this.usedLocalStorageSpace = this.myLocalStorageService.getUsedSpace();\n\t    };\n\t    StorageManagementComponent.prototype.testRemainingStorage = function () {\n\t        this.remainingLocalStorageSpace = this.myLocalStorageService.getRemainingSpace();\n\t    };\n\t    StorageManagementComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-storage-management',\n\t            template: __webpack_require__(78)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService, local_storage_service_1.LocalStorageService])\n\t    ], StorageManagementComponent);\n\t    return StorageManagementComponent;\n\t}());\n\texports.StorageManagementComponent = StorageManagementComponent;\n\n\n/***/ },\n/* 76 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar localstoragemodule_1 = __webpack_require__(77);\n\tvar LocalStorageService = (function () {\n\t    function LocalStorageService() {\n\t        this.isSupported = localstoragemodule_1.LocalStorage.isSupported;\n\t        this.hasItem = localstoragemodule_1.LocalStorage.hasItem;\n\t        this.getRemainingSpace = localstoragemodule_1.LocalStorage.getRemainingSpace;\n\t        this.getMaximumSpace = localstoragemodule_1.LocalStorage.getMaximumSpace;\n\t        this.getUsedSpace = localstoragemodule_1.LocalStorage.getUsedSpace;\n\t        this.getItemUsedSpace = localstoragemodule_1.LocalStorage.getItemUsedSpace;\n\t        this.getBackup = localstoragemodule_1.LocalStorage.getBackup;\n\t        this.applyBackup = localstoragemodule_1.LocalStorage.applyBackup;\n\t        this.consoleInfo = localstoragemodule_1.LocalStorage.consoleInfo;\n\t    }\n\t    LocalStorageService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], LocalStorageService);\n\t    return LocalStorageService;\n\t}());\n\texports.LocalStorageService = LocalStorageService;\n\n\n/***/ },\n/* 77 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/**\n\t * Check if localStorage is supported                       const isSupported: boolean\n\t * Check if localStorage has an Item                        function hasItem(key: string): boolean\n\t * Get the amount of space left in localStorage             function getRemainingSpace(): number\n\t * Get the maximum amount of space in localStorage          function getMaximumSpace(): number\n\t * Get the used space in localStorage                       function getUsedSpace(): number\n\t * Get the used space of an item in localStorage            function getItemUsedSpace(): number\n\t * Backup Assosiative Array                                 interface Backup\n\t * Get a Backup of localStorage                             function getBackup(): Backup\n\t * Apply a Backup to localStorage                           function applyBackup(backup: Backup, fClear: boolean = true, fOverwriteExisting: boolean = true)\n\t * Dump all information of localStorage in the console      function consoleInfo(fShowMaximumSize: boolean = false)\n\t */\n\tvar LocalStorage;\n\t(function (LocalStorage) {\n\t    // Copied from https://gist.github.com/CodeiSir/1fb8bd9154dfde7eb0c7\n\t    // found from http://stackoverflow.com/a/34245594\n\t    /**\n\t     * Flag set true if the Browser supports localStorage, widthout affecting it\n\t     */\n\t    LocalStorage.isSupported = (function () {\n\t        try {\n\t            var itemBackup = localStorage.getItem(\"\");\n\t            localStorage.removeItem(\"\");\n\t            localStorage.setItem(\"\", itemBackup);\n\t            if (itemBackup === null)\n\t                localStorage.removeItem(\"\");\n\t            else\n\t                localStorage.setItem(\"\", itemBackup);\n\t            return true;\n\t        }\n\t        catch (e) {\n\t            return false;\n\t        }\n\t    })();\n\t    /**\n\t     * Check if localStorage has an Item / exists with the give key\n\t     * @param key the key of the Item\n\t     */\n\t    function hasItem(key) {\n\t        return localStorage.getItem(key) !== null;\n\t    }\n\t    LocalStorage.hasItem = hasItem;\n\t    /**\n\t     * This will return the left space in localStorage without affecting it's content\n\t     * Might be slow !!!\n\t     */\n\t    function getRemainingSpace() {\n\t        var itemBackup = localStorage.getItem(\"\");\n\t        var increase = true;\n\t        var data = \"1\";\n\t        var totalData = \"\";\n\t        var trytotalData = \"\";\n\t        while (true) {\n\t            try {\n\t                trytotalData = totalData + data;\n\t                localStorage.setItem(\"\", trytotalData);\n\t                totalData = trytotalData;\n\t                if (increase)\n\t                    data += data;\n\t            }\n\t            catch (e) {\n\t                if (data.length < 2) {\n\t                    break;\n\t                }\n\t                increase = false;\n\t                data = data.substr(data.length / 2);\n\t            }\n\t        }\n\t        if (itemBackup === null)\n\t            localStorage.removeItem(\"\");\n\t        else\n\t            localStorage.setItem(\"\", itemBackup);\n\t        return totalData.length;\n\t    }\n\t    LocalStorage.getRemainingSpace = getRemainingSpace;\n\t    /**\n\t     * This function returns the maximum size of localStorage without affecting it's content\n\t     * Might be slow !!!\n\t     */\n\t    function getMaximumSpace() {\n\t        var backup = getBackup();\n\t        localStorage.clear();\n\t        var max = getRemainingSpace();\n\t        applyBackup(backup);\n\t        return max;\n\t    }\n\t    LocalStorage.getMaximumSpace = getMaximumSpace;\n\t    /**\n\t     * This will return the currently used size of localStorage\n\t     */\n\t    function getUsedSpace() {\n\t        var sum = 0;\n\t        for (var i = 0; i < localStorage.length; ++i) {\n\t            var key = localStorage.key(i);\n\t            var value = localStorage.getItem(key);\n\t            sum += key.length + value.length;\n\t        }\n\t        return sum;\n\t    }\n\t    LocalStorage.getUsedSpace = getUsedSpace;\n\t    /**\n\t     * This will return the currently used size of a given Item, returns NaN if key is not found\n\t     * @param key\n\t     */\n\t    function getItemUsedSpace(key) {\n\t        var value = localStorage.getItem(key);\n\t        if (value === null) {\n\t            return NaN;\n\t        }\n\t        else {\n\t            return key.length + value.length;\n\t        }\n\t    }\n\t    LocalStorage.getItemUsedSpace = getItemUsedSpace;\n\t    /**\n\t     * This will return a localStorage-backup (Associative-Array key->value)\n\t     */\n\t    function getBackup() {\n\t        var backup = {};\n\t        for (var i = 0; i < localStorage.length; ++i) {\n\t            var key = localStorage.key(i);\n\t            var value = localStorage.getItem(key);\n\t            backup[key] = value;\n\t        }\n\t        return backup;\n\t    }\n\t    LocalStorage.getBackup = getBackup;\n\t    /**\n\t     * This will apply a localStorage-Backup (Associative-Array key->value)\n\t     * @param backup            associative-array\n\t     * @param fClear             optional flag to clear all existing storage first. Default: true\n\t     * @param fOverwriteExisting optional flag to replace existing keys. Default: true\n\t     */\n\t    function applyBackup(backup, fClear, fOverwriteExisting) {\n\t        if (fClear === void 0) { fClear = true; }\n\t        if (fOverwriteExisting === void 0) { fOverwriteExisting = true; }\n\t        if (fClear == true) {\n\t            localStorage.clear();\n\t        }\n\t        for (var key in backup) {\n\t            if (fOverwriteExisting === false && backup[key] !== undefined) {\n\t                continue;\n\t            }\n\t            var value = backup[key];\n\t            localStorage.setItem(key, value);\n\t        }\n\t    }\n\t    LocalStorage.applyBackup = applyBackup;\n\t    /**\n\t     * This functions dumps all keys and values of the local Storage to the console,\n\t     * as well as the current size and number of items\n\t     * @param fShowMaximumSize optional, flag show maximum size of localStorage. Default: false\n\t     */\n\t    function consoleInfo(fShowMaximumSize) {\n\t        if (fShowMaximumSize === void 0) { fShowMaximumSize = false; }\n\t        var amount = 0;\n\t        var size = 0;\n\t        for (var i = 0; i < localStorage.length; ++i) {\n\t            var key = localStorage.key(i);\n\t            var value = localStorage.getItem(key);\n\t            console.log(amount, key, value);\n\t            size += key.length + value.length;\n\t            amount++;\n\t        }\n\t        console.log(\"Total entries:\", amount);\n\t        console.log(\"Total size:\", size);\n\t        if (fShowMaximumSize === true) {\n\t            var maxSize = getMaximumSpace();\n\t            console.log(\"Total size:\", maxSize);\n\t        }\n\t    }\n\t    LocalStorage.consoleInfo = consoleInfo;\n\t})(LocalStorage = exports.LocalStorage || (exports.LocalStorage = {}));\n\t/*\n\t    // Example\n\t    console.log(\"LocalStorage supported:\", LocalStorage.isSupported)// true - I hope so anyways 😉\n\t    localStorage.setItem(\"asd\", \"ASDASD\")                           // sets / overwrites the item \"asd\"\n\t    localStorage.setItem(\"asd\" + Math.random(), \"ASDASD\")           // set another item each time you refresh the page\n\t    var backup = LocalStorage.getBackup()                           // creates a backup, we will need it later!\n\t    console.log(JSON.stringify(backup))                             // this is how the backup looks like\n\t    var usedSpace = LocalStorage.getUsedSpace()                     // amount of space used right now\n\t    console.log(\"Used Space:\", usedSpace)\n\t    var maxSpace = LocalStorage.getMaximumSpace()                   // amount of maximum space aviable\n\t    console.log(\"Maximum Space:\", maxSpace)\n\t    var remSpace = LocalStorage.getRemainingSpace()                 // amount of remaining space\n\t    console.log(\"Remaining Space:\", remSpace)\n\t    console.log(\"SpaceCheck\", maxSpace === usedSpace + remSpace)    // true\n\t    console.log(\"hasItem\", LocalStorage.hasItem(\"nothis0ne\"))       // we don't have this one in our localStorage\n\t    localStorage.clear()                                            // oops, we deleted the localStorage!\n\t    console.log(\"has asd\",LocalStorage.hasItem(\"asd\"))              // item asd is lost 😒\n\t    LocalStorage.applyBackup(backup)                                // but we have a backup, restore it!\n\t    LocalStorage.consoleInfo()                                      // show all the info we have, see the backup worked 😊\n\t*/ \n\n\n/***/ },\n/* 78 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <h5>Storage management</h5>\\n    <p>\\n      Component still under construction\\n    </p>\\n    <p>\\n      This component is for the management of the data stored within this browser.\\n      In the future you will be able to come here to bulk export/import your data to a '.json' file for backup and transfer.\\n      At this current point in time the only function of this component is to see how much browser storage this web app\\n      has left for its use.\\n    </p>\\n\\n    <p>\\n      None of your measured data, or your model data is stored on a remote server. \\n      Your measurements and models are only sent to the server in the form of x and y coordinates for parameterisation, and \\n      in the form of widths, lengths, and measured factors for modelling. \\n      The server does not save a copy to disk of any of that data.\\n    </p>\\n\\n    <p>\\n      In the future it is envisaged that an option will be provided for you to easily share your model with \\n      the community under the AGPLv3+ license should you so choose, but this will not be automatic. \\n      It will be opt-in only.\\n    </p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <h5>Local storage tests</h5>\\n    <p></p>\\n\\n    <div *ngIf=\\\"testLocalStorage\\\">\\n      <p>Your browser supports local storage. You currently have {{usedLocalStorageSpace}} B of used space. Most browsers support\\n        5 MiB.\\n      </p>\\n\\n      <p>To check your remaining storage press the button below. Warning, this might be slow.</p>\\n      <button mdl-button mdl-button-type=\\\"raised\\\" mdl-colored=\\\"primary\\\" mdl-ripple (click)=\\\"testRemainingStorage()\\\">Test remaining local storage           \\n      </button>\\n      <div *ngIf=\\\"remainingLocalStorageSpace\\\">\\n        <p>You have {{remainingLocalStorageSpace}} B of local storage remaining which is available for use by this webapp.</p>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"!testLocalStorage\\\">\\n      <p>\\n        This webapp relies upon local storage working within your browser. Your browser does not support local storage. Please download\\n        and use a modern standards compliant browser such as\\n        <a href=\\\"https://www.google.com.au/chrome/browser/desktop/\\\">Chrome</a> or\\n        <a href=\\\"https://www.mozilla.org/en-GB/firefox/new/\\\">Firefox</a> to use this webapp.\\n      </p>\\n    </div>\\n  </div>\\n</div>\";\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar SpecificationsComponent = (function () {\n\t    function SpecificationsComponent(myTitleService) {\n\t        this.myTitleService = myTitleService;\n\t        this.specifications = {};\n\t        this.newMachineIDValid = false;\n\t        this.newModelValid = false;\n\t        this.newMachineValid = false;\n\t        this.edittingMachine = null;\n\t        this.newEnergyValid = false;\n\t        this.newR50Valid = false;\n\t        this.newEnergySetValid = false;\n\t        this.edittingEnergy = null;\n\t        this.newApplicatorValid = false;\n\t        this.edittingApplicator = null;\n\t        this.newSSDValid = false;\n\t        this.edittingSSD = null;\n\t    }\n\t    SpecificationsComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Specifications');\n\t        this.changeSpecifications(JSON.parse(localStorage.getItem(\"specifications\")));\n\t    };\n\t    SpecificationsComponent.prototype.changeSpecifications = function (newSpecifications) {\n\t        this.specifications = newSpecifications;\n\t        if (this.specifications == null) {\n\t            this.specifications = {};\n\t            this.machines = [];\n\t        }\n\t        else {\n\t            this.machines = Object.keys(this.specifications).sort();\n\t            this.currentMachine = JSON.parse(localStorage.getItem(\"current_machine\"));\n\t            if (this.currentMachine == null || this.specifications[this.currentMachine] === undefined) {\n\t                this.currentMachine = this.machines[0];\n\t            }\n\t        }\n\t        this.updateSpecifications();\n\t    };\n\t    SpecificationsComponent.prototype.updateSpecifications = function () {\n\t        localStorage.setItem(\"specifications\", JSON.stringify(this.specifications));\n\t    };\n\t    SpecificationsComponent.prototype.changeCurrentMachine = function (machine) {\n\t        this.currentMachine = machine;\n\t        this.updateCurrentMachine();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewMachineIDInput = function () {\n\t        if (this.specifications[this.newMachineID] == null && this.newMachineID != null && this.newMachineID != \"\") {\n\t            this.newMachineIDValid = true;\n\t        }\n\t        else {\n\t            this.newMachineIDValid = false;\n\t        }\n\t        this.checkNewMachineValid();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewModelInput = function () {\n\t        if (this.newModel != null && this.newModel != \"\") {\n\t            this.newModelValid = true;\n\t        }\n\t        else {\n\t            this.newModelValid = false;\n\t        }\n\t        this.checkNewMachineValid();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewMachineValid = function () {\n\t        this.newMachineValid = (this.newMachineIDValid && this.newModelValid);\n\t    };\n\t    SpecificationsComponent.prototype.addMachineID = function () {\n\t        if (this.newMachineValid) {\n\t            this.machines.push(this.newMachineID);\n\t            this.specifications[this.newMachineID] = {};\n\t            this.specifications[this.newMachineID][\"model\"] = this.newModel;\n\t            this.specifications[this.newMachineID][\"energy\"] = [];\n\t            this.specifications[this.newMachineID][\"R50\"] = {};\n\t            this.specifications[this.newMachineID][\"applicator\"] = [];\n\t            this.specifications[this.newMachineID][\"ssd\"] = [];\n\t            this.changeCurrentMachine(this.newMachineID);\n\t            this.newMachineID = null;\n\t            this.newModel = null;\n\t            this.newMachineIDValid = false;\n\t            this.newModelValid = false;\n\t            this.newMachineValid = false;\n\t            this.updateSpecifications();\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.checkNewEnergyInput = function () {\n\t        if (this.specifications[this.currentMachine][\"energy\"].indexOf(Number(this.newEnergy)) < 0 && this.newEnergy != null && !isNaN(Number(this.newEnergy))) {\n\t            this.newEnergyValid = true;\n\t        }\n\t        else {\n\t            this.newEnergyValid = false;\n\t        }\n\t        this.checkNewEnergySetValid();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewR50Input = function () {\n\t        if (this.newR50 != null && !isNaN(Number(this.newR50))) {\n\t            this.newR50Valid = true;\n\t        }\n\t        else {\n\t            this.newR50Valid = false;\n\t        }\n\t        this.checkNewEnergySetValid();\n\t    };\n\t    SpecificationsComponent.prototype.checkNewEnergySetValid = function () {\n\t        this.newEnergySetValid = (this.newEnergyValid && this.newR50Valid);\n\t    };\n\t    SpecificationsComponent.prototype.addEnergy = function () {\n\t        if (this.newEnergySetValid) {\n\t            this.specifications[this.currentMachine][\"energy\"].push(Number(this.newEnergy));\n\t            this.specifications[this.currentMachine][\"R50\"][this.newEnergy] = Number(this.newR50);\n\t            this.newEnergy = null;\n\t            this.newR50 = null;\n\t            this.newEnergyValid = false;\n\t            this.newR50Valid = false;\n\t            this.newEnergySetValid = false;\n\t            this.updateSpecifications();\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.checkNewApplicatorInput = function () {\n\t        if (this.specifications[this.currentMachine][\"applicator\"].indexOf(this.newApplicator.toLowerCase()) < 0 && this.newApplicator != null && this.newApplicator != \"\") {\n\t            this.newApplicatorValid = true;\n\t        }\n\t        else {\n\t            this.newApplicatorValid = false;\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.addApplicator = function () {\n\t        if (this.newApplicatorValid) {\n\t            this.specifications[this.currentMachine][\"applicator\"].push(this.newApplicator.toLowerCase());\n\t            this.newApplicator = null;\n\t            this.newApplicatorValid = false;\n\t            this.updateSpecifications();\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.checkNewSSDInput = function () {\n\t        if (this.specifications[this.currentMachine][\"ssd\"].indexOf(Number(this.newSSD)) < 0 && this.newSSD != null && !isNaN(Number(this.newSSD))) {\n\t            this.newSSDValid = true;\n\t        }\n\t        else {\n\t            this.newSSDValid = false;\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.addSSD = function () {\n\t        if (this.newSSDValid) {\n\t            this.specifications[this.currentMachine][\"ssd\"].push(Number(this.newSSD));\n\t            this.newSSD = null;\n\t            this.newSSDValid = false;\n\t            this.updateSpecifications();\n\t        }\n\t    };\n\t    SpecificationsComponent.prototype.updateCurrentMachine = function () {\n\t        localStorage.setItem(\"current_machine\", JSON.stringify(this.currentMachine));\n\t    };\n\t    SpecificationsComponent.prototype.editMachine = function (machine) {\n\t        this.currentMachine = null;\n\t        this.edittingMachine = machine;\n\t    };\n\t    SpecificationsComponent.prototype.finishMachineEdit = function (machine, idInput, modelInput) {\n\t        if (idInput != machine) {\n\t            this.specifications[idInput] = this.specifications[machine];\n\t            delete this.specifications[machine];\n\t            this.machines = Object.keys(this.specifications).sort();\n\t        }\n\t        this.specifications[idInput][\"model\"] = modelInput;\n\t        this.updateSpecifications();\n\t        this.currentMachine = this.edittingMachine;\n\t        this.edittingMachine = null;\n\t    };\n\t    SpecificationsComponent.prototype.deleteMachine = function (machine) {\n\t        var index = this.machines.indexOf(machine);\n\t        this.machines.splice(index, 1);\n\t        delete this.specifications[machine];\n\t        this.edittingMachine = null;\n\t        this.updateSpecifications();\n\t    };\n\t    SpecificationsComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-specifications',\n\t            template: __webpack_require__(80)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService])\n\t    ], SpecificationsComponent);\n\t    return SpecificationsComponent;\n\t}());\n\texports.SpecificationsComponent = SpecificationsComponent;\n\n\n/***/ },\n/* 80 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Machine specifications editing</h5>\\n    <p>\\n      Use this component to define your centre's machine specifications. \\n      These will be used throughout this web app to silo each model into its own specific machine ID, applicator, energy, ssd combination.\\n    </p>\\n    <p>\\n      <font color=\\\"#d3d3d3\\\">\\n        Currently the editing and deleting of energy, applicator, and SSD entries is not yet implimented.\\n      </font>\\n    </p>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\" style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Machine IDs</h2>\\n      </mdl-card-title>\\n\\n      <mdl-list>\\n        \\n        <div *ngFor=\\\"let machine of machines\\\">\\n        \\n          <div *ngIf=\\\"machine!=edittingMachine\\\">\\n            <mdl-list-item lines=\\\"3\\\">\\n              <mdl-list-item-primary-content>\\n                <!--<div (click)=\\\"editMachine(machine)\\\">-->\\n                <div>\\n                  <span>{{machine}}</span>\\n                  <mdl-list-item-text-body>{{specifications[machine].model}}</mdl-list-item-text-body>\\n                </div>\\n              </mdl-list-item-primary-content>\\n              <mdl-list-item-secondary-action>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"machine==currentMachine || edittingMachine!=null\\\"\\n                  (click)=\\\"changeCurrentMachine(machine)\\\"><mdl-icon>dashboard</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button *ngIf=\\\"machine!=edittingMachine\\\"\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"false\\\"\\n                  (click)=\\\"editMachine(machine)\\\"><mdl-icon>edit</mdl-icon>       \\n                </button>\\n              </mdl-list-item-secondary-action>\\n            </mdl-list-item>\\n\\n          </div>\\n\\n          <div *ngIf=\\\"machine==edittingMachine\\\">\\n            <mdl-list-item lines=\\\"3\\\">\\n              <mdl-list-item-primary-content>\\n                <mdl-textfield #machineIDTextField\\n                  type=\\\"text\\\"\\n                  label=\\\"Machine ID\\\"\\n                  [value]=\\\"machine\\\"\\n                  (keyup.enter)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"\\n                  floating-label\\n                  style=\\\"display:inline;\\\"></mdl-textfield>\\n                <mdl-textfield #modelTextField\\n                  type=\\\"text\\\"\\n                  label=\\\"Model\\\"\\n                  [value]=\\\"specifications[machine].model\\\"\\n                  (keyup.enter)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"\\n                  floating-label\\n                  style=\\\"display:inline;\\\"></mdl-textfield>\\n              </mdl-list-item-primary-content>\\n\\n              <mdl-list-item-secondary-action>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"machine!=edittingMachine\\\"\\n                  (click)=\\\"deleteMachine(machine)\\\"><mdl-icon>delete</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  mdl-colored=\\\"primary\\\" \\n                  [disabled]=\\\"machine==currentMachine || edittingMachine!=null\\\"\\n                  (click)=\\\"changeCurrentMachine(machine)\\\"><mdl-icon>dashboard</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"false\\\"\\n                  (click)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"><mdl-icon>done</mdl-icon>       \\n                </button>\\n              </mdl-list-item-secondary-action>\\n            </mdl-list-item>\\n\\n          </div>\\n        </div>\\n\\n\\n      </mdl-list>\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Machine ID\\\"\\n          [(ngModel)]=\\\"newMachineID\\\"\\n          (input)=\\\"checkNewMachineIDInput()\\\"\\n          (keyup.enter)=\\\"addMachineID()\\\"\\n          floating-label\\n          style=\\\"width:100%\\\"></mdl-textfield>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"Machine Make and Model\\\"\\n          [(ngModel)]=\\\"newModel\\\"\\n          (input)=\\\"checkNewModelInput()\\\"\\n          angulartics2On=\\\"keyup.enter\\\" angularticsEvent=\\\"Specifications | Enter press | Add machine ID\\\"\\n          (keyup.enter)=\\\"addMachineID()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newMachineValid\\\"\\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          mdl-ripple\\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Specifications | Button click | Add machine ID\\\"\\n          (click)=\\\"addMachineID()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Energies for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let energy of specifications[currentMachine].energy\\\" lines=\\\"3\\\">\\n            <mdl-list-item-primary-content>\\n              <span>{{energy}} MeV</span>\\n              <mdl-list-item-text-body>R50: {{specifications[currentMachine].R50[energy]}} cm</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Energy (MeV)\\\"\\n          [(ngModel)]=\\\"newEnergy\\\"\\n          (input)=\\\"checkNewEnergyInput()\\\"\\n          (keyup.enter)=\\\"addEnergy()\\\"\\n          floating-label\\n          style=\\\"width:100%\\\"></mdl-textfield>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"R50 for New Energy (cm)\\\"\\n          [(ngModel)]=\\\"newR50\\\"\\n          (input)=\\\"checkNewR50Input()\\\"\\n          angulartics2On=\\\"keyup.enter\\\" angularticsEvent=\\\"Specifications | Enter press | Add energy\\\"\\n          (keyup.enter)=\\\"addEnergy()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newEnergySetValid\\\" \\n          mdl-button \\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Specifications | Button click | Add energy\\\"\\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addEnergy()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Applicators for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let applicator of specifications[currentMachine].applicator\\\">\\n            <mdl-list-item-primary-content>\\n              <mdl-list-item-text-body>{{applicator}}</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Applicator\\\"\\n          [(ngModel)]=\\\"newApplicator\\\"\\n          (input)=\\\"checkNewApplicatorInput()\\\"\\n          angulartics2On=\\\"keyup.enter\\\" angularticsEvent=\\\"Specifications | Enter press | Add applicator\\\"\\n          (keyup.enter)=\\\"addApplicator()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newApplicatorValid\\\" \\n          mdl-button \\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Specifications | Button click | Add applicator\\\"\\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addApplicator()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>SSDs for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let ssd of specifications[currentMachine].ssd\\\">\\n            <mdl-list-item-primary-content>\\n              <mdl-list-item-text-body>{{ssd}} cm</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New SSD (cm)\\\"\\n          [(ngModel)]=\\\"newSSD\\\"\\n          (input)=\\\"checkNewSSDInput()\\\"\\n          (keyup.enter)=\\\"addSSD()\\\"\\n          angulartics2On=\\\"keyup.enter\\\" angularticsEvent=\\\"Specifications | Enter press | Add ssd\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newSSDValid\\\" \\n          mdl-button \\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Specifications | Button click | Add ssd\\\"\\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addSSD()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Raw specification data editing (optional)</h5>\\n    <p>\\n      If you desire you may edit the raw machine specifications in its raw format below. \\n      Currently error checking on this raw input is not implemented.\\n      Incorrectly editing the data below may cause the web app not to function.\\n      Input data above to determine the data structure required.</p>\\n    <my-json-edit\\n      [input]=\\\"specifications\\\"\\n      (inputUpdated)=\\\"changeSpecifications($event)\\\"\\n      buttonText=\\\"Update Specifications\\\">\\n    </my-json-edit>\\n  </div>\\n\\n</div>\\n\\n\";\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar router_1 = __webpack_require__(30);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar js_yaml_1 = __webpack_require__(82);\n\t// declare var yaml: any;\n\t// declare var pypyjs: any;\n\tvar DicomComponent = (function () {\n\t    function DicomComponent(myTitleService, router) {\n\t        this.myTitleService = myTitleService;\n\t        this.router = router;\n\t        this.parameterisation = {\n\t            insert: {\n\t                x: [0],\n\t                y: [0]\n\t            },\n\t            width: null,\n\t            length: null,\n\t            circle: null,\n\t            ellipse: null\n\t        };\n\t        this.insertData = {\n\t            machine: null,\n\t            parameterisation: this.parameterisation,\n\t            energy: null,\n\t            applicator: null,\n\t            ssd: null,\n\t            factor: null\n\t        };\n\t        this.dicomExitCode = 1;\n\t        this.reader = new FileReader();\n\t    }\n\t    DicomComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        window['dicomData'] = ' ';\n\t        this.reader.onload = function () { return _this.onceFileIsLoaded(); };\n\t        var insertListString = localStorage.getItem('dicom_insertList');\n\t        if (insertListString) {\n\t            this.insertList = JSON.parse(insertListString);\n\t        }\n\t        else {\n\t            this.insertList = [];\n\t        }\n\t        // localStorage.removeItem('dicomPrint');\n\t        Module.print = this.sendDicomDumpToGlobalVariable;\n\t        // Module.printErr = this.sendDicomDumpToLocalStorage;\n\t        this.myTitleService.setTitle('Dicom');\n\t        // pypyjs.exec(\"import json; print json.dumps({'hello': 'world'})\")\n\t        // pypyjs.exec(\"import dicom; print json.dumps({'hello': 'world'})\")\n\t    };\n\t    DicomComponent.prototype.sendDicomDumpToGlobalVariable = function (print) {\n\t        window['dicomData'] = window['dicomData'] + '\\n' + print;\n\t    };\n\t    DicomComponent.prototype.updateDicomWarning = function () {\n\t        var status = Number(localStorage.getItem('dicomLoadStatus'));\n\t        if (status == 0) {\n\t            this.getBlockDataButton.disabled = false;\n\t            this.dicomWarning = null;\n\t        }\n\t        else {\n\t            this.getBlockDataButton.disabled = true;\n\t            this.dicomWarning = 'An error occured while trying to find the block data within the provided Dicom file.';\n\t        }\n\t    };\n\t    DicomComponent.prototype.onceFileIsLoaded = function () {\n\t        var content = new Int8Array(this.reader.result);\n\t        console.log(content.length);\n\t        var fileName = 'dicomfile';\n\t        if (FS.isFile(fileName)) {\n\t            FS.unlink(fileName);\n\t        }\n\t        FS.writeFile(fileName, content, { encoding: \"binary\" });\n\t        var exit_orig = Module.exit;\n\t        Module.exit = function (status) {\n\t            localStorage.setItem('dicomLoadStatus', status);\n\t            exit_orig(status);\n\t        };\n\t        Module.callMain(['dcmdump', fileName, '--print-all']);\n\t        Module.exit = exit_orig;\n\t        console.log(Module);\n\t        this.updateDicomWarning();\n\t        FS.unlink(fileName);\n\t    };\n\t    DicomComponent.prototype.openFile = function (event) {\n\t        if (typeof event.target !== 'undefined') {\n\t            console.log(event.target.files);\n\t            var file = event.target.files[0];\n\t            window['dicomData'] = ' ';\n\t            this.reader.readAsArrayBuffer(file);\n\t        }\n\t        else {\n\t            console.log(event);\n\t        }\n\t    };\n\t    DicomComponent.prototype.convertDicomDumpToDict = function (dump) {\n\t        var yamlConvert = dump.replace(/\\s*#[^#\\n]*\\n/g, '\\n');\n\t        yamlConvert = yamlConvert.replace(/\\s*#[^#\\n]*$/g, '');\n\t        yamlConvert = yamlConvert.replace(/^\\n*/, '');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\))/g, '$1:');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) SQ \\(Sequence with undefined length #=\\d+\\)/g, '$1');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) na \\(Item with undefined length #=\\d+\\)/g, '$1');\n\t        yamlConvert = yamlConvert.replace(/ *\\(fffe,e00d\\): na \\(ItemDelimitationItem\\) *\\n/g, '');\n\t        yamlConvert = yamlConvert.replace(/ *\\(fffe,e0dd\\): na \\(SequenceDelimitationItem\\)\\n/g, '');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) (.*)/g, '$1 \"$2\"');\n\t        yamlConvert = yamlConvert.replace(/\\\\/g, ', ');\n\t        yamlConvert = yamlConvert.replace(/\\(fffe,e000\\):/g, ' - ');\n\t        yamlConvert = js_yaml_1.safeLoad(yamlConvert);\n\t        return yamlConvert;\n\t    };\n\t    DicomComponent.prototype.convertBlockDataToCoords = function (blockData) {\n\t        var listString = /\\[[, \\d\\.-]*\\]/.exec(blockData).toString();\n\t        var parsedData = JSON.parse('{ \"data\": ' + listString + '}');\n\t        var x = [];\n\t        var y = [];\n\t        var i = 0;\n\t        for (var _i = 0, _a = parsedData['data']; _i < _a.length; _i++) {\n\t            var num = _a[_i];\n\t            if (i % 2 == 0) {\n\t                x.push(parseFloat((num / 10).toFixed(2)));\n\t            }\n\t            else {\n\t                y.push(parseFloat((num / 10).toFixed(2)));\n\t            }\n\t            i++;\n\t        }\n\t        var insert = {\n\t            \"x\": x,\n\t            \"y\": y\n\t        };\n\t        return insert;\n\t    };\n\t    DicomComponent.prototype.dicomPullNumber = function (input) {\n\t        return Number(input.replace(/.*\\[([\\d\\.-]*)\\].*/, \"$1\"));\n\t    };\n\t    DicomComponent.prototype.dicomPullString = function (input) {\n\t        return input.replace(/.*\\[(.*)\\].*/, \"$1\");\n\t    };\n\t    DicomComponent.prototype.getBlockData = function () {\n\t        var dicomPrint = window['dicomData'];\n\t        var dicomDict = this.convertDicomDumpToDict(dicomPrint);\n\t        // console.log(dicomDict)\n\t        this.insertList = [];\n\t        var beamSequence = dicomDict[\"(300a,00b0)\"];\n\t        for (var _i = 0, beamSequence_1 = beamSequence; _i < beamSequence_1.length; _i++) {\n\t            var beam = beamSequence_1[_i];\n\t            var temp = beam[\"(300a,00f4)\"];\n\t            if (temp != undefined) {\n\t                var blockData = beam[\"(300a,00f4)\"][0][\"(300a,0106)\"];\n\t                var coordinates = this.convertBlockDataToCoords(blockData);\n\t                var applicator = null;\n\t                try {\n\t                    applicator = this.dicomPullString(beam[\"(300a,0107)\"][0][\"(300a,0108)\"]);\n\t                }\n\t                catch (err) {\n\t                    applicator = null;\n\t                    console.log(err);\n\t                }\n\t                var energy = null;\n\t                try {\n\t                    energy = this.dicomPullNumber(beam[\"(300a,0111)\"][0][\"(300a,0114)\"]);\n\t                }\n\t                catch (err) {\n\t                    energy = null;\n\t                    console.log(err);\n\t                }\n\t                var ssd = null;\n\t                try {\n\t                    ssd = this.dicomPullNumber(beam[\"(300a,0111)\"][0][\"(300a,0130)\"]) / 10;\n\t                }\n\t                catch (err) {\n\t                    ssd = null;\n\t                    console.log(err);\n\t                }\n\t                var machine = null;\n\t                try {\n\t                    machine = this.dicomPullString(beam[\"(300a,00b2)\"]);\n\t                }\n\t                catch (err) {\n\t                    machine = null;\n\t                    console.log(err);\n\t                }\n\t                var insert = {\n\t                    \"machine\": machine,\n\t                    \"coordinates\": coordinates,\n\t                    \"applicator\": applicator.toLowerCase(),\n\t                    \"energy\": energy,\n\t                    \"ssd\": ssd\n\t                };\n\t                this.insertList.push(insert);\n\t            }\n\t        }\n\t        localStorage.setItem('dicom_insertList', JSON.stringify(this.insertList));\n\t    };\n\t    DicomComponent.prototype.sendToParameterisation = function (insert) {\n\t        this.insertUpdated(insert['coordinates']);\n\t        this.insertData['machine'] = insert['machine'];\n\t        this.insertData['parameterisation'] = this.parameterisation;\n\t        this.insertData['energy'] = insert['energy'];\n\t        this.insertData['applicator'] = insert['applicator'];\n\t        this.insertData['ssd'] = insert['ssd'];\n\t        localStorage.setItem(\"last_insertData\", JSON.stringify(this.insertData));\n\t        this.router.navigate([\"/parameterise\"]);\n\t    };\n\t    DicomComponent.prototype.parameterisationFromLocalStorage = function (localStorageParameterisationString) {\n\t        var localStorageParameterisation = JSON.parse(localStorageParameterisationString);\n\t        this.parameterisation.insert = localStorageParameterisation['insert'];\n\t        this.parameterisation.width = localStorageParameterisation['width'];\n\t        this.parameterisation.length = localStorageParameterisation['length'];\n\t        this.parameterisation.circle = localStorageParameterisation['circle'];\n\t        this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n\t    };\n\t    DicomComponent.prototype.insertUpdated = function (insert) {\n\t        var localStorageParameterisation = localStorage.getItem(JSON.stringify(insert));\n\t        if (localStorageParameterisation) {\n\t            this.parameterisationFromLocalStorage(localStorageParameterisation);\n\t        }\n\t        else {\n\t            this.parameterisation.insert = insert;\n\t            this.parameterisation.width = null;\n\t            this.parameterisation.length = null;\n\t            this.parameterisation.circle = null;\n\t            this.parameterisation.ellipse = null;\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('dicomOutput'), \n\t        __metadata('design:type', Object)\n\t    ], DicomComponent.prototype, \"dicomOutputDir\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('getBlockDataButton'), \n\t        __metadata('design:type', Object)\n\t    ], DicomComponent.prototype, \"getBlockDataButton\", void 0);\n\t    DicomComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-dicom',\n\t            template: __webpack_require__(117),\n\t            styles: ['./dicom.component.css']\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService, router_1.Router])\n\t    ], DicomComponent);\n\t    return DicomComponent;\n\t}());\n\texports.DicomComponent = DicomComponent;\n\n\n/***/ },\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <h5>Locally reading Dicom patient plan files</h5>\\n    <p>\\n      Use this component to read a dicom patient plan file and extract the electron insert shape. \\n      Export a dicom patient plan file that containts an electron plan from your planning system then open it using the file input box below.\\n    </p>\\n    <p>\\n      For testing purposes you can download a demo dicom file from <a href=\\\"/30x16x30_RandomElectronShapes.dcm\\\">here</a>.\\n    </p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <input type='file' (change)='openFile($event)'>\\n    <div *ngIf=\\\"dicomWarning\\\">{{dicomWarning}}</div>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <button #getBlockDataButton\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Dicom | Get dicom insert data\\\"\\n      [disabled]=\\\"true\\\"\\n      (click)=\\\"getBlockData()\\\">Get Dicom Insert Data\\n    </button>\\n\\n    \\n  </div>\\n\\n  <div *ngFor=\\\"let insert of insertList\\\" class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\">\\n\\n\\n      <my-send-to-parameterisation\\n        [machine]=insert.machine\\n        [coordinates]=insert.coordinates\\n        [applicator]=insert.applicator\\n        [ssd]=insert.ssd\\n        [energy]=insert.energy>\\n      </my-send-to-parameterisation>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <button\\n          mdl-button \\n          mdl-ripple\\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Dicom | Send to parameterisation\\\"\\n          (click)=\\\"sendToParameterisation(insert)\\\">Send to parameterisation           \\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n    \\n\\n\\n    <!--<p>{{insert | json}}</p>-->\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <h5>Further information</h5>\\n    <p>This Dicom loader does not send the Dicom file off to a server. The entire reading of the dicom file is done within javascript.\\n    You can confirm this yourself by using the chrome web browser, pressing 'Ctrl + Shift + I'\\n    and then clicking on the network tab. When the file is chosen, then the block data is pulled and sent to parameterisation,\\n    at no point in this interaction is there network traffic.</p>\\n\\n    <p>The only data that will be sent to the server will be on either the paremeterisation tab or the model tab, and this data will\\n      just consist of x and y coordinates or widths, lengths, and factors.\\n    </p>\\n  </div>\\n</div>\";\n\n/***/ },\n/* 118 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(3);\n\tvar angulartics2_1 = __webpack_require__(119);\n\tvar Angulartics2GoogleAnalytics = (function () {\n\t    function Angulartics2GoogleAnalytics(angulartics2) {\n\t        var _this = this;\n\t        this.angulartics2 = angulartics2;\n\t        this.angulartics2.settings.pageTracking.trackRelativePath = true;\n\t        this.angulartics2.settings.ga = {\n\t            additionalAccountNames: [],\n\t            userId: null\n\t        };\n\t        this.angulartics2.pageTrack.subscribe(function (x) { return _this.pageTrack(x.path); });\n\t        this.angulartics2.eventTrack.subscribe(function (x) { return _this.eventTrack(x.action, x.properties); });\n\t        this.angulartics2.exceptionTrack.subscribe(function (x) { return _this.exceptionTrack(x); });\n\t        this.angulartics2.setUsername.subscribe(function (x) { return _this.setUsername(x); });\n\t        this.angulartics2.setUserProperties.subscribe(function (x) { return _this.setUserProperties(x); });\n\t        this.angulartics2.userTimings.subscribe(function (x) { return _this.userTimings(x); });\n\t    }\n\t    Angulartics2GoogleAnalytics.prototype.pageTrack = function (path) {\n\t        if (typeof _gaq !== 'undefined' && _gaq) {\n\t            _gaq.push(['_trackPageview', path]);\n\t            for (var _i = 0, _a = this.angulartics2.settings.ga.additionalAccountNames; _i < _a.length; _i++) {\n\t                var accountName = _a[_i];\n\t                _gaq.push([accountName + '._trackPageview', path]);\n\t            }\n\t            ;\n\t        }\n\t        if (typeof ga !== 'undefined' && ga) {\n\t            if (this.angulartics2.settings.ga.userId) {\n\t                ga('set', '&uid', this.angulartics2.settings.ga.userId);\n\t            }\n\t            ga('send', 'pageview', path);\n\t            for (var _b = 0, _c = this.angulartics2.settings.ga.additionalAccountNames; _b < _c.length; _b++) {\n\t                var accountName = _c[_b];\n\t                ga(accountName + '.send', 'pageview', path);\n\t            }\n\t            ;\n\t        }\n\t    };\n\t    Angulartics2GoogleAnalytics.prototype.eventTrack = function (action, properties) {\n\t        if (!properties || !properties.category) {\n\t            properties = properties || {};\n\t            properties.category = 'Event';\n\t        }\n\t        if (properties.value) {\n\t            var parsed = parseInt(properties.value, 10);\n\t            properties.value = isNaN(parsed) ? 0 : parsed;\n\t        }\n\t        if (ga) {\n\t            var eventOptions = {\n\t                eventCategory: properties.category,\n\t                eventAction: action,\n\t                eventLabel: properties.label,\n\t                eventValue: properties.value,\n\t                nonInteraction: properties.noninteraction,\n\t                page: properties.page || location.hash.substring(1) || location.pathname,\n\t                userId: this.angulartics2.settings.ga.userId\n\t            };\n\t            this.setDimensionsAndMetrics(properties);\n\t            if (this.angulartics2.settings.ga.transport) {\n\t                ga('send', 'event', eventOptions, { transport: this.angulartics2.settings.ga.transport });\n\t            }\n\t            else {\n\t                ga('send', 'event', eventOptions);\n\t            }\n\t            for (var _i = 0, _a = this.angulartics2.settings.ga.additionalAccountNames; _i < _a.length; _i++) {\n\t                var accountName = _a[_i];\n\t                ga(accountName + '.send', 'event', eventOptions);\n\t            }\n\t        }\n\t        else if (_gaq) {\n\t            _gaq.push(['_trackEvent', properties.category, action, properties.label, properties.value, properties.noninteraction]);\n\t        }\n\t    };\n\t    Angulartics2GoogleAnalytics.prototype.exceptionTrack = function (properties) {\n\t        if (!properties || !properties.appId || !properties.appName || !properties.appVersion) {\n\t            console.error('Must be setted appId, appName and appVersion.');\n\t            return;\n\t        }\n\t        if (properties.fatal === undefined) {\n\t            console.log('No \"fatal\" provided, sending with fatal=true');\n\t            properties.exFatal = true;\n\t        }\n\t        properties.exDescription = properties.description;\n\t        ga('send', 'exception', properties);\n\t    };\n\t    Angulartics2GoogleAnalytics.prototype.setUsername = function (userId) {\n\t        this.angulartics2.settings.ga.userId = userId;\n\t    };\n\t    Angulartics2GoogleAnalytics.prototype.setUserProperties = function (properties) {\n\t        this.setDimensionsAndMetrics(properties);\n\t    };\n\t    Angulartics2GoogleAnalytics.prototype.userTimings = function (properties) {\n\t        if (!properties || !properties.timingCategory || !properties.timingVar || !properties.timingValue) {\n\t            console.error('Properties timingCategory, timingVar, and timingValue are required to be set.');\n\t            return;\n\t        }\n\t        if (ga) {\n\t            ga('send', 'timing', properties);\n\t        }\n\t    };\n\t    Angulartics2GoogleAnalytics.prototype.setDimensionsAndMetrics = function (properties) {\n\t        if (ga) {\n\t            for (var idx = 1; idx <= 200; idx++) {\n\t                if (properties['dimension' + idx.toString()]) {\n\t                    ga('set', 'dimension' + idx.toString(), properties['dimension' + idx.toString()]);\n\t                }\n\t                if (properties['metric' + idx.toString()]) {\n\t                    ga('set', 'metric' + idx.toString(), properties['metric' + idx.toString()]);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    Angulartics2GoogleAnalytics.decorators = [\n\t        { type: core_1.Injectable },\n\t    ];\n\t    Angulartics2GoogleAnalytics.ctorParameters = [\n\t        { type: angulartics2_1.Angulartics2, },\n\t    ];\n\t    return Angulartics2GoogleAnalytics;\n\t}());\n\texports.Angulartics2GoogleAnalytics = Angulartics2GoogleAnalytics;\n\n\n/***/ },\n/* 119 */,\n/* 120 */,\n/* 121 */,\n/* 122 */,\n/* 123 */,\n/* 124 */,\n/* 125 */,\n/* 126 */,\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */,\n/* 133 */,\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */,\n/* 138 */,\n/* 139 */,\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */,\n/* 144 */,\n/* 145 */,\n/* 146 */,\n/* 147 */,\n/* 148 */,\n/* 149 */,\n/* 150 */,\n/* 151 */,\n/* 152 */,\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */,\n/* 169 */,\n/* 170 */,\n/* 171 */,\n/* 172 */,\n/* 173 */,\n/* 174 */,\n/* 175 */,\n/* 176 */,\n/* 177 */,\n/* 178 */,\n/* 179 */,\n/* 180 */,\n/* 181 */,\n/* 182 */,\n/* 183 */,\n/* 184 */,\n/* 185 */,\n/* 186 */,\n/* 187 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar router_1 = __webpack_require__(30);\n\tvar platform_browser_1 = __webpack_require__(21);\n\tvar angulartics2_1 = __webpack_require__(130);\n\tvar angulartics2_google_analytics_1 = __webpack_require__(118);\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar AppComponent = (function () {\n\t    function AppComponent(electronApiService, myTitleService, router, title, angulartics2, angulartics2GoogleAnalytics) {\n\t        var _this = this;\n\t        this.electronApiService = electronApiService;\n\t        this.myTitleService = myTitleService;\n\t        this.router = router;\n\t        this.title = title;\n\t        router.events\n\t            .filter(function (event) { return event instanceof router_1.NavigationEnd; })\n\t            .subscribe(function () {\n\t            _this.pageTitle = _this.myTitleService.getTitle();\n\t            _this.title.setTitle(_this.myTitleService.getTitle() +\n\t                ' | Electron Insert Factor Modelling');\n\t        });\n\t    }\n\t    AppComponent.prototype.ngOnInit = function () {\n\t        // let redirect = sessionStorage['redirect'];\n\t        // delete sessionStorage['redirect'];\n\t        // if (redirect && redirect != location.href) {\n\t        //   history.replaceState(null, null, redirect);\n\t        //   this.router.navigate([redirect])\n\t        // }\n\t        this.electronApiService.wakeUpServer();\n\t        this.pageTitle = this.myTitleService.getTitle();\n\t        this.title.setTitle(this.myTitleService.getTitle() +\n\t            ' | Electron Insert Factor Modelling');\n\t    };\n\t    AppComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-app',\n\t            template: __webpack_require__(188),\n\t        }), \n\t        __metadata('design:paramtypes', [electron_api_service_1.ElectronApiService, title_service_1.TitleService, router_1.Router, platform_browser_1.Title, angulartics2_1.Angulartics2, angulartics2_google_analytics_1.Angulartics2GoogleAnalytics])\n\t    ], AppComponent);\n\t    return AppComponent;\n\t}());\n\texports.AppComponent = AppComponent;\n\n\n/***/ },\n/* 188 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n<!--<md-sidenav-layout>\\n\\n  <md-sidenav #sidenav mode=\\\"side\\\" class=\\\"app-sidenav\\\">\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </md-sidenav>\\n\\n  <md-toolbar color=\\\"primary\\\">\\n    <button class=\\\"app-icon-button\\\" (click)=\\\"sidenav.toggle()\\\">\\n      <i class=\\\"material-icons app-toolbar-menu\\\">menu</i>\\n    </button>\\n\\n    {{pageTitle}}\\n\\n    <span class=\\\"app-toolbar-filler\\\"></span>\\n    <button md-button (click)=\\\"isDarkTheme = !isDarkTheme\\\">TOGGLE DARK THEME</button>\\n  </md-toolbar>\\n\\n  <div class=\\\"app-content\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n\\n\\n</md-sidenav-layout>-->\\n\\n\\n<mdl-layout mdl-layout-fixed-drawer mdl-layout-fixed-header>\\n  <mdl-layout-header>\\n    <mdl-layout-header-row>\\n      <mdl-layout-title>{{pageTitle}}</mdl-layout-title>\\n    </mdl-layout-header-row>\\n  </mdl-layout-header>\\n  <mdl-layout-drawer>\\n    <mdl-layout-title>Electron Factors</mdl-layout-title>\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/create-model\\\" routerLinkActive=\\\"active\\\" href>Create electron model</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/use-model\\\" routerLinkActive=\\\"active\\\" href>Use electron model</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/storage\\\" routerLinkActive=\\\"active\\\" href>Storage management</a>\\n    </nav>\\n  </mdl-layout-drawer>\\n  <mdl-layout-content>\\n\\n    <router-outlet></router-outlet>\\n\\n  </mdl-layout-content>\\n</mdl-layout>\";\n\n/***/ },\n/* 189 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar coordinates_1 = __webpack_require__(190);\n\tvar PlotComponent = (function () {\n\t    function PlotComponent() {\n\t        this.insert_x = null;\n\t        this.insert_y = null;\n\t        this.circle = null;\n\t        this.ellipse = null;\n\t        this.enabled = true;\n\t        this.plot_width = 300;\n\t        this.plot_height = 300;\n\t        this.jsonValid = true;\n\t        this.plt = Bokeh.Plotting;\n\t        this.tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';\n\t        this.xrange = Bokeh.Range1d(-6, 6);\n\t        this.yrange = Bokeh.Range1d(-6, 6);\n\t        this.fig = this.plt.figure({\n\t            title: 'Electron Insert Plot', tools: this.tools,\n\t            x_range: this.xrange, y_range: this.yrange,\n\t            plot_width: 300, plot_height: 300\n\t        });\n\t        this.source = new Bokeh.ColumnDataSource();\n\t        this.doc = new Bokeh.Document();\n\t    }\n\t    PlotComponent.prototype.ngOnChanges = function () {\n\t        this.jsonValid = false;\n\t        this.tempSource = {\n\t            \"xs\": [[0], [0], [0]],\n\t            \"ys\": [[0], [0], [0]],\n\t            \"colour\": [\"navy\", \"firebrick\", \"green\"]\n\t        };\n\t        var xAll = [];\n\t        var yAll = [];\n\t        if (this.enabled) {\n\t            if (this.insert_x != null && this.insert_y != null) {\n\t                this.tempSource.xs[0] = this.insert_x.concat(this.insert_x[0]);\n\t                this.tempSource.ys[0] = this.insert_y.concat(this.insert_y[0]);\n\t                xAll = xAll.concat(this.tempSource.xs[0]);\n\t                yAll = yAll.concat(this.tempSource.ys[0]);\n\t            }\n\t            if (this.circle) {\n\t                if ('x' in this.circle && 'y' in this.circle) {\n\t                    this.tempSource.xs[1] = this.circle.x;\n\t                    this.tempSource.ys[1] = this.circle.y;\n\t                    xAll = xAll.concat(this.tempSource.xs[1]);\n\t                    yAll = yAll.concat(this.tempSource.ys[1]);\n\t                }\n\t            }\n\t            if (this.ellipse) {\n\t                if ('x' in this.ellipse && 'y' in this.ellipse) {\n\t                    this.tempSource.xs[2] = this.ellipse.x;\n\t                    this.tempSource.ys[2] = this.ellipse.y;\n\t                    xAll = xAll.concat(this.tempSource.xs[2]);\n\t                    yAll = yAll.concat(this.tempSource.ys[2]);\n\t                }\n\t            }\n\t        }\n\t        var xMax = Math.max.apply(Math, xAll);\n\t        var xMin = Math.min.apply(Math, xAll);\n\t        var yMax = Math.max.apply(Math, yAll);\n\t        var yMin = Math.min.apply(Math, yAll);\n\t        var range = Math.max(xMax - xMin, yMax - yMin) * 1.1;\n\t        var sqXMax = (xMax + xMin) / 2 + range / 2;\n\t        var sqXMin = (xMax + xMin) / 2 - range / 2;\n\t        var sqYMax = (yMax + yMin) / 2 + range / 2;\n\t        var sqYMin = (yMax + yMin) / 2 - range / 2;\n\t        this.fig.attributes.x_range.start = sqXMin;\n\t        this.fig.attributes.x_range.end = sqXMax;\n\t        this.fig.attributes.y_range.start = sqYMin;\n\t        this.fig.attributes.y_range.end = sqYMax;\n\t        // this.fig.update_range();\n\t        // console.log(this.fig);\n\t        this.source.data = this.tempSource;\n\t    };\n\t    PlotComponent.prototype.ngAfterViewInit = function () {\n\t        // this.ngOnChanges();\n\t        this.fig.multi_line({ field: 'xs' }, { field: 'ys' }, {\n\t            source: this.source,\n\t            line_width: 2,\n\t            color: { field: 'colour' }\n\t        });\n\t        this.doc.add_root(this.fig);\n\t        Bokeh.embed.add_document_standalone(this.doc, this.bokehplot.nativeElement);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], PlotComponent.prototype, \"insert_x\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], PlotComponent.prototype, \"insert_y\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], PlotComponent.prototype, \"circle\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], PlotComponent.prototype, \"ellipse\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], PlotComponent.prototype, \"enabled\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], PlotComponent.prototype, \"plot_width\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], PlotComponent.prototype, \"plot_height\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('bokehplot'), \n\t        __metadata('design:type', Object)\n\t    ], PlotComponent.prototype, \"bokehplot\", void 0);\n\t    PlotComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-plot',\n\t            template: __webpack_require__(191)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], PlotComponent);\n\t    return PlotComponent;\n\t}());\n\texports.PlotComponent = PlotComponent;\n\n\n/***/ },\n/* 190 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar Coordinates = (function () {\n\t    function Coordinates(x, y) {\n\t        this.x = x;\n\t        this.y = y;\n\t    }\n\t    return Coordinates;\n\t}());\n\texports.Coordinates = Coordinates;\n\n\n/***/ },\n/* 191 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div \\n    class=\\\"bk-root\\\" \\n    [style.width]=\\\"plot_width + 'px'\\\" \\n    [style.height]=\\\"plot_height + 'px'\\\">\\n  <div #bokehplot></div>\\n</div>\\n\";\n\n/***/ },\n/* 192 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar angular2_mdl_1 = __webpack_require__(132);\n\tvar WidthLengthTableComponent = (function () {\n\t    function WidthLengthTableComponent() {\n\t        this.tableData = [\n\t            { width: null, length: null }\n\t        ];\n\t        this.tableModel = new angular2_mdl_1.MdlDefaultTableModel([\n\t            { key: 'width', name: 'Width', sortable: true, numeric: true },\n\t            { key: 'length', name: 'Length', sortable: true, numeric: true }\n\t        ]);\n\t    }\n\t    WidthLengthTableComponent.prototype.ngOnChanges = function () {\n\t        if (this.enabled) {\n\t            this.tableData[0].width = this.width;\n\t            this.tableData[0].length = this.length;\n\t        }\n\t        else {\n\t            this.tableData[0].width = null;\n\t            this.tableData[0].length = null;\n\t        }\n\t    };\n\t    WidthLengthTableComponent.prototype.ngOnInit = function () {\n\t        this.tableModel.addAll(this.tableData);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], WidthLengthTableComponent.prototype, \"width\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], WidthLengthTableComponent.prototype, \"length\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], WidthLengthTableComponent.prototype, \"enabled\", void 0);\n\t    WidthLengthTableComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-width-length-table',\n\t            template: __webpack_require__(193),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], WidthLengthTableComponent);\n\t    return WidthLengthTableComponent;\n\t}());\n\texports.WidthLengthTableComponent = WidthLengthTableComponent;\n\n\n/***/ },\n/* 193 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<mdl-table mdl-shadow=\\\"2\\\"\\n  [table-model]=\\\"tableModel\\\">\\n</mdl-table>\";\n\n/***/ },\n/* 194 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar my_json_pipe_1 = __webpack_require__(195);\n\tvar coordinates_1 = __webpack_require__(190);\n\tvar JsonInputComponent = (function () {\n\t    function JsonInputComponent() {\n\t        this.insertUpdated = new core_1.EventEmitter();\n\t        this.jsonStatus = new core_1.EventEmitter();\n\t        this.jsonValid = true;\n\t    }\n\t    JsonInputComponent.prototype.onInput = function (jsonInput) {\n\t        this.parseAndCheckJSON(jsonInput);\n\t        this.insertUpdated.emit(this.insert);\n\t    };\n\t    JsonInputComponent.prototype.ngOnChanges = function () {\n\t        if (this.refresh) {\n\t            this.jsonInputDir.value = new my_json_pipe_1.MyJsonPipe().transform(this.insert);\n\t            this.parseAndCheckJSON(this.jsonInputDir.value);\n\t            this.refresh = false;\n\t        }\n\t    };\n\t    JsonInputComponent.prototype.parseAndCheckJSON = function (jsonInput) {\n\t        var oldJsonValid = this.jsonValid;\n\t        this.jsonValid = false;\n\t        try {\n\t            var parsedJSON = JSON.parse(jsonInput);\n\t            if ('x' in parsedJSON && 'y' in parsedJSON) {\n\t                if (parsedJSON.x.length === parsedJSON.y.length) {\n\t                    var x = parsedJSON.x;\n\t                    var y = parsedJSON.y;\n\t                    var insert = {\n\t                        x: x,\n\t                        y: y\n\t                    };\n\t                    this.insert = insert;\n\t                    this.jsonValid = true;\n\t                }\n\t                else {\n\t                    this.jsonErrorMessage = 'The length of x doesn\\'t match the length of y.';\n\t                }\n\t            }\n\t            else {\n\t                this.jsonErrorMessage = 'Either x or y is missing.';\n\t            }\n\t        }\n\t        catch (err) {\n\t            this.jsonErrorMessage = 'Error in JSON input. ' + err;\n\t        }\n\t        finally {\n\t            if (this.jsonValid != oldJsonValid) {\n\t                this.jsonStatus.emit(this.jsonValid);\n\t            }\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], JsonInputComponent.prototype, \"insert\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], JsonInputComponent.prototype, \"jsonDisabled\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], JsonInputComponent.prototype, \"refresh\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', Object)\n\t    ], JsonInputComponent.prototype, \"insertUpdated\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', Object)\n\t    ], JsonInputComponent.prototype, \"jsonStatus\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('jsonInput'), \n\t        __metadata('design:type', Object)\n\t    ], JsonInputComponent.prototype, \"jsonInputDir\", void 0);\n\t    JsonInputComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-json-input',\n\t            template: __webpack_require__(196),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], JsonInputComponent);\n\t    return JsonInputComponent;\n\t}());\n\texports.JsonInputComponent = JsonInputComponent;\n\n\n/***/ },\n/* 195 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar MyJsonPipe = (function () {\n\t    function MyJsonPipe() {\n\t    }\n\t    MyJsonPipe.prototype.transform = function (input) {\n\t        var jsonText = JSON.stringify(input, null, 4);\n\t        jsonText = jsonText.replace(/(-?\\d+(\\.\\d+)?),\\n\\s*/g, \"$1, \");\n\t        jsonText = jsonText.replace(/null,\\n\\s*/g, \"null, \");\n\t        // jsonText = jsonText.replace(/:/g, \":\\n\");\n\t        return jsonText;\n\t    };\n\t    MyJsonPipe = __decorate([\n\t        core_1.Pipe({ name: 'myJson', pure: false }), \n\t        __metadata('design:paramtypes', [])\n\t    ], MyJsonPipe);\n\t    return MyJsonPipe;\n\t}());\n\texports.MyJsonPipe = MyJsonPipe;\n\n\n/***/ },\n/* 196 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<mdl-textfield #jsonInput\\n  [value]=\\\"insert | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  rows=\\\"12\\\" \\n  style=\\\"width:100%\\\"\\n  [disabled]=jsonDisabled>\\n</mdl-textfield>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\";\n\n/***/ },\n/* 197 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar my_json_pipe_1 = __webpack_require__(195);\n\tvar common_1 = __webpack_require__(22);\n\tvar JsonEditComponent = (function () {\n\t    function JsonEditComponent() {\n\t        this.buttonText = \"Button\";\n\t        this.inputUpdated = new core_1.EventEmitter();\n\t        this.validationCheck = function (parsedJSON) { };\n\t        this.useMyJsonPipe = false;\n\t        this.lines = 10;\n\t        this.jsonValid = true;\n\t    }\n\t    JsonEditComponent.prototype.onInput = function (jsonInput) {\n\t        this.parseAndCheckJSON(jsonInput);\n\t    };\n\t    JsonEditComponent.prototype.ngOnInit = function () {\n\t        var value = \"\";\n\t        if (this.useMyJsonPipe) {\n\t            value = new my_json_pipe_1.MyJsonPipe().transform(this.input);\n\t        }\n\t        else {\n\t            value = new common_1.JsonPipe().transform(this.input);\n\t        }\n\t        this.lines = value.split(/\\r\\n|\\r|\\n/).length;\n\t        this.editedInput = this.input;\n\t    };\n\t    JsonEditComponent.prototype.updateInput = function () {\n\t        this.input = this.editedInput;\n\t        this.inputUpdated.emit(this.input);\n\t    };\n\t    JsonEditComponent.prototype.parseAndCheckJSON = function (jsonInput) {\n\t        var oldJsonValid = this.jsonValid;\n\t        this.jsonValid = false;\n\t        try {\n\t            var parsedJSON = JSON.parse(jsonInput);\n\t            this.validationCheck(parsedJSON);\n\t            this.editedInput = parsedJSON;\n\t            this.jsonValid = true;\n\t        }\n\t        catch (err) {\n\t            this.jsonErrorMessage = 'Error in JSON input. ' + err;\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], JsonEditComponent.prototype, \"input\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], JsonEditComponent.prototype, \"buttonText\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', Object)\n\t    ], JsonEditComponent.prototype, \"inputUpdated\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Function)\n\t    ], JsonEditComponent.prototype, \"validationCheck\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], JsonEditComponent.prototype, \"useMyJsonPipe\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('jsonInput'), \n\t        __metadata('design:type', Object)\n\t    ], JsonEditComponent.prototype, \"jsonInputDir\", void 0);\n\t    JsonEditComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-json-edit',\n\t            template: __webpack_require__(198),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], JsonEditComponent);\n\t    return JsonEditComponent;\n\t}());\n\texports.JsonEditComponent = JsonEditComponent;\n\n\n/***/ },\n/* 198 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button\\n  mdl-button mdl-button-type=\\\"raised\\\" \\n  mdl-colored=\\\"primary\\\" \\n  mdl-ripple\\n  [disabled]=\\\"!jsonValid || input==editedInput\\\"\\n  (click)=\\\"updateInput()\\\">{{buttonText}} \\n</button>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\\n<mdl-textfield *ngIf=\\\"!useMyJsonPipe\\\" #jsonInput\\n  [value]=\\\"input | json\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  [rows]=\\\"20\\\" \\n  style=\\\"width:100%\\\">\\n</mdl-textfield>\\n<mdl-textfield *ngIf=\\\"useMyJsonPipe\\\" #jsonInput\\n  [value]=\\\"input | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  [rows]=\\\"20\\\" \\n  style=\\\"width:100%\\\">\\n</mdl-textfield>\";\n\n/***/ },\n/* 199 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar coordinates_1 = __webpack_require__(190);\n\tvar angular2_mdl_1 = __webpack_require__(132);\n\tvar SendToParameterisationComponent = (function () {\n\t    function SendToParameterisationComponent() {\n\t        this.tableData = [\n\t            { machine: null, applicator: null, energy: null, ssd: null }\n\t        ];\n\t        this.tableModel = new angular2_mdl_1.MdlDefaultTableModel([\n\t            { key: 'machine', name: 'Machine', sortable: true, numeric: false },\n\t            { key: 'applicator', name: 'App', sortable: true, numeric: false },\n\t            { key: 'energy', name: 'Eng', sortable: true, numeric: true },\n\t            { key: 'ssd', name: 'SSD', sortable: true, numeric: true }\n\t        ]);\n\t    }\n\t    SendToParameterisationComponent.prototype.ngOnInit = function () {\n\t        this.tableData[0].machine = this.machine;\n\t        this.tableData[0].applicator = this.applicator;\n\t        this.tableData[0].energy = this.energy;\n\t        this.tableData[0].ssd = this.ssd;\n\t        this.tableModel.addAll(this.tableData);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], SendToParameterisationComponent.prototype, \"applicator\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], SendToParameterisationComponent.prototype, \"machine\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], SendToParameterisationComponent.prototype, \"energy\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], SendToParameterisationComponent.prototype, \"ssd\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], SendToParameterisationComponent.prototype, \"coordinates\", void 0);\n\t    SendToParameterisationComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-send-to-parameterisation',\n\t            template: __webpack_require__(200),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], SendToParameterisationComponent);\n\t    return SendToParameterisationComponent;\n\t}());\n\texports.SendToParameterisationComponent = SendToParameterisationComponent;\n\n\n/***/ },\n/* 200 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <my-plot \\n      [insert_x]=\\\"coordinates.x\\\"\\n      [insert_y]=\\\"coordinates.y\\\">\\n    </my-plot>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <mdl-table mdl-shadow=\\\"2\\\"\\n      [table-model]=\\\"tableModel\\\">\\n    </mdl-table>\\n  </div>\\n</div>\\n\\n\";\n\n/***/ },\n/* 201 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar bokeh_pcolour_1 = __webpack_require__(202);\n\tvar BokehCreateModelComponent = (function (_super) {\n\t    __extends(BokehCreateModelComponent, _super);\n\t    function BokehCreateModelComponent() {\n\t        _super.apply(this, arguments);\n\t        this.title = \"Figure Title\";\n\t        this.plot_width = 300;\n\t        this.plot_height = 300;\n\t        this.scatter_z = [0.5];\n\t        this.enabled = true;\n\t    }\n\t    BokehCreateModelComponent.prototype.ngOnChanges = function () {\n\t        this.updateHoverData();\n\t        this.runAllUpdates();\n\t    };\n\t    BokehCreateModelComponent.prototype.updateHoverData = function () {\n\t        if (this.pcolour_data.x != this.pcolour_x) {\n\t            this.pcolour_hover_width = [];\n\t            for (var _i = 0, _a = this.pcolour_x; _i < _a.length; _i++) {\n\t                var x = _a[_i];\n\t                this.pcolour_hover_width.push(x.toFixed(1));\n\t            }\n\t        }\n\t        if (this.pcolour_data.y != this.pcolour_y) {\n\t            this.pcolour_hover_length = [];\n\t            for (var _b = 0, _c = this.pcolour_y; _b < _c.length; _b++) {\n\t                var y = _c[_b];\n\t                this.pcolour_hover_length.push(y.toFixed(1));\n\t            }\n\t        }\n\t        if (this.pcolour_data.z != this.pcolour_z) {\n\t            this.pcolour_hover_predicted_factor = [];\n\t            for (var _d = 0, _e = this.pcolour_z; _d < _e.length; _d++) {\n\t                var z = _e[_d];\n\t                this.pcolour_hover_predicted_factor.push((Math.round(z * 1000) / 1000).toFixed(3));\n\t            }\n\t        }\n\t    };\n\t    BokehCreateModelComponent.prototype.ngAfterViewInit = function () {\n\t        var hover_tool = new Bokeh.HoverTool({\n\t            tooltips: [\n\t                [\"Width\", \" @hover_width cm\"],\n\t                [\"Length\", \" @hover_length cm\"],\n\t                [\"Predicted Factor\", \" @hover_predicted_factor\"]\n\t            ],\n\t            renderers: [\n\t                this.pcolour_renderer\n\t            ]\n\t        });\n\t        this.fig.add_tools(hover_tool);\n\t        this.doc.add_root(this.fig);\n\t        Bokeh.embed.add_document_standalone(this.doc, this.bokehplot.nativeElement);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], BokehCreateModelComponent.prototype, \"title\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], BokehCreateModelComponent.prototype, \"plot_width\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], BokehCreateModelComponent.prototype, \"plot_height\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehCreateModelComponent.prototype, \"scatter_x\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehCreateModelComponent.prototype, \"scatter_y\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehCreateModelComponent.prototype, \"scatter_z\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehCreateModelComponent.prototype, \"pcolour_x\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehCreateModelComponent.prototype, \"pcolour_y\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehCreateModelComponent.prototype, \"pcolour_z\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], BokehCreateModelComponent.prototype, \"enabled\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('bokehplot'), \n\t        __metadata('design:type', Object)\n\t    ], BokehCreateModelComponent.prototype, \"bokehplot\", void 0);\n\t    BokehCreateModelComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-bokeh-create-model',\n\t            template: __webpack_require__(191)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], BokehCreateModelComponent);\n\t    return BokehCreateModelComponent;\n\t}(bokeh_pcolour_1.BokehPcolour));\n\texports.BokehCreateModelComponent = BokehCreateModelComponent;\n\n\n/***/ },\n/* 202 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar BokehPcolour = (function () {\n\t    function BokehPcolour() {\n\t        this.title = \"Figure Title\";\n\t        this.plot_width = 300;\n\t        this.plot_height = 300;\n\t        this.scatter_z = [0.5];\n\t        this.enabled = true;\n\t        this.pcolour_hover_width = [];\n\t        this.pcolour_hover_length = [];\n\t        this.pcolour_hover_predicted_factor = [];\n\t        this.scatter_hover_width = [];\n\t        this.scatter_hover_length = [];\n\t        this.scatter_hover_area = [];\n\t        this.scatter_hover_measured_factor = [];\n\t        this.scatter_hover_predicted_factor = [];\n\t        this.plt = Bokeh.Plotting;\n\t        this.tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';\n\t        this.old_scatter_z = [];\n\t        this.old_pcolour_z = [];\n\t        this.scatter_c = [];\n\t        this.pcolour_c = [];\n\t        this.scatter_data = {\n\t            x: [],\n\t            y: [],\n\t            z: [],\n\t            hover_width: [],\n\t            hover_length: [],\n\t            hover_area: [],\n\t            hover_measured_factor: [],\n\t            hover_predicted_factor: [],\n\t            c: []\n\t        };\n\t        this.scatter_source = new Bokeh.ColumnDataSource({\n\t            data: this.scatter_data\n\t        });\n\t        this.pcolour_data = {\n\t            x: [],\n\t            y: [],\n\t            z: [],\n\t            hover_width: [],\n\t            hover_length: [],\n\t            hover_predicted_factor: [],\n\t            c: []\n\t        };\n\t        this.pcolour_source = new Bokeh.ColumnDataSource({\n\t            data: this.pcolour_data\n\t        });\n\t        this.doc = new Bokeh.Document();\n\t        this.viridis_hex = [\n\t            \"#440154\", \"#440256\", \"#450457\", \"#450559\", \"#46075a\", \"#46085c\", \"#460a5d\", \"#460b5e\", \"#470d60\", \"#470e61\", \"#471063\", \"#471164\", \"#471365\", \"#481467\", \"#481668\", \"#481769\", \"#48186a\", \"#481a6c\", \"#481b6d\", \"#481c6e\", \"#481d6f\", \"#481f70\", \"#482071\", \"#482173\", \"#482374\", \"#482475\", \"#482576\", \"#482677\", \"#482878\", \"#482979\", \"#472a7a\", \"#472c7a\", \"#472d7b\", \"#472e7c\", \"#472f7d\", \"#46307e\", \"#46327e\", \"#46337f\", \"#463480\", \"#453581\", \"#453781\", \"#453882\", \"#443983\", \"#443a83\", \"#443b84\", \"#433d84\", \"#433e85\", \"#423f85\", \"#424086\", \"#424186\", \"#414287\", \"#414487\", \"#404588\", \"#404688\", \"#3f4788\", \"#3f4889\", \"#3e4989\", \"#3e4a89\", \"#3e4c8a\", \"#3d4d8a\", \"#3d4e8a\", \"#3c4f8a\", \"#3c508b\", \"#3b518b\", \"#3b528b\", \"#3a538b\", \"#3a548c\", \"#39558c\", \"#39568c\", \"#38588c\", \"#38598c\", \"#375a8c\", \"#375b8d\", \"#365c8d\", \"#365d8d\", \"#355e8d\", \"#355f8d\", \"#34608d\", \"#34618d\", \"#33628d\", \"#33638d\", \"#32648e\", \"#32658e\", \"#31668e\", \"#31678e\", \"#31688e\", \"#30698e\", \"#306a8e\", \"#2f6b8e\", \"#2f6c8e\", \"#2e6d8e\", \"#2e6e8e\", \"#2e6f8e\", \"#2d708e\", \"#2d718e\", \"#2c718e\", \"#2c728e\", \"#2c738e\", \"#2b748e\", \"#2b758e\", \"#2a768e\", \"#2a778e\", \"#2a788e\", \"#29798e\", \"#297a8e\", \"#297b8e\", \"#287c8e\", \"#287d8e\", \"#277e8e\", \"#277f8e\", \"#27808e\", \"#26818e\", \"#26828e\", \"#26828e\", \"#25838e\", \"#25848e\", \"#25858e\", \"#24868e\", \"#24878e\", \"#23888e\", \"#23898e\", \"#238a8d\", \"#228b8d\", \"#228c8d\", \"#228d8d\", \"#218e8d\", \"#218f8d\", \"#21908d\", \"#21918c\", \"#20928c\", \"#20928c\", \"#20938c\", \"#1f948c\", \"#1f958b\", \"#1f968b\", \"#1f978b\", \"#1f988b\", \"#1f998a\", \"#1f9a8a\", \"#1e9b8a\", \"#1e9c89\", \"#1e9d89\", \"#1f9e89\", \"#1f9f88\", \"#1fa088\", \"#1fa188\", \"#1fa187\", \"#1fa287\", \"#20a386\", \"#20a486\", \"#21a585\", \"#21a685\", \"#22a785\", \"#22a884\", \"#23a983\", \"#24aa83\", \"#25ab82\", \"#25ac82\", \"#26ad81\", \"#27ad81\", \"#28ae80\", \"#29af7f\", \"#2ab07f\", \"#2cb17e\", \"#2db27d\", \"#2eb37c\", \"#2fb47c\", \"#31b57b\", \"#32b67a\", \"#34b679\", \"#35b779\", \"#37b878\", \"#38b977\", \"#3aba76\", \"#3bbb75\", \"#3dbc74\", \"#3fbc73\", \"#40bd72\", \"#42be71\", \"#44bf70\", \"#46c06f\", \"#48c16e\", \"#4ac16d\", \"#4cc26c\", \"#4ec36b\", \"#50c46a\", \"#52c569\", \"#54c568\", \"#56c667\", \"#58c765\", \"#5ac864\", \"#5cc863\", \"#5ec962\", \"#60ca60\", \"#63cb5f\", \"#65cb5e\", \"#67cc5c\", \"#69cd5b\", \"#6ccd5a\", \"#6ece58\", \"#70cf57\", \"#73d056\", \"#75d054\", \"#77d153\", \"#7ad151\", \"#7cd250\", \"#7fd34e\", \"#81d34d\", \"#84d44b\", \"#86d549\", \"#89d548\", \"#8bd646\", \"#8ed645\", \"#90d743\", \"#93d741\", \"#95d840\", \"#98d83e\", \"#9bd93c\", \"#9dd93b\", \"#a0da39\", \"#a2da37\", \"#a5db36\", \"#a8db34\", \"#aadc32\", \"#addc30\", \"#b0dd2f\", \"#b2dd2d\", \"#b5de2b\", \"#b8de29\", \"#bade28\", \"#bddf26\", \"#c0df25\", \"#c2df23\", \"#c5e021\", \"#c8e020\", \"#cae11f\", \"#cde11d\", \"#d0e11c\", \"#d2e21b\", \"#d5e21a\", \"#d8e219\", \"#dae319\", \"#dde318\", \"#dfe318\", \"#e2e418\", \"#e5e419\", \"#e7e419\", \"#eae51a\", \"#ece51b\", \"#efe51c\", \"#f1e51d\", \"#f4e61e\", \"#f6e620\", \"#f8e621\", \"#fbe723\", \"#fde725\"];\n\t        this.colour_mapper = new Bokeh.LinearColorMapper({\n\t            palette: this.viridis_hex\n\t        });\n\t        this.ticker = new Bokeh.BasicTicker();\n\t        this.colour_bar = new Bokeh.ColorBar({\n\t            ticker: this.ticker,\n\t            label_standoff: 7,\n\t            location: [-6, 0]\n\t        });\n\t    }\n\t    BokehPcolour.prototype.ngOnInit = function () {\n\t        this.figureInitialise();\n\t    };\n\t    BokehPcolour.prototype.figureInitialise = function () {\n\t        this.fig = this.plt.figure({\n\t            title: this.title, tools: this.tools,\n\t            plot_width: this.plot_width, plot_height: this.plot_height\n\t        });\n\t        this.pcolour_renderer = this.fig.rect({ field: 'x' }, { field: 'y' }, 0.1, 0.1, {\n\t            source: this.pcolour_source,\n\t            color: { field: 'c' }\n\t        });\n\t        this.scatter_renderer = this.fig.circle({ field: 'x' }, { field: 'y' }, {\n\t            source: this.scatter_source,\n\t            size: 15,\n\t            line_color: 'black',\n\t            fill_color: { field: 'c' },\n\t            line_width: 2\n\t        });\n\t        this.fig.add_layout(this.colour_bar, 'left');\n\t    };\n\t    BokehPcolour.prototype.runAllUpdates = function () {\n\t        this.updateScatterData();\n\t        this.updatePcolourData();\n\t        this.updateScatterColour();\n\t        this.updateSourceData();\n\t        this.updateFigureDimensions();\n\t    };\n\t    BokehPcolour.prototype.updateScatterData = function () {\n\t        this.scatter_data = {\n\t            x: this.scatter_x,\n\t            y: this.scatter_y,\n\t            z: this.scatter_z,\n\t            hover_width: this.scatter_hover_width,\n\t            hover_length: this.scatter_hover_length,\n\t            hover_area: this.scatter_hover_area,\n\t            hover_measured_factor: this.scatter_hover_measured_factor,\n\t            hover_predicted_factor: this.scatter_hover_predicted_factor,\n\t            c: this.scatter_c\n\t        };\n\t    };\n\t    BokehPcolour.prototype.updatePcolourData = function () {\n\t        this.pcolour_data = {\n\t            x: this.pcolour_x,\n\t            y: this.pcolour_y,\n\t            z: this.pcolour_z,\n\t            hover_width: this.pcolour_hover_width,\n\t            hover_length: this.pcolour_hover_length,\n\t            hover_predicted_factor: this.pcolour_hover_predicted_factor,\n\t            c: this.pcolour_c\n\t        };\n\t    };\n\t    BokehPcolour.prototype.updateScatterColour = function () {\n\t        if (this.old_scatter_z != this.scatter_z || this.old_pcolour_z != this.pcolour_z) {\n\t            var allZ = this.scatter_z.concat(this.pcolour_z);\n\t            this.vmin = Math.min.apply(Math, allZ);\n\t            this.vmax = Math.max.apply(Math, allZ);\n\t            this.colour_mapper.low = this.vmin;\n\t            this.colour_mapper.high = this.vmax;\n\t            this.colour_bar.color_mapper = this.colour_mapper;\n\t            this.scatter_c = this.colour_mapper.v_compute(this.scatter_z);\n\t            this.pcolour_c = this.colour_mapper.v_compute(this.pcolour_z);\n\t            this.scatter_data.c = this.scatter_c;\n\t            this.pcolour_data.c = this.pcolour_c;\n\t            this.old_scatter_z = this.scatter_z;\n\t            this.old_pcolour_z = this.pcolour_z;\n\t            if (this.scatter_data.c.length < this.scatter_data.x.length) {\n\t                var difference = this.scatter_data.x.length - this.scatter_data.c.length;\n\t                for (var i = 0; i < difference; i++) {\n\t                    this.scatter_data.c.push('#ffffff');\n\t                }\n\t            }\n\t        }\n\t    };\n\t    BokehPcolour.prototype.updateSourceData = function () {\n\t        if (this.scatter_source.data != this.scatter_data) {\n\t            this.scatter_source.data = this.scatter_data;\n\t        }\n\t        if (this.pcolour_source.data != this.pcolour_data) {\n\t            this.pcolour_source.data = this.pcolour_data;\n\t        }\n\t    };\n\t    BokehPcolour.prototype.updateFigureDimensions = function () {\n\t        if (this.fig != null) {\n\t            if (this.fig.width != this.plot_width) {\n\t                if (this.plot_width < 200) {\n\t                    this.fig.width = 200;\n\t                }\n\t                else {\n\t                    this.fig.width = this.plot_width;\n\t                }\n\t            }\n\t            if (this.fig.height != this.plot_height) {\n\t                this.fig.height = this.plot_height;\n\t            }\n\t        }\n\t    };\n\t    return BokehPcolour;\n\t}());\n\texports.BokehPcolour = BokehPcolour;\n\n\n/***/ },\n/* 203 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar bokeh_pcolour_1 = __webpack_require__(202);\n\tvar BokehUseModelComponent = (function (_super) {\n\t    __extends(BokehUseModelComponent, _super);\n\t    function BokehUseModelComponent() {\n\t        _super.apply(this, arguments);\n\t        this.title = \"Figure Title\";\n\t        this.plot_width = 300;\n\t        this.plot_height = 300;\n\t        this.scatter_z = [0.5];\n\t        this.enabled = true;\n\t        this.predicted_factor = [];\n\t        this.area = [];\n\t        this.old_area = [];\n\t        this.old_predicted_factor = [];\n\t    }\n\t    BokehUseModelComponent.prototype.ngOnChanges = function () {\n\t        this.updateHoverData();\n\t        this.runAllUpdates();\n\t    };\n\t    BokehUseModelComponent.prototype.updateHoverData = function () {\n\t        if (this.scatter_data.x != this.scatter_x) {\n\t            this.scatter_hover_width = [];\n\t            for (var _i = 0, _a = this.scatter_x; _i < _a.length; _i++) {\n\t                var x = _a[_i];\n\t                this.scatter_hover_width.push((Math.round(x * 10) / 10).toFixed(1));\n\t            }\n\t        }\n\t        if (this.scatter_data.y != this.scatter_y) {\n\t            this.scatter_hover_length = [];\n\t            for (var _b = 0, _c = this.scatter_y; _b < _c.length; _b++) {\n\t                var y = _c[_b];\n\t                this.scatter_hover_length.push((Math.round(y * 10) / 10).toFixed(1));\n\t            }\n\t        }\n\t        if (this.scatter_data.z != this.scatter_z) {\n\t            this.scatter_hover_measured_factor = [];\n\t            for (var _d = 0, _e = this.scatter_z; _d < _e.length; _d++) {\n\t                var z = _e[_d];\n\t                this.scatter_hover_measured_factor.push((Math.round(z * 1000) / 1000).toFixed(3));\n\t            }\n\t            if (this.scatter_hover_measured_factor.length < this.scatter_x.length) {\n\t                var difference = this.scatter_x.length - this.scatter_hover_measured_factor.length;\n\t                for (var i = 0; i < difference; i++) {\n\t                    this.scatter_hover_measured_factor.push('Not given');\n\t                }\n\t            }\n\t        }\n\t        if (this.old_predicted_factor != this.predicted_factor) {\n\t            this.scatter_hover_predicted_factor = [];\n\t            for (var _f = 0, _g = this.predicted_factor; _f < _g.length; _f++) {\n\t                var z = _g[_f];\n\t                this.scatter_hover_predicted_factor.push((Math.round(z * 1000) / 1000).toFixed(3));\n\t            }\n\t            this.old_predicted_factor = this.predicted_factor;\n\t        }\n\t        if (this.old_area != this.area) {\n\t            this.scatter_hover_area = [];\n\t            for (var _h = 0, _j = this.area; _h < _j.length; _h++) {\n\t                var a = _j[_h];\n\t                this.scatter_hover_area.push((Math.round(a * 10) / 10).toFixed(1));\n\t            }\n\t            this.old_area = this.area;\n\t        }\n\t    };\n\t    // hover_width: <string[]> [],\n\t    // hover_length: <string[]> [],\n\t    // hover_area: <string[]> [],\n\t    // hover_measured_factor: <string[]> [],\n\t    // hover_predicted_factor: <string[]> [],\n\t    BokehUseModelComponent.prototype.ngAfterViewInit = function () {\n\t        var hover_tool = new Bokeh.HoverTool({\n\t            tooltips: [\n\t                [\"Width\", \" @hover_width cm\"],\n\t                [\"Length\", \" @hover_length cm\"],\n\t                [\"Area\", \" @hover_area cm^2\"],\n\t                [\"Measured factor\", \" @hover_measured_factor\"],\n\t                [\"Predicted factor\", \" @hover_predicted_factor\"],\n\t            ],\n\t            renderers: [\n\t                this.scatter_renderer\n\t            ]\n\t        });\n\t        this.fig.add_tools(hover_tool);\n\t        this.doc.add_root(this.fig);\n\t        Bokeh.embed.add_document_standalone(this.doc, this.bokehplot.nativeElement);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], BokehUseModelComponent.prototype, \"title\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], BokehUseModelComponent.prototype, \"plot_width\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], BokehUseModelComponent.prototype, \"plot_height\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehUseModelComponent.prototype, \"scatter_x\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehUseModelComponent.prototype, \"scatter_y\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehUseModelComponent.prototype, \"scatter_z\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehUseModelComponent.prototype, \"pcolour_x\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehUseModelComponent.prototype, \"pcolour_y\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehUseModelComponent.prototype, \"pcolour_z\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], BokehUseModelComponent.prototype, \"enabled\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehUseModelComponent.prototype, \"predicted_factor\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Array)\n\t    ], BokehUseModelComponent.prototype, \"area\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('bokehplot'), \n\t        __metadata('design:type', Object)\n\t    ], BokehUseModelComponent.prototype, \"bokehplot\", void 0);\n\t    BokehUseModelComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-bokeh-use-model',\n\t            template: __webpack_require__(191)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], BokehUseModelComponent);\n\t    return BokehUseModelComponent;\n\t}(bokeh_pcolour_1.BokehPcolour));\n\texports.BokehUseModelComponent = BokehUseModelComponent;\n\n\n/***/ },\n/* 204 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar ChooseSpecificationsComponent = (function () {\n\t    function ChooseSpecificationsComponent() {\n\t        this.currentSettings = {\n\t            machine: null,\n\t            energy: null,\n\t            applicator: null,\n\t            ssd: null\n\t        };\n\t        this.settingsUpdated = new core_1.EventEmitter();\n\t    }\n\t    ChooseSpecificationsComponent.prototype.ngOnInit = function () {\n\t        this.currentSettings.energy = JSON.parse(localStorage.getItem(\"currentEnergy\"));\n\t        this.currentSettings.applicator = JSON.parse(localStorage.getItem(\"currentApplicator\"));\n\t        this.currentSettings.ssd = JSON.parse(localStorage.getItem(\"currentSSD\"));\n\t        this.allMachineSpecifications = JSON.parse(localStorage.getItem(\"specifications\"));\n\t        if (this.allMachineSpecifications == null) {\n\t            this.allMachineSpecifications = {};\n\t            this.machineList = [];\n\t        }\n\t        else {\n\t            this.machineList = Object.keys(this.allMachineSpecifications).sort();\n\t            this.currentSettings.machine = String(JSON.parse(localStorage.getItem(\"current_machine\")));\n\t            if (this.currentSettings.machine == null ||\n\t                this.allMachineSpecifications[this.currentSettings.machine] === undefined) {\n\t                this.currentSettings.machine = this.machineList[0];\n\t            }\n\t            this.currentMachineSpecifications = this.allMachineSpecifications[this.currentSettings.machine];\n\t        }\n\t        this.settingsUpdated.emit(this.currentSettings);\n\t    };\n\t    ChooseSpecificationsComponent.prototype.updateMachineID = function (newCurrentMachine) {\n\t        this.currentSettings.machine = newCurrentMachine;\n\t        localStorage.setItem(\"current_machine\", JSON.stringify(newCurrentMachine));\n\t        this.currentMachineSpecifications = this.allMachineSpecifications[this.currentSettings.machine];\n\t        if (this.currentMachineSpecifications != null) {\n\t            for (var _i = 0, _a = [\"energy\", \"applicator\", \"ssd\"]; _i < _a.length; _i++) {\n\t                var item = _a[_i];\n\t                if (this.currentMachineSpecifications[item].length > 0) {\n\t                    this.currentSettings[item] = this.currentMachineSpecifications[item][0];\n\t                }\n\t                else {\n\t                    this.currentSettings[item] = null;\n\t                }\n\t            }\n\t        }\n\t        else {\n\t            for (var _b = 0, _c = [\"energy\", \"applicator\", \"ssd\"]; _b < _c.length; _b++) {\n\t                var item = _c[_b];\n\t                this.currentSettings[item] = null;\n\t            }\n\t        }\n\t        localStorage.setItem(\"currentEnergy\", JSON.stringify(Number(this.currentSettings.energy)));\n\t        localStorage.setItem(\"currentApplicator\", JSON.stringify(this.currentSettings.applicator));\n\t        localStorage.setItem(\"currentSSD\", JSON.stringify(Number(this.currentSettings.ssd)));\n\t        this.settingsUpdated.emit(this.currentSettings);\n\t    };\n\t    ChooseSpecificationsComponent.prototype.updateEnergy = function (newCurrentEnergy) {\n\t        this.currentSettings.energy = Number(newCurrentEnergy);\n\t        localStorage.setItem(\"currentEnergy\", JSON.stringify(Number(newCurrentEnergy)));\n\t        this.settingsUpdated.emit(this.currentSettings);\n\t    };\n\t    ChooseSpecificationsComponent.prototype.updateApplicator = function (newCurrentApplicator) {\n\t        this.currentSettings.applicator = newCurrentApplicator;\n\t        localStorage.setItem(\"currentApplicator\", JSON.stringify(newCurrentApplicator));\n\t        this.settingsUpdated.emit(this.currentSettings);\n\t    };\n\t    ChooseSpecificationsComponent.prototype.updateSSD = function (newCurrentSSD) {\n\t        this.currentSettings.ssd = Number(newCurrentSSD);\n\t        localStorage.setItem(\"currentSSD\", JSON.stringify(Number(newCurrentSSD)));\n\t        this.settingsUpdated.emit(this.currentSettings);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], ChooseSpecificationsComponent.prototype, \"currentSettings\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', Object)\n\t    ], ChooseSpecificationsComponent.prototype, \"settingsUpdated\", void 0);\n\t    ChooseSpecificationsComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-choose-specifications',\n\t            template: __webpack_require__(205)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], ChooseSpecificationsComponent);\n\t    return ChooseSpecificationsComponent;\n\t}());\n\texports.ChooseSpecificationsComponent = ChooseSpecificationsComponent;\n\n\n/***/ },\n/* 205 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div \\n      *ngIf=\\\"this.machineList.length > 0\\\" \\n      class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--2-col-phone\\\">\\n    <h6>Machine ID</h6>\\n    <select\\n        [(ngModel)]=\\\"currentSettings.machine\\\"\\n        (input)=\\\"updateMachineID($event.target.value)\\\">\\n      <option *ngFor=\\\"let machine of machineList\\\">{{machine}}</option>\\n    </select>\\n  </div>\\n\\n  <div \\n      *ngIf=\\\"this.machineList.length > 0 && currentSettings.machine != null\\\" \\n      class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--2-col-phone\\\">\\n    <h6>Energy</h6>\\n    <select\\n        [(ngModel)]=\\\"currentSettings.energy\\\"\\n        (input)=\\\"updateEnergy($event.target.value)\\\"\\n        *ngIf=\\\"currentMachineSpecifications.energy.length > 0\\\">\\n      <option *ngFor=\\\"let energy of currentMachineSpecifications.energy\\\" value=\\\"{{energy}}\\\">{{energy}} MeV</option>\\n    </select>\\n    <p *ngIf=\\\"currentMachineSpecifications.energy == 0\\\">\\n      This machine doesn't have any energies defined. Please \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        define energies.\\n      </a>\\n    </p>\\n  </div>\\n\\n  <div \\n      *ngIf=\\\"this.machineList.length > 0 && currentSettings.machine != null\\\" \\n      class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--2-col-phone\\\">\\n    <h6>Applicator</h6>\\n    <select \\n        [(ngModel)]=\\\"currentSettings.applicator\\\"\\n        (input)=\\\"updateApplicator($event.target.value)\\\"\\n        *ngIf=\\\"currentMachineSpecifications.applicator.length > 0\\\">\\n      <option *ngFor=\\\"let applicator of currentMachineSpecifications.applicator\\\">{{applicator}}</option>\\n    </select>\\n    <p *ngIf=\\\"currentMachineSpecifications.applicator == 0\\\">\\n      This machine doesn't have any applicators defined. Please \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        define applicators.\\n      </a>\\n    </p>\\n  </div>\\n\\n  <div \\n      *ngIf=\\\"this.machineList.length > 0 && currentSettings.machine != null\\\" \\n      class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--2-col-phone\\\">\\n    <h6>SSD</h6>\\n    <select  \\n        [(ngModel)]=\\\"currentSettings.ssd\\\"\\n        (input)=\\\"updateSSD($event.target.value)\\\"\\n        *ngIf=\\\"currentMachineSpecifications.ssd.length > 0\\\">\\n      <option *ngFor=\\\"let ssd of currentMachineSpecifications.ssd\\\">{{ssd}}</option>\\n    </select>\\n    <p *ngIf=\\\"currentMachineSpecifications.ssd == 0\\\">\\n      This machine doesn't have an ssd defined. Please \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        define at least one ssd.\\n      </a>\\n    </p>\\n  </div>\\n</div>\\n  \\n\";\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** app.2381bf5177e8161b772e.js\n **/","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { AppModule } from './app/app.module';\n\nif (process.env.ENV === 'production') {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/main.ts\n **/","import { NgModule } from '@angular/core'\nimport { BrowserModule } from '@angular/platform-browser'\nimport { FormsModule } from '@angular/forms'\nimport { HttpModule } from '@angular/http'\nimport { Title } from '@angular/platform-browser'\nimport { NgZone } from '@angular/core'\n// import {MaterialModule} from '@angular/material'\n\nimport { routing } from './app.routing'\n\nimport { Angulartics2 } from 'angulartics2'\nimport { Angulartics2GoogleAnalytics } from 'angulartics2/src/providers/angulartics2-google-analytics'\nimport { Angulartics2Module } from 'angulartics2'\nimport { Angulartics2On } from 'angulartics2/src/core/angulartics2On'\n\nimport { MdlModule } from 'angular2-mdl'\n\nimport { AppComponent }  from './app.component'\nimport { PlotComponent } from './plot.component'\nimport { ParameteriseComponent } from './parameterise.component'\nimport { PageNotFoundComponent } from './page-not-found.component'\nimport { WidthLengthTableComponent } from './width-length-table.component'\nimport { JsonInputComponent } from './json-input.component'\nimport { HomeComponent } from './home.component'\nimport { CreateModelComponent } from './create-model.component'\nimport { UseModelComponent } from './use-model.component'\nimport { StorageManagementComponent } from './storage-management.component'\nimport { SpecificationsComponent } from './specifications.component'\nimport { DicomComponent } from './dicom.component'\nimport { JsonEditComponent } from './json-edit.component'\nimport { SendToParameterisationComponent } from './send-to-parameterisation.component'\nimport { BokehCreateModelComponent } from './bokeh-create-model.component'\nimport { BokehUseModelComponent } from './bokeh-use-model.component'\nimport { ChooseSpecificationsComponent } from './choose-specifications.component'\n\nimport { MyJsonPipe } from './my-json.pipe'\n\nimport { ModelData, ModelMeasurement, ModelGrid, Predictions } from './model-data'\n\nimport { ElectronApiService } from './electron-api.service'\nimport { DataService } from './data.service'\nimport { TitleService } from './title.service'\nimport { LocalStorageService } from './local-storage.service'\n\n\n@NgModule({\n  imports: [\n     BrowserModule,\n     FormsModule,\n     HttpModule,\n     MdlModule,\n    //  MaterialModule.forRoot(),\n     routing,\n     Angulartics2Module.forRoot()\n  ],\n  declarations: [\n    AppComponent,\n    ParameteriseComponent,\n    PlotComponent,\n    PageNotFoundComponent,\n    WidthLengthTableComponent,\n    JsonInputComponent,\n    MyJsonPipe,\n    HomeComponent,\n    CreateModelComponent,\n    UseModelComponent,\n    StorageManagementComponent,\n    SpecificationsComponent,\n    DicomComponent,\n    SendToParameterisationComponent,\n    JsonEditComponent,\n    BokehCreateModelComponent,\n    BokehUseModelComponent,\n    ChooseSpecificationsComponent\n  ],\n  providers: [\n    ElectronApiService,\n    DataService,\n    TitleService,\n    Title,\n    LocalStorageService,\n    Angulartics2GoogleAnalytics,\n    ModelData, ModelMeasurement, ModelGrid, Predictions\n  ],\n  bootstrap: [\n    AppComponent\n  ]\n})\nexport class AppModule {\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.module.ts\n **/","import { ModuleWithProviders }  from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { Angulartics2Module } from 'angulartics2';\nimport { Angulartics2GoogleAnalytics } from 'angulartics2/src/providers/angulartics2-google-analytics';\n\nimport { ParameteriseComponent } from './parameterise.component';\nimport { PageNotFoundComponent } from './page-not-found.component';\nimport { HomeComponent } from './home.component';\nimport { CreateModelComponent } from './create-model.component';\nimport { UseModelComponent } from './use-model.component'\nimport { StorageManagementComponent } from './storage-management.component';\nimport { SpecificationsComponent } from './specifications.component';\nimport { DicomComponent } from './dicom.component';\n\n\nconst appRoutes: Routes = [\n  {\n    path: 'home',\n    component: HomeComponent,\n    data: {\n      title: 'Home'\n    }\n  },\n  {\n    path: 'storage',\n    component: StorageManagementComponent\n  },\n  {\n    path: 'specifications',\n    component: SpecificationsComponent\n  },\n  {\n    path: 'dicom',\n    component: DicomComponent\n  },\n  {\n    path: 'parameterise',\n    component: ParameteriseComponent\n  },\n  {\n    path: 'create-model',\n    component: CreateModelComponent\n  },\n  {\n    path: 'use-model',\n    component: UseModelComponent\n  },\n  {\n    path: '',\n    component: HomeComponent\n  },\n  {\n    path: 'model',\n    redirectTo: 'create-model'\n  },\n  {\n    path: '**', component: PageNotFoundComponent\n  }\n];\n\nexport const appRoutingProviders: any[] = [\n  //Angulartics2GoogleAnalytics\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes);\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.routing.ts\n **/","import { Component, OnInit, Input, ViewChild } from '@angular/core';\n\nimport { Router } from '@angular/router';\n\nimport { Parameterisation } from './parameterisation';\nimport { InsertData } from './insert-data';\n\n// import { CookieService } from 'angular2-cookie/core';\nimport { ElectronApiService } from './electron-api.service';\nimport { DataService } from './data.service';\nimport { TitleService } from './title.service';\n// import { LocalStorageService } from './local-storage.service';\n\nimport { ModelData } from './model-data'\n\nimport { DEMO_PARAMETERISE_INPUT } from './demo-data';\n\n@Component({\n  selector: 'my-parameterise',\n  template: require('./parameterise.component.html'),\n})\nexport class ParameteriseComponent implements OnInit {\n  parameterisation: Parameterisation = {\n    insert: {\n      x: [0],\n      y: [0]\n    },\n    width: null,\n    length: null,\n    circle: null,\n    ellipse: null\n  };\n  machineSpecifications: {};\n\n  // @ViewChild('jsonInput') jsonInputComponent: any;\n\n  textAreaX: string;\n  textAreaY: string;\n\n  jsonValid: boolean = true;\n  xInputValid: boolean = true;\n  yInputValid: boolean = true;\n  equalLengths: boolean = true;\n\n  serverResponseValid: boolean = true;\n  serverErrorMessage: string;\n\n  dataInFlight: boolean = false;\n\n  submitDisabled: boolean = false;\n\n  refreshJsonInput: boolean = false;\n\n  parameteriseURL: string;\n\n  insertData: InsertData = {\n    machine: null,\n    parameterisation: this.parameterisation,\n    energy: null,\n    applicator: null,\n    ssd: null,\n    factor: <number> null\n  }\n\n  machineExists: boolean = false;\n  machineSettingsExist: boolean = false;\n  modelExists: boolean = false;\n\n  ableToAddDataToModel: boolean = false;\n  dataAlreadyExistsOnModel: boolean = false;\n\n  serverError: boolean = false;\n\n  R50: number;\n\n  currentSettings: {\n    machine: string, \n    energy: number, \n    applicator: string, \n    ssd: number\n  }\n\n  constructor(\n    private electronApiService: ElectronApiService,\n    private dataService: DataService,\n    private myTitleService: TitleService,\n    private router: Router,\n    private modelData: ModelData\n  ) { }\n\n  ngOnInit() {\n    this.getData();\n    this.myTitleService.setTitle('Parameterisation');\n\n    this.parameteriseURL = localStorage.getItem(\"parameteriseURL\")\n    if (this.parameteriseURL == null) {\n      this.parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n    }\n    this.machineSpecifications = JSON.parse(localStorage.getItem(\"specifications\"));\n    if (this.machineSpecifications == null) {\n      this.machineSpecifications = {};\n    }\n    this.checkMachineSettings()\n    this.checkIfCanBeSentToModel()\n\n    this.updateTextAreaValues()\n  }\n\n  createKey() {\n    let key = (\n      '{\"machine\":' + JSON.stringify(String(this.insertData.machine)) + ',' +\n      '\"energy\":' + JSON.stringify(Number(this.insertData.energy)) + ',' +\n      '\"applicator\":' + JSON.stringify(String(this.insertData.applicator)) + ',' +\n      '\"ssd\":' + JSON.stringify(Number(this.insertData.ssd)) +\n      '}')\n    return key\n  }\n\n  addMeasuredFactor(factor: number) {\n    this.dataAlreadyExistsOnModel = true\n    this.ableToAddDataToModel = false\n\n    let key = this.createKey()\n    let modelData = JSON.parse(localStorage.getItem(key))\n    if (modelData == null) {\n      modelData = {\n        measurement: {\n          width: <number[]> [],\n          length: <number[]> [],\n          factor: <number[]> [],\n        },\n        model: {\n          width: <number[]> [],\n          length: <number[]> [],\n          factor: <number[]> []\n        }\n      }\n    }\n    modelData.model.width = <number[]> []\n    modelData.model.length = <number[]> []\n    modelData.model.factor = <number[]> []\n\n\n    modelData.measurement.width.push(Number(this.insertData.parameterisation.width))\n    modelData.measurement.length.push(Number(this.insertData.parameterisation.length))\n    modelData.measurement.factor.push(Number(factor))\n\n    localStorage.setItem(key, JSON.stringify(modelData))\n\n    localStorage.setItem(\"current_machine\", JSON.stringify(Number(\n      this.insertData.machine)))\n    localStorage.setItem(\"currentEnergy\", JSON.stringify(Number(\n      this.insertData.energy)))\n    localStorage.setItem(\"currentApplicator\", JSON.stringify(\n      this.insertData.applicator))\n    localStorage.setItem(\"currentSSD\", JSON.stringify(Number(\n      this.insertData.ssd)))\n\n  }\n\n  predictFactor() {\n    localStorage.setItem(\"current_machine\", JSON.stringify(Number(\n      this.insertData.machine)))\n    localStorage.setItem(\"currentEnergy\", JSON.stringify(Number(\n      this.insertData.energy)))\n    localStorage.setItem(\"currentApplicator\", JSON.stringify(\n      this.insertData.applicator))\n    localStorage.setItem(\"currentSSD\", JSON.stringify(Number(\n      this.insertData.ssd)))\n\n    this.currentSettings = {\n      machine: this.insertData.machine,\n      energy: this.insertData.energy,\n      applicator: this.insertData.applicator,\n      ssd: this.insertData.ssd\n    }\n\n    this.modelData.loadModelData(this.currentSettings)\n    this.modelData.predictions.width.unshift(this.parameterisation.width)\n    this.modelData.predictions.length.unshift(this.parameterisation.length)\n    if (this.insertData.factor != 0 && this.insertData.factor != null) {\n      this.modelData.predictions.measuredFactor.unshift(this.insertData.factor)\n    }    \n\n    this.modelData.saveModelData(this.currentSettings)\n\n    this.router.navigate([\"/use-model\"])\n\n  }\n\n  updateTextAreaValues() {\n    this.textAreaX = String(this.parameterisation.insert.x)\n      .replace(/,/g,', ')\n    this.textAreaY = String(this.parameterisation.insert.y)\n      .replace(/,/g,', ')\n  }\n\n  checkIfEqualLengths() {\n    if (this.parameterisation.insert.x.length == this.parameterisation.insert.y.length) {\n      this.equalLengths = true\n    }\n    else {\n      this.equalLengths = false\n    }\n  }\n\n  saveInsertData() { \n    this.insertData['parameterisation'] = this.parameterisation\n    localStorage.setItem(\n      \"last_insertData\", JSON.stringify(this.insertData))\n  }\n\n  validateInput(input: string): boolean {\n    // return /^(-?\\d*(\\.\\d+)?[,;\\s]+)*-?\\d*(\\.\\d+)?[,;\\s]*$/.test(input)\n    return /^[-\\d\\.,;\\s]*$/.test(input)\n    // return true\n  }\n\n  inputTextAreaX(xInput: string) {\n    try {\n      if (this.validateInput(xInput)) {\n        this.parameterisation.insert.x = eval(\n          '[' + xInput.replace(/[,;\\n\\t]\\s*/g,', ') + ']')\n        this.insertUpdated(this.parameterisation.insert)        \n        this.xInputValid = true\n        this.checkIfEqualLengths()\n        this.saveInsertData()\n        this.checkIfCanBeSentToModel()\n      }\n      else {\n        this.xInputValid = false\n      }\n    }\n    catch(err) {\n      console.log(err)\n      this.xInputValid = false\n    }\n  }\n\n  inputTextAreaY(yInput: string) {\n    try {\n      if (this.validateInput(yInput)) {\n        this.parameterisation.insert.y = eval(\n          '[' + yInput.replace(/[,;\\n\\t]\\s*/g,', ')  + ']')\n        this.insertUpdated(this.parameterisation.insert)\n        this.yInputValid = true\n        this.checkIfEqualLengths()\n        this.saveInsertData()\n        this.checkIfCanBeSentToModel()\n      }\n      else {\n        this.yInputValid = false\n      }\n    }\n    catch(err) {\n      console.log(err)\n      this.yInputValid = false\n    }\n  }\n\n\n  getData(): void {\n    let localStorageInsertDataString = localStorage['last_insertData'];\n    \n    if (localStorageInsertDataString) {\n      this.insertData = JSON.parse(localStorageInsertDataString);\n      let insert = this.insertData['parameterisation']['insert']\n      this.insertUpdated(insert);\n      this.insertData['parameterisation'] = this.parameterisation;\n    }\n    else {\n      // this.loadDemoData();\n    }\n  }\n\n  loadDemoData(): void {\n    let demoData = JSON.parse(JSON.stringify(DEMO_PARAMETERISE_INPUT));\n    this.insertUpdated(demoData.insert);\n    // this.jsonInputComponent.refresh = true;\n    this.insertData =  {\n      machine: null,\n      parameterisation: this.parameterisation,\n      energy: null,\n      applicator: null,\n      ssd: null,\n      factor: null\n    }\n\n    this.updateTextAreaValues()\n    this.checkIfEqualLengths()\n  }\n\n  sleep(time: number) {\n    return new Promise((resolve) => setTimeout(resolve, time));\n  }\n\n  recursiveServerSubmit() {\n    this.serverError = false\n\n    this.electronApiService.sendToServer(\n      this.parameteriseURL,\n      JSON.stringify(this.parameterisation.insert)\n    )\n      .then((parameterisationResult: any) => {\n        this.parameterisation.circle = parameterisationResult.circle;\n        this.parameterisation.ellipse = parameterisationResult.ellipse;\n        this.parameterisation.width = parameterisationResult.width;\n        this.parameterisation.length = parameterisationResult.length;\n        let complete = parameterisationResult.complete;\n        if (complete) {\n          this.dataInFlight = false;\n          this.serverResponseValid = true;\n          this.checkSubmitButton()\n          localStorage.setItem(\n            JSON.stringify(this.parameterisation.insert), \n            JSON.stringify(this.parameterisation)\n          );\n          this.saveInsertData()\n          this.checkIfCanBeSentToModel()\n          if (this.parameterisation.width == null) {\n            this.serverError = true\n          }\n        }\n        else {\n          this.sleep(500).then(() => this.recursiveServerSubmit());\n        }\n      })\n  }\n\n  checkIfCanBeSentToModel() {\n    this.ableToAddDataToModel = false;\n    this.dataAlreadyExistsOnModel = false;\n    if (this.machineSettingsExist) {\n      let key = this.createKey()\n      let modelData = JSON.parse(localStorage.getItem(key))\n\n      if (modelData == null) {\n        this.ableToAddDataToModel = true\n      }\n      else if (modelData.measurement == null) {\n        this.ableToAddDataToModel = true\n      }\n      else {\n        if (this.parameterisation.width != null && this.parameterisation.length != null && this.insertData.factor != null) {\n          if (\n              modelData.measurement.width.indexOf(Number(this.parameterisation.width)) > -1 &&\n              modelData.measurement.length.indexOf(Number(this.parameterisation.length)) > -1 &&\n              modelData.measurement.factor.indexOf(Number(this.insertData.factor)) > -1) {\n            this.dataAlreadyExistsOnModel = true\n          }\n          else {\n            this.dataAlreadyExistsOnModel = false\n            this.ableToAddDataToModel = true\n          }\n        }\n      }\n    }\n    // console.log(this.ableToAddDataToModel)\n  }\n\n  checkMachineSettings() {\n    this.R50 = null;\n    let machine = this.insertData['machine'];\n    let energy = this.insertData['energy'];\n    let applicator = this.insertData['applicator'];\n    let ssd = this.insertData['ssd'];\n    if (this.machineSpecifications[machine]) {\n      let specifications = this.machineSpecifications[machine];\n      this.R50 = specifications['R50'][energy];\n      if (\n        specifications['energy'].indexOf(Number(energy)) > -1 && \n        specifications['applicator'].indexOf(String(applicator)) > -1 && \n        specifications['ssd'].indexOf(Number(ssd)) > -1) {\n          this.machineSettingsExist = true;\n      }\n      else {\n        this.machineSettingsExist = false;\n      }\n      this.machineExists = true;\n    }\n    else {\n      this.machineExists = false;\n      this.machineSettingsExist = false;\n      this.modelExists = false;\n    }\n  }\n\n  insertDataChange() {\n    localStorage.setItem(\n      \"last_insertData\", JSON.stringify(this.insertData)\n    );\n    this.checkMachineSettings()\n    this.checkIfCanBeSentToModel()\n  }\n\n  onSubmit() {\n    this.dataInFlight = true;\n    this.checkSubmitButton();\n    this.recursiveServerSubmit();\n  }\n\n  insertDataFromLocalStorage(localStorageInsertData: string) {\n\n  }\n\n  parameterisationFromLocalStorage(localStorageParameterisationString: string) {\n    let localStorageParameterisation = JSON.parse(localStorageParameterisationString); \n    this.parameterisation.insert = localStorageParameterisation['insert'];\n    this.parameterisation.width = localStorageParameterisation['width'];\n    this.parameterisation.length = localStorageParameterisation['length'];\n    this.parameterisation.circle = localStorageParameterisation['circle'];\n    this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n  }\n\n  insertUpdated(insert: any) {\n    let localStorageParameterisation = localStorage.getItem(JSON.stringify(insert))\n    if (localStorageParameterisation) {\n      this.parameterisationFromLocalStorage(localStorageParameterisation);\n    }\n    else {\n      this.parameterisation.insert = insert;\n      this.parameterisation.width = null;\n      this.parameterisation.length = null;\n      this.parameterisation.circle = null;\n      this.parameterisation.ellipse = null;\n    }\n  }\n\n  onJsonStatusChange(jsonStatus: boolean) {\n    this.jsonValid = jsonStatus;\n    this.checkSubmitButton();\n  }\n\n  checkSubmitButton() {\n    if (this.dataInFlight || !this.jsonValid ) {\n      this.submitDisabled = true;\n    }\n    else {\n      this.submitDisabled = false;\n    }\n  }\n\n  parameterisationServerChange(serverUrl: string) {\n    localStorage.setItem(\"parameteriseURL\", serverUrl);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/parameterise.component.ts\n **/","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class ElectronApiService {\n  // private parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n  // private modelURL = 'http://electronapi.simonbiggs.net/model';\n  private wakeUpURL = 'http://electronapi.simonbiggs.net/wakeup';\n\n  constructor(private http: Http) { }\n  // Initial get from server to wake it up\n  wakeUpServer() {\n    return this.http\n      .get(this.wakeUpURL).toPromise();\n  }\n\n  sendToServer(URL:string, input: string): Promise<any> {\n    return this.http\n            .post(URL, input)\n            .toPromise()\n            .then((res) => {\n              let nan: number = null;\n              return res.json()})\n            .catch(this.handleError);\n  }\n\n  private handleError(error: any) {\n    console.error('An error occurred', error);\n    return Promise.reject(error.message || error);\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/electron-api.service.ts\n **/","import { Injectable } from '@angular/core';\nimport { Parameterisation } from './parameterisation'\n\nimport { DEMO_PARAMETERISE_INPUT } from './demo-data';\n// import { DEMO_MODEL_INPUT } from './demo-data';\n\n@Injectable()\nexport class DataService {\n    getParameterisationData(): Promise<Parameterisation> {\n        return Promise.resolve(DEMO_PARAMETERISE_INPUT);\n    };\n    // getModelData(): Promise<string> {\n    //     return Promise.resolve(DEMO_MODEL_INPUT);\n    // }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/data.service.ts\n **/","import { Parameterisation } from './parameterisation';\nimport { Coordinates } from './coordinates';\n\nconst insert: Coordinates = {\n  x: [\n    0.99, -0.14, -1.0, -1.73, -2.56, -3.17, -3.49,\n    -3.57, -3.17, -2.52, -1.76, -1.04, -0.17,\n    0.77, 1.63, 2.36, 2.79, 2.91, 3.04, 3.22,\n    3.34, 3.37, 3.08, 2.54, 1.88, 1.02, 0.99],\n  y: [\n    5.05, 4.98, 4.42, 3.24, 1.68, 0.6, -0.64,\n    -1.48, -2.38, -3.77, -4.81,  -5.26, -5.51,\n    -5.58, -5.23, -4.64, -3.77, -2.77, -1.68,\n    -0.29, 1.23, 2.68, 3.8, 4.6, 5.01, 5.08, \n    5.05]\n}\n\nexport const DEMO_PARAMETERISE_INPUT: Parameterisation = {\n  insert: insert,\n  circle: null,\n  ellipse: null,\n  width: null,\n  length: null\n};\n  \n// export const DEMO_MODEL_INPUT: string =`{\n//   \"width\": [\n//     3.15, 3.16, 3.17, 3.17, 3.17, 3.55, 3.66, \n//     3.71, 4.2, 4.21, 4.21, 4.21, 4.21, 4.38, \n//     4.48, 4.59, 4.59, 4.67, 5.21, 5.25, 5.26,\n//     5.26, 5.26, 5.34, 5.43, 5.72, 5.86, 6, 6.04,\n//     6.08, 6.3, 6.31, 6.41, 6.53, 6.54, 6.64, 6.78,\n//     6.9, 7.08, 7.18, 7.21, 7.36, 7.56, 7.6, 7.64,\n//     7.82, 8.06, 8.4, 9.45], \n//   \"length\": [\n//     3.16, 5.25, 13.64, 6.83, 9.43, 7.7, 5.04, \n//     4.36, 4.21, 10.51, 13.65, 6.82, 8.41, 5.47, \n//     7.29, 5.67, 6.54, 6.28, 11.4, 5.26, 10.52, \n//     13.66, 8.41, 9.64, 11.02, 11.6, 8.62, 7.98,\n//     9.22, 6.64, 6.33, 8.24, 8.69, 10.99, 8.41, \n//     9.81, 10.98, 10.25, 10.77, 11.27, 9.03, 7.37,\n//     10.05, 10.26, 8.99, 10.85, 11.85, 8.42, 9.47],\n//   \"factor\": [\n//     0.9294, 0.9346, 0.9533, 0.9488, 0.9488, \n//     0.9443, 0.9434, 0.9488, 0.956, 0.9709, 0.9756,\n//     0.9606, 0.9709, 0.9634, 0.9606, 0.9588,\n//     0.9681, 0.9737, 0.9881, 0.9709, 0.9881,\n//     0.9872, 0.9833, 0.993, 0.9872, 0.999, 0.9891,\n//     0.9911, 0.999, 0.993, 0.9862, 0.9921, 0.999,\n//     1, 0.993, 0.999, 1.007, 0.999, 1.005, 0.999,\n//     1.0101, 1.003, 1.004, 1.0142, 1.003, 1.002,\n//     1.007, 1.007, 1.0081]\n// }`\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/demo-data.ts\n **/","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class TitleService {\n  title = 'Home';\n\n  getTitle(): string {\n    return this.title;\n  }\n\n  setTitle(title: string) {\n    this.title = title;\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/title.service.ts\n **/","import { Injectable } from '@angular/core';\n\nexport class Base {\n  public propNames: string[]\n  public keyConversions: {}\n\n  reset() {\n    for (let propName of this.propNames) {\n      this[propName] = []\n    }\n  }\n\n  fillFromObject(object: {}) {\n    object = this.updateOldKeyNames(object)\n    for (let propName of this.propNames) {\n      if (object[propName] == null) {\n        this[propName] = []\n      }\n      else {\n        this[propName] = object[propName]\n      }\n    }\n  }\n\n  updateOldKeyNames(object: {}) {\n    let newKey: string\n\n    for (let oldKey in this.keyConversions) {\n      if (object[oldKey] != null && object[this.keyConversions[oldKey]] == null) {\n        newKey = this.keyConversions[oldKey]\n        Object.defineProperty(object, newKey,\n            Object.getOwnPropertyDescriptor(object, oldKey));\n        delete object[oldKey];\n      }\n    }\n\n    return object\n  }\n}\n\n@Injectable()\nexport class ModelMeasurement extends Base {\n  public propNames: string[] = ['width', 'length', 'measuredFactor']\n  public keyConversions: {} = {\n    'factor': 'measuredFactor'\n  }\n  public width: number[] = []\n  public length: number[] = []\n  public measuredFactor: number[] = []\n}\n\n@Injectable()\nexport class ModelGrid extends Base  {\n  public propNames: string[] = ['width', 'length', 'predictedFactor']\n  public keyConversions: {} = {\n    'factor': 'predictedFactor'\n  }\n  public width: number[] = []\n  public length: number[] = []\n  public predictedFactor: number[] = []\n}\n\n@Injectable()\nexport class Predictions extends Base {\n  public propNames: string[] = ['width', 'length', 'area', 'measuredFactor', 'predictedFactor']\n  public width: number[] = []\n  public length: number[] = []\n  public area: number[] = []\n  public measuredFactor: number[] = []\n  public predictedFactor: number[] = []\n}\n\n@Injectable()\nexport class ModelData {\n  public propNames: string[] = ['measurement', 'model', 'predictions']\n  // currentSettings: {\n  //   machine: string, \n  //   energy: number, \n  //   applicator: string, \n  //   ssd: number\n  // }\n\n  constructor(    \n    public measurement: ModelMeasurement,\n    public model: ModelGrid,\n    public predictions: Predictions\n  ) { }\n\n  fillFromObject(object: {}) {\n    if (object == null) {\n      for (let propName of this.propNames) {\n        this[propName].reset()\n      }\n    }\n    else {\n      for (let propName of this.propNames) {\n        if (object[propName] == null) {\n          this[propName].reset()\n        }\n        else {\n          this[propName].fillFromObject(object[propName])\n        }\n      }\n    }\n  }\n\n  createLocalStorageKey(currentSettings: {machine: string, energy: number, applicator: string, ssd: number}) {\n    let localStorageKey = (\n      '{\"machine\":' + JSON.stringify(String(currentSettings.machine)) + ',' +\n      '\"energy\":' + JSON.stringify(Number(currentSettings.energy)) + ',' +\n      '\"applicator\":' + JSON.stringify(String(currentSettings.applicator)) + ',' +\n      '\"ssd\":' + JSON.stringify(Number(currentSettings.ssd)) +\n      '}')\n\n    return localStorageKey\n  }\n\n  loadModelData(currentSettings: {machine: string, energy: number, applicator: string, ssd: number}) {\n    let localStorageKey = this.createLocalStorageKey(currentSettings)\n    let parsedData = JSON.parse(localStorage.getItem(localStorageKey))\n\n    this.fillFromObject(parsedData)\n  }\n\n  saveModelData(currentSettings: {machine: string, energy: number, applicator: string, ssd: number}) {\n    let localStorageKey = this.createLocalStorageKey(currentSettings)\n    localStorage.setItem(localStorageKey, JSON.stringify(this))\n  }\n\n  // getCurrentSettings() {\n\n  // }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/model-data.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\" style=\\\"display: flex; align-items: center; flex-flow: row wrap;\\\">\\n    <h5>Equivalent ellipse parameterisation</h5>\\n    <p>This is for the determination of equivalent ellipse widths and lengths as defined in the paper method.</p>\\n\\n    <p>\\n      To begin shape parameterisation you need to define your insert shape. \\n      This can be done by editing the x and y coordinates within the text boxes below or by using a shape       \\n      <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n        pulled from a dicom file.\\n      </a>\\n    </p>\\n\\n    <p>\\n      Coordinates can be separated by commas (,), semicolons (;), tabs, or new lines.\\n      This web app should handle copying and pasting from a range of sources (including excel).\\n      Number inputs can only contain the characters 0-9, a minus sign (-) and decimal points (.).\\n    </p>\\n\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"X coordinates (cm @iso)\\\"\\n      [(ngModel)]=\\\"textAreaX\\\"\\n      (input)=\\\"inputTextAreaX($event.target.value)\\\"\\n      rows=4\\n      floating-label\\n      [disabled]=\\\"dataInFlight\\\"\\n      [style.width]=\\\"'100%'\\\"></mdl-textfield>\\n\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Y coordinates (cm @iso)\\\"\\n      [(ngModel)]=\\\"textAreaY\\\"\\n      (input)=\\\"inputTextAreaY($event.target.value)\\\"\\n      rows=4\\n      floating-label\\n      [disabled]=\\\"dataInFlight\\\"\\n      [style.width]=\\\"'100%'\\\"></mdl-textfield>\\n\\n    <p *ngIf=\\\"!equalLengths\\\">\\n      The x and y coordinate lengths need to be the same as each other.\\n    </p>\\n\\n    <p *ngIf=\\\"this.parameterisation.insert.x.length < 3 || this.parameterisation.insert.y.length < 3\\\">\\n      You need at least 3 data points to create an insert shape.\\n    </p>\\n\\n    <div style=\\\"width:100%; height:30px\\\"></div>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Parameterise | Load demo data\\\"\\n      [disabled]=\\\"submitDisabled\\\"\\n      (click)=\\\"loadDemoData()\\\">Load Demo Data         \\n    </button>\\n\\n    <div style=\\\"width:20px; height:30px\\\"></div>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Parameterise | Parameterise insert\\\"\\n      [disabled]=\\\"submitDisabled || !xInputValid || !yInputValid || !equalLengths\\\"\\n      (click)=\\\"onSubmit()\\\">Parameterise Insert          \\n    </button>\\n\\n\\n\\n    <div [hidden]=\\\"serverResponseValid\\\">\\n      {{serverErrorMessage}}\\n    </div>\\n\\n    <div style=\\\"height:20px; width:100%;\\\"></div>\\n\\n    <my-plot \\n      [insert_x]=\\\"parameterisation.insert.x\\\"\\n      [insert_y]=\\\"parameterisation.insert.y\\\"\\n      [circle]=\\\"parameterisation.circle\\\"\\n      [ellipse]=\\\"parameterisation.ellipse\\\"\\n      [enabled]=\\\"xInputValid && yInputValid && equalLengths\\\">\\n    </my-plot>\\n\\n    <div style=\\\"height:20px; width:20px;\\\"></div>\\n\\n    <my-width-length-table\\n      [width]=\\\"parameterisation.width\\\"\\n      [length]=\\\"parameterisation.length\\\"\\n      [enabled]=\\\"xInputValid && yInputValid && equalLengths\\\">\\n    </my-width-length-table>\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Send parameterisation to model</h5>\\n    <p>\\n      Once you have parameterised an insert shape you may either predict this insert with the model, or you may add the insert to the model.\\n    </p>\\n    <p>\\n      To predict the insert with the model you must have filled in the correct machine ID, energy, applicator, and ssd in the text boxes below.\\n      Furthermore these inputs need to correspond to one of the \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        machine specifications you have defined.\\n      </a>\\n    </p>\\n    <p>\\n      To append the current insert shape along with its measured factor to the model you must have filled in the corresponding machine ID, energy, applicator, ssd, and measured factor in the text boxes below.\\n      Once again the machine specifications given need to correspond to one of the \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        machine specifications you have defined.\\n      </a>\\n    </p>\\n\\n\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Machine (ID)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.machine\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n    <p *ngIf=\\\"!machineExists\\\">\\n      This machine ID does not exist within your \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        provided machine specifications.\\n      </a>\\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Energy (Nominal or MeV)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.energy\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Applicator (ID)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.applicator\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"SSD (cm)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.ssd\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n    <p *ngIf=\\\"!machineSettingsExist\\\">\\n      These specific machine settings do not exist within your       \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        provided machine specifications.\\n      </a>\\n    </p>\\n\\n    <mdl-textfield #measuredFactor\\n      type=\\\"text\\\"\\n      label=\\\"Measured insert factor (as per TG 25)\\\"\\n      (input)=\\\"insertDataChange()\\\"\\n      floating-label\\n      [(ngModel)]=\\\"insertData.factor\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Parameterise | Add measured factor to model\\\"\\n      [disabled]=\\\"!ableToAddDataToModel || !machineSettingsExist || measuredFactor.value==null || measuredFactor.value=='' || submitDisabled || !xInputValid || !yInputValid || !equalLengths\\\"\\n      (click)=\\\"addMeasuredFactor(measuredFactor.value)\\\">Add Measured Factor to Model            \\n    </button>\\n\\n    <p *ngIf=\\\"dataAlreadyExistsOnModel && !submitDisabled && xInputValid && yInputValid && equalLengths && machineSettingsExist\\\">\\n      This width, length, and measured factor combination exists within the model.       \\n      <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n        View the model.\\n      </a>\\n    </p>\\n    \\n    <div style=\\\"height:20px; width:20px;\\\"></div>\\n\\n\\n\\n\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\"\\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Parameterise | Predict factor with model\\\"\\n      [disabled]=\\\"!machineSettingsExist || submitDisabled || !xInputValid || !yInputValid || !equalLengths || parameterisation.width == null || parameterisation.length == null\\\"\\n      (click)=\\\"predictFactor()\\\">Predict Factor with Model        \\n    </button>\\n\\n    \\n    <!--<p>\\n      <font color=\\\"#d3d3d3\\\">\\n        Currently the \\\"Predict Factor with Model\\\" button just changes the active machine specifications to match that given above and then takes you to the model component.\\n        A future implementation is to have this button plot your insert shape on the model plot and display the predicted factor.\\n      </font>\\n    </p>-->\\n\\n\\n\\n  </div>\\n\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n    <h5>Change parameterisation server url (optional)</h5>\\n    <p>Only change the following address if you wish to use your own server. This is not required to be edited. The default server is: <br>\\n      <a>http://electronapi.simonbiggs.net/parameterise</a>       \\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Parameterisation Server Address\\\"\\n      (input)=\\\"parameterisationServerChange($event.target.value)\\\"\\n      floating-label\\n      [(ngModel)]=\\\"parameteriseURL\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n  </div>\\n\\n  <!--<div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet\\\">\\n    <h5>Edit raw coordinates</h5>\\n    <my-json-input #jsonInput\\n      [insert]=\\\"parameterisation.insert\\\"\\n      [jsonDisabled]=\\\"dataInFlight\\\"\\n      (insertUpdated)=\\\"insertUpdated($event)\\\"\\n      (jsonStatus)=\\\"onJsonStatusChange($event)\\\">\\n    </my-json-input>\\n  </div>-->\\n\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/parameterise.component.html\n ** module id = 65\n ** module chunks = 0\n **/","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-page-not-found',\n  template: require('./page-not-found.component.html')\n})\nexport class PageNotFoundComponent {\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/page-not-found.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    This page has not been found. Please provide feedback ...\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/page-not-found.component.html\n ** module id = 67\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\n\n\n@Component({\n  selector: 'my-home',\n  template: require('./home.component.html')\n})\nexport class HomeComponent implements OnInit {\n  constructor(\n    private myTitleService: TitleService\n  ) {}\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Home');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/home.component.ts\n **/","module.exports = \"<div itemscope itemtype=\\\"http://schema.org/SoftwareApplication\\\" class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h3 itemprop=\\\"name\\\">Electron insert factor modelling</h3>\\n    <p>\\n      Tags: <span itemprop=\\\"applicationCategory\\\">Medical physics, electron inserts, electron cutouts, Python, Angular2, Bokeh, spline modelling</span><br>\\n      Last update: <span itemprop=\\\"datePublished\\\" content=\\\"2016-10-18\\\">2016-10-23</span><br>\\n      Version: <span itemprop=\\\"softwareVersion\\\">0.1.4-beta</span><br>\\n      Operating system: <span itemprop=\\\"operatingSystem\\\">Windows, Linux, Mac, Android, and iOS</span> <br>\\n      Requirements: <span itemprop=\\\"requirements\\\">A browser that supports <a href=\\\"http://caniuse.com/#feat=namevalue-storage\\\">local storage</a></span><br>\\n      Developed by: <span itemprop=\\\"author\\\" itemscope itemtype=\\\"http://schema.org/Person\\\"><a itemprop=\\\"name\\\" href=\\\"https://github.com/SimonBiggs\\\">Simon Biggs</a></span>\\n\\n    </p>\\n    \\n    <h4>Description</h4>\\n    <p>\\n      This online web app is for the modelling of the portion of the electron output factor that is dependent on the shape of the shielding insert mounted within the applicator. This allows modelling insert factors using only the measured factors already available at a centre. Should all outliers be removed from the data set the user might expect as low as 0.5% standard uncertainty for factor prediction with as little as 8 data points.\\n    </p>\\n\\n\\n    <p>If you have any issues or feedback please contact me at <a href=\\\"mailto:mail@simonbiggs.net\\\">mail@simonbiggs.net</a>.</p>\\n\\n    <h4>Instructions</h4>\\n    <h5>Overview</h5>\\n    <p>This web app is divided into four logical components:</p>\\n      <ul>\\n        <li>   \\n          Defining your centre specific machine specifications within the   \\n          <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n            machine specifications component\\n          </a>\\n        </li>\\n        <li>\\n          Insert shape extraction from a dicom patient plan within the\\n          <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n            dicom component\\n          </a>\\n        </li>\\n        <li>\\n          Parameterise the insert shapes into equivalent widths and lengths within the\\n          <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n            parameterisation component\\n          </a>\\n        </li>\\n        <li>\\n          Take at least 8 widths, lengths, and measured factors for a given machine, applicator, energy, ssd combination and create an empirical model within the\\n          <a routerLink=\\\"/create-model\\\" routerLinkActive=\\\"active\\\">\\n            model component\\n          </a>\\n        </li>\\n      </ul>\\n\\n      <p>\\n        All your model and machine data is saved on your local machine within your browser. \\n        Your progress will be saved as long as you do not clear your browser data.\\n        In the future I plan to implement a data export and import feature, as well as the ability to sync models between browsers via a server.\\n        Currently however the only place your web app data is being stored is on your local machine.\\n      </p>\\n\\n       \\n      \\n      <h5>To demo</h5>\\n      <p>\\n        If you wish to simply demo this app these are the following steps you can take:\\n      </p>\\n      <ul>\\n        <li>\\n          Within the \\n          <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n            dicom component \\n          </a>\\n          download the demo dicom file, load it into the web app and see the insert shapes be pulled from the dicom file without any network traffic\\n        </li>\\n        <li>\\n          Within the \\n          <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n            parameterise component\\n          </a>\\n          press the \\\"Load Demo Data\\\" button and then press the \\\"Parameteterise Insert\\\" button to see the parameterisation algorithim in action\\n        </li>\\n        <li>\\n          Within the \\n          <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n            model component\\n          </a>\\n          press the \\\"Load Demo Data\\\" button and then press the \\\"Run Spline Model\\\" to see the spline model being created. \\n          You can then either hover over the model, or tap on the model to view the relevant values.\\n        </li>\\n      </ul>\\n\\n      <h5>To implement in your centre</h5>\\n      <p>\\n        To implement this web app in your centre you need to do the following:\\n      </p>\\n      <ul>\\n        <li>  \\n          Specify the machine models and the corresponding applicators, energies, and ssds within the    \\n          <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n            machine specification component.\\n          </a>\\n        </li>\\n        <li> \\n          Collate / measure your electron insert factor measuremens. These factors are to measured in accordance to TG 25.   \\n        </li>\\n        <li>\\n          If the insert shapes are ellipses, you may directly input the ellipse widths and lengths as projected to the isocentre within the \\n          <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n            model component.\\n          </a>\\n        </li>\\n        <li>\\n          If the insert shape is a generic shape or you know the x and y coordinates of your insert then determine the equivalent ellipse widths and lengths by inputting x and y coordinates as defined at isocentre within the \\n          <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n            parameterisation component.\\n          </a>          \\n        </li>\\n        <li>\\n          If the insert shape is defined within your planning system, export the patient plan to dicom and then read the insert coordinates from the dicom file using the\\n          <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n            dicom component.\\n          </a>          \\n        </li>\\n        <li>\\n          Once you have the corresponding equivalent ellipse widths and lengths for your measured factors these may be appended to the relevant machine configuration within the \\n          <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n            model component\\n          </a>\\n        </li>\\n        <li>\\n          Whenever a machine configuration gets at least 8 data points you may press the \\\"Run Spline Model\\\" on the \\n          <a routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\">\\n            model component\\n          </a>\\n          which will allow the prediction of insert factors for other widths and lengths.\\n        </li>\\n      </ul>\\n\\n      <h5>To use the web app after it has been implemented</h5>\\n      <ul>\\n        <li>\\n          Export the patient plan to dicom and then read the insert coordinates from the dicom file using the\\n          <a routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\">\\n            dicom component.\\n          </a>          \\n        </li>\\n        <li>\\n          Press the \\\"Parameterise Insert\\\" button to determine the equivalent ellipse width and length\\n        </li>\\n        <li>\\n          Press the \\\"Predict Factor with Model\\\" button to automatically change the machine configuration to that which matches your loaded insert\\n        </li>\\n        <li>\\n          Hover your mouse over the relevant width and length within the model to predict your insert factor\\n        </li>\\n      </ul>\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n\\n    <h4>Publications</h4>\\n    <!--<h6>Original paper</h6>-->\\n    <p>The paper detailing the algorithim and its validation:</p>\\n    <p>\\n      S. Biggs, M. Sobolewski, R. Murry, J. Kenny, Spline modelling electron insert factors using routine measurements. Physica Medica (2015), <a href=\\\"http://dx.doi.org/10.1016/j.ejmp.2015.11.002\\\">doi:10.1016/j.ejmp.2015.11.002</a>.\\n    </p>\\n\\n    <!--<h6>EPSM2016 Poster</h6>\\n    <ul>\\n      <li><a href=\\\"https://www.dropbox.com/s/09ij94rqc012ad8/ElectronInsertsWebAppPoster.jpg?dl=1\\\">Low resolution</a></li>\\n      <li><a href=\\\"https://www.dropbox.com/s/ga5e64echv255b8/ElectronsPoster.svg?dl=1\\\">Original SVG file</a></li>\\n    </ul>-->\\n\\n    <h4>Disclaimer</h4>\\n    <p>\\n      Any use of this web app or any of its code has you accepting the AGPL3+ license which includes no warranty that this code is fit for a particular purpose. Attempts have been made to make the code transparent and it is recommended that an experienced python programmer and physicist who understands the procedure outlined in the paper and the requirements of your centre identifies whether or not this method and code is fit for your use.</p>\\n\\n    <h4>Use of Google Analytics</h4>\\n    <p>\\n      To aid in quickly identifying bugs, user experience issues, and documenting app usage the Google Analytics service is employed. \\n      This collates and reports page views, button clicks, and demographic information based upon your IP address.\\n      For more information on privacy regarding Google Analytics <a href=\\\"https://support.google.com/analytics/answer/6004245\\\">click here.</a>\\n      If you wish to opt-out of Google Analytics data collection please <a href=\\\"https://tools.google.com/dlpage/gaoptout\\\">click here.</a>\\n    </p>   \\n\\n\\n    <h4>Steps required to freeze your own version of this web app</h4>\\n      As I make improvements to this web app I will be updating this online version. \\n      You may desire to not have the web app you are using day to day change on you.\\n      To achieve this you can create your own version of the server and your own version of the web app.\\n      \\n      For now this will require a bit of your own working out until I provide further instructions.\\n\\n\\n\\n    <h4>Source code</h4>\\n    <p>\\n      For the purpose of coding transparency and to enable the user to take responsibility for the code themselves any redistribution\\n      or derivative works of this web app need to include the source code of any additions made and need to include a way\\n      for users to easily access the source code of each of the components used or linked to.\\n    </p>\\n\\n    <h5>Server Code</h5>\\n\\n    <h6>Base Electron Insert Factor Source Code</h6>\\n    <p>\\n      The python file which does the shape parameterisation and insert factor modelling which is used by the server is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py</a>\\n    </p>\\n\\n    <h6>Tornado REST API</h6>\\n    <p>\\n      The Tornado REST API is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py</a>\\n    </p>\\n\\n    <h6>Heroku App code</h6>\\n    <p>\\n      The code to make the heroku app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server\\\">\\n              https://github.com/SimonBiggs/electronfactor-server</a>\\n    </p>\\n\\n    <h5>Web App Code</h5>\\n    <p>\\n      The source code for this web app is found here:\\n      <a itemprop=\\\"downloadUrl\\\" href=\\\"https://github.com/SimonBiggs/electroninserts-webapp\\\">\\n            https://github.com/SimonBiggs/electroninserts-webapp</a>\\n    </p>\\n\\n    <h5>Libraries used</h5>\\n    <h6>Bokehjs</h6>\\n    <p>\\n      The bokehjs library is used for plots. Documentation can be found here:\\n      <a href=\\\"http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs\\\">\\n              http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/bokeh/bokeh/tree/master/bokehjs\\\">\\n              https://github.com/bokeh/bokeh/tree/master/bokehjs</a>\\n    </p>\\n\\n    <h6>dcmjs</h6>\\n    <p>\\n      The dcmjs library is used for reading dicom files within javascript. Website can be found here:\\n      <a href=\\\"http://dcmjs.org/\\\">\\n              http://dcmjs.org/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/commontk/dcmjs\\\">\\n              https://github.com/commontk/dcmjs</a>\\n    </p>\\n\\n    <h6>Angular2</h6>\\n    <p>\\n      This interface was built using Angular2. Documentation can be found here:\\n      <a href=\\\"https://angular.io/docs/ts/latest/\\\">\\n              https://angular.io/docs/ts/latest/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/angular/angular\\\">\\n              https://github.com/angular/angular</a>\\n    </p>\\n    <h6>Remaining libraries</h6>\\n    <p>\\n      For all remaining libraries used please see the npm package.json file:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json</a>\\n    </p>\\n    <p>\\n      And the index file for various imports:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html</a>\\n    </p>\\n  </div>\\n\\n\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/home.component.html\n ** module id = 69\n ** module chunks = 0\n **/","import { Component, OnInit, NgZone, ViewChild } from '@angular/core';\n\nimport { TitleService } from './title.service'\nimport { ElectronApiService } from './electron-api.service';\nimport { ModelData } from './model-data'\n\n@Component({\n  selector: 'my-create-model',\n  template: require('./create-model.component.html')\n})\nexport class CreateModelComponent implements OnInit {\n  textboxInput = {\n    width: <string>null,\n    length: <string>null,\n    measuredFactor: <string>null\n  }\n\n  textboxLabels = {\n    width: \"Equivalent ellipse widths (cm @iso)\",\n    length: \"Equivalent ellipse lengths (cm @iso)\",\n    measuredFactor: \"Measured insert factor (as per TG 25)\"\n  }\n\n  textboxValid = {\n    width: true,\n    length: true,\n    measuredFactor: true\n  }\n\n  currentSettings = {\n    machine: <string>null,\n    energy: <number>null,\n    applicator: <string>null,\n    ssd: <number>null\n  }\n\n  lengthSmallerThanWidth: boolean = false\n  \n  plot_width = 600\n\n  modelURL: string\n  dataInFlight: boolean = false\n\n\n\n  @ViewChild('plotContainer') plotContainer: any\n  @ViewChild('settingsPicker') settingsPicker: any\n\n  constructor(\n    private modelData: ModelData,\n    private myTitleService: TitleService,\n    private electronApiService: ElectronApiService,\n    ngZone: NgZone\n  ) {\n    window.onresize = (e) => {\n      ngZone.run(() => {\n        this.updatePlotWidth()\n      })\n    }\n  }\n\n  ngOnInit() {\n    this.myTitleService.setTitle('Create Model')\n\n    this.modelURL = localStorage.getItem(\"modelURL\")\n    if (this.modelURL == null) {\n      this.modelURL = 'http://electronapi.simonbiggs.net/model'\n    }\n    this.updatePlotWidth()\n\n  }\n\n  updatePlotWidth() {\n    this.plot_width = this.plotContainer.nativeElement.clientWidth\n  }\n\n  currentMachineSettingsUpdated(newSettings: {}) {\n    for (let key of ['machine', 'energy', 'applicator', 'ssd']) {\n      this.currentSettings[key] = newSettings[key]\n    }\n    this.loadMeasuredData()\n    this.checkLengthSmallerThanWidth()\n  }\n\n  createKey() {\n    let key = (\n      '{\"machine\":' + JSON.stringify(String(this.currentSettings.machine)) + ',' +\n      '\"energy\":' + JSON.stringify(Number(this.currentSettings.energy)) + ',' +\n      '\"applicator\":' + JSON.stringify(String(this.currentSettings.applicator)) + ',' +\n      '\"ssd\":' + JSON.stringify(Number(this.currentSettings.ssd)) +\n      '}')\n\n    return key\n  }\n\n  loadMeasuredData() {\n    let localStorageKey = this.createKey()\n    let parsedData = JSON.parse(localStorage.getItem(localStorageKey))\n\n    this.modelData.fillFromObject(parsedData)\n\n    this.updateTextboxInput()\n  }\n\n  saveModel() {\n    let key = this.createKey()\n    localStorage.setItem(key, JSON.stringify(this.modelData))\n  }\n\n  updateTextboxInput() {\n    for (let key of ['width', 'length', 'measuredFactor']) {\n      this.textboxInput[key] = String(this.modelData.measurement[key])\n        .replace(/,/g, ', ')\n    }\n  }\n\n  checkLengthSmallerThanWidth() {\n    this.lengthSmallerThanWidth = false\n    for (let i = 0; i < this.modelData.measurement.width.length; i++) {\n      if (this.modelData.measurement.width[i] > this.modelData.measurement.length[i]) {\n        this.lengthSmallerThanWidth = true\n        return\n      }\n    }\n  }\n\n  validateInput(input: string): boolean {\n    // return /^(-?\\d*(\\.\\d+)?[,;\\s]+)*-?\\d*(\\.\\d+)?[,;\\s]*$/.test(input)\n    return true\n  }\n\n  onTextboxChange(key: string, newInput: string) {\n    this.textboxValid[key] = false\n    this.modelData.model.reset()\n\n    try {\n      if (this.validateInput(newInput)) {\n        this.modelData.measurement[key] = eval('[' + newInput.replace(/[,;\\n\\t]\\s*/g, ', ') + ']')\n        this.saveModel()\n        this.textboxValid[key] = true\n        this.checkLengthSmallerThanWidth()\n      }\n    }\n    catch (err) {\n      console.log(err)\n    }\n  }\n\n  basicServerSubmit() {\n    this.dataInFlight = true\n    this.electronApiService.sendToServer(\n      this.modelURL,\n      JSON.stringify(this.modelData.measurement)\n    )\n      .then((modelResult: any) => {\n        this.modelData.model.width = modelResult.model_width;\n        this.modelData.model.length = modelResult.model_length;\n        this.modelData.model.predictedFactor = modelResult.model_factor;\n        this.dataInFlight = false\n        this.saveModel()\n      })\n  }\n\n  modelServerChange(newModelURL: string) {\n    localStorage.setItem(\"modelURL\", newModelURL);\n  }\n\n  defaultServer() {\n    this.modelURL = 'http://electronapi.simonbiggs.net/model';\n    localStorage.setItem(\"modelURL\", this.modelURL);\n  }\n\n  loadDemoData() {\n    for (let key of ['machine', 'energy', 'applicator', 'ssd']) {\n      this.currentSettings[key] = null\n    }\n\n    this.settingsPicker.currentSettings = this.currentSettings\n\n    this.modelData.model.reset()\n\n    this.modelData.measurement.width = [\n      3.71, 6.78, 6.3, 7.56, 5.26, 6.53, 7.08, 4.38, 3.66,\n      4.21, 4.21, 6.54, 5.86, 3.17, 6., 8.06, 6.31, 5.26,\n      4.21, 5.21, 4.59, 5.34, 6.41, 5.26, 5.25, 7.82, 4.2,\n      3.16, 7.18, 5.72, 6.08, 6.64, 8.4, 4.59, 3.15, 4.67,\n      4.21, 9.45, 7.64, 3.17, 3.17, 7.36]\n    this.modelData.measurement.length = [\n      4.36, 10.97, 6.33, 10.05, 13.66, 10.99, 10.77, 5.47,\n      5.04, 8.41, 13.65, 8.41, 8.62, 9.43, 7.97, 11.85,\n      8.24, 10.52, 6.82, 11.4, 5.67, 9.64, 8.69, 8.41,\n      5.26, 10.85, 4.21, 5.25, 11.27, 11.6, 6.64, 9.81,\n      8.42, 6.54, 3.16, 6.28, 10.51, 9.47, 8.99, 13.64,\n      6.83, 7.37]\n    this.modelData.measurement.measuredFactor = [\n      0.9489, 1.0067, 0.9858, 1.0045, 0.9868, 1.0004, 1.0052,\n      0.9634, 0.9437, 0.9708, 0.9757, 0.9931, 0.9896, 0.9492,\n      0.9911, 1.0067, 0.9923, 0.9879, 0.9609, 0.9884, 0.9587,\n      0.9934, 0.9991, 0.9831, 0.9705, 1.0019, 0.9562, 0.9348,\n      0.9987, 0.9989, 0.9933, 0.9991, 1.0067, 0.9683, 0.9296,\n      0.9735, 0.9709, 1.0084, 1.0028, 0.953, 0.9484, 1.0032]\n    \n    this.checkLengthSmallerThanWidth()\n    this.updateTextboxInput()\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/create-model.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Description</h5>\\n    <p>\\n      Use this component to turn a set of at least 8 measured factors with corresponding equivalent widths and lengths into a spline model.\\n      These widths and lengths need to be determined using the parameterisation method employed within the \\n      <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n        parameterisation component.\\n      </a>\\n    </p>\\n    <p>\\n      You are free to edit the widths, lengths, and factors manually below, or have the       \\n      <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n        parameterisation component\\n      </a>\\n      automatically add the measured factors to the correct model. Both work interchangably.\\n      You may only add shapes via the \\n      <a routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\">\\n        parameterisation component\\n      </a>\\n      if machine ID, applicator, energy, ssd, and measured factor are filled in and they match a machine configuration defined within the \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        specifications component.\\n      </a> \\n    </p>\\n    <p>\\n      A spline model is only valid for a single machine configuration. \\n      Therefore each machine, applicator, energy, ssd has its own model. \\n      Using the machine configuration section below you can change between the configurations.\\n      This will only work if you have already\\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        defined your machine configurations.\\n      </a> \\n    </p>\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Choose machine configuration</h5>\\n    <p>\\n      Here is where you select the machine specifications for the model you with to edit. \\n      You will only see options here if you have actually       \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        defined your machine configurations.\\n      </a> \\n    </p>\\n  </div>\\n\\n  <div [style.width]=\\\"'100%'\\\">\\n    <my-choose-specifications #settingsPicker\\n      (settingsUpdated)=currentMachineSettingsUpdated($event)>\\n    </my-choose-specifications>\\n  </div>\\n  \\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <div [style.width]=\\\"'100%'\\\" [style.height]=\\\"'30px'\\\"></div>\\n    <h5>\\n      The model\\n      <span *ngIf=\\\"currentSettings.machine != null && currentSettings.energy != null && currentSettings.energy != 0 && currentSettings.applicator != null && currentSettings.applicator != '' && currentSettings.ssd != null && currentSettings.ssd != 0\\\">\\n        for machine ID {{currentSettings.machine}}, at an energy of {{currentSettings.energy}} MeV, on the {{currentSettings.applicator}} applicator at {{currentSettings.ssd}} cm SSD\\n      </span>\\n      </h5>    \\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n\\n    <h6>Input widths, lengths, and factors</h6>\\n    <p>\\n      Use the following text boxes to directly edit the measured data used by the spline model.\\n    </p>\\n    <p>\\n      Coordinates can be separated by commas (,), semicolons (;), tabs, or new lines.\\n      This web app should handle copying and pasting from a range of sources (including excel).\\n      Number inputs can only contain the characters 0-9, a minus sign (-) and decimal points (.).\\n    </p>\\n\\n    <div *ngFor=\\\"let key of ['width', 'length', 'measuredFactor']\\\">\\n      <mdl-textfield \\n        type=\\\"text\\\"\\n        [label]=\\\"textboxLabels[key]\\\"\\n        [(ngModel)]=\\\"this.textboxInput[key]\\\"\\n        (input)=\\\"onTextboxChange(key, $event.target.value)\\\"\\n        rows=4\\n        floating-label\\n        [disabled]=\\\"dataInFlight\\\"\\n        [style.width]=\\\"'100%'\\\"></mdl-textfield>\\n      <p *ngIf=\\\"!textboxValid[key]\\\">\\n        The {{key}} input is invalid\\n      </p>\\n      <span *ngIf=\\\"key=='length'\\\">\\n        <p *ngIf=\\\"lengthSmallerThanWidth\\\">\\n          There exists a length value that is smaller than its corresponding width. Spline modelling is disabled as a result.\\n        </p>\\n      </span>\\n    </div>\\n    <p *ngIf=\\\"modelData.measurement.measuredFactor.length != modelData.measurement.width.length || modelData.measurement.measuredFactor.length != modelData.measurement.length.length || modelData.measurement.width.length != modelData.measurement.length.length\\\">\\n      The lengths of the inputs are not equal. Spline modelling is disabled as a result.\\n    </p>\\n    <p *ngIf=\\\"modelData.measurement.width.length < 8 || modelData.measurement.length.length < 8 || modelData.measurement.measuredFactor.length < 8\\\">\\n      There are currently less than 8 data points. Spline modelling is disabled as a result.\\n    </p>\\n  </div>\\n\\n<div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\" #plotContainer>\\n    <h6>The spline model</h6>\\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Model | Load demo data\\\"\\n      [disabled]=\\\"dataInFlight\\\"\\n      (click)=\\\"loadDemoData()\\\">Load demo data         \\n    </button>\\n      \\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Model | Calculate spline model\\\"\\n      [disabled]=\\\"modelData.measurement.width.length < 8 || modelData.measurement.length.length < 8 || modelData.measurement.measuredFactor.length < 8 || dataInFlight || modelData.measurement.measuredFactor.length != modelData.measurement.width.length || modelData.measurement.measuredFactor.length != modelData.measurement.length.length || modelData.measurement.width.length != modelData.measurement.length.length || !textboxValid['width'] || !textboxValid['length'] || !textboxValid['measuredFactor'] || lengthSmallerThanWidth\\\"\\n      (click)=\\\"basicServerSubmit()\\\">Calculate Spline Model\\n    </button>\\n    \\n\\n    <div *ngIf=\\\"modelData.measurement.width.length > 0 && modelData.measurement.length.length > 0 && modelData.measurement.measuredFactor.length > 0\\\">\\n      <my-bokeh-create-model\\n        [title]=\\\"'Model Plot'\\\"\\n        [scatter_x]=\\\"modelData.measurement.width\\\"\\n        [scatter_y]=\\\"modelData.measurement.length\\\"\\n        [scatter_z]=\\\"modelData.measurement.measuredFactor\\\"\\n        [pcolour_x]=\\\"modelData.model.width\\\"\\n        [pcolour_y]=\\\"modelData.model.length\\\"\\n        [pcolour_z]=\\\"modelData.model.predictedFactor\\\"\\n        [plot_width]=\\\"plot_width\\\"\\n        [plot_height]=\\\"380\\\">\\n      </my-bokeh-create-model>\\n    </div>\\n    <div *ngIf=\\\"modelData.measurement.width.length == 0 || modelData.measurement.length.length == 0|| modelData.measurement.measuredFactor.length == 0\\\">\\n      <p>\\n        <font color=\\\"red\\\">There is currently no data for this combination.</font> If you wish to load some demo data to see the model in action press the \\\"load demo data\\\" button below.\\n        To set this model up with your own data follow the instructions in the description at the top of this page.\\n      </p>\\n    </div>\\n\\n\\n  </div>\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet\\\">\\n    <h5>Change modelling server url (optional)</h5>\\n    <p>Only change the following address if you wish to use your own server. This is not required to be edited. The default is: <br>\\n      <a (click)=\\\"defaultServer()\\\">http://electronapi.simonbiggs.net/model</a>        \\n    </p>\\n    <mdl-textfield\\n      type=\\\"text\\\"\\n      label=\\\"Spline model server address\\\"\\n      (input)=\\\"modelServerChange($event.target.value)\\\"\\n      floating-label\\n      [(ngModel)]=\\\"modelURL\\\"\\n      style=\\\"width:100%\\\"></mdl-textfield>\\n  </div>\\n\\n\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/create-model.component.html\n ** module id = 71\n ** module chunks = 0\n **/","import { Component, OnInit, ViewChild, NgZone } from '@angular/core';\n\nimport { TitleService } from './title.service'\nimport { ModelData } from './model-data'\n\nimport { validateInput } from './sanitise-validation'\n\n@Component({\n  selector: 'my-use-model',\n  template: require('./use-model.component.html')\n})\nexport class UseModelComponent {\n  textboxInput = {\n    width: <string> null,\n    length: <string> null,\n    area: <string> null,\n    measuredFactor: <string> null\n  }\n\n  textboxLabels = {\n    width: \"Width of ellipse given by diameter of largest encompassed circle (cm @iso)\",\n    length: \"Length of ellipse that matches insert shape area (cm @iso)\",\n    area: \"[Optional] Area of insert shape (cm^2 @iso)\",\n    measuredFactor: \"[Optional] Measured insert factor (as per TG 25)\"\n  }\n\n  textboxValid = {\n    width: true,\n    length: true,\n    area: true,\n    measuredFactor: true\n  }\n\n  currentSettings = {\n    machine: <string> null,\n    energy: <number> null,\n    applicator: <string> null,\n    ssd: <number> null\n  }\n\n  modelLookup = {}\n  predictionDifference: number[] = []\n\n  lengthSmallerThanWidth: boolean = false\n  \n  plot_width = 600\n\n  @ViewChild('plotContainer') plotContainer: any\n  @ViewChild('settingsPicker') settingsPicker: any\n\n  constructor(\n    private modelData: ModelData,\n    private myTitleService: TitleService,\n    ngZone: NgZone\n  ) {\n    window.onresize = (e) => {\n      ngZone.run(() => {\n        this.updatePlotWidth()\n      })\n    }\n  }\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Use Model')\n    this.updatePlotWidth()\n    this.updateModelLookup()\n    this.loadMeasuredData()\n    this.updatePredictedFactors()\n  }\n  \n\n  // linearInterpolate(x: number, x1: number, x2: number, y1: number, y2: number) {\n  //   let m = (y2 - y1) / (x2 - x1)\n  //   let c = y1 - m * x1\n  //   let y = m * x + c\n\n  //   return y\n  // }\n\n  // bilinearInterpolate(\n  //     x: number, y: number, \n  //     x_1: number, x_2: number, \n  //     y_1: number, y_2: number, \n  //     z_x1y1: number, z_x1y2: number, z_x2y1: number, z_x2y2: number) {\n  //   let z_xy1 = this.linearInterpolate(x, x_1, x_2, z_x1y1, z_x2y1)\n  //   let z_xy2 = this.linearInterpolate(x, x_1, x_2, z_x1y2, z_x2y2)\n\n  //   let z_xy = this.linearInterpolate(y, y_1, y_2, z_xy1, z_xy2)\n\n  //   return z_xy\n  // }\n\n  lookupFactor(width: number, length: number) {\n    width = Math.round(width*10)/10\n    length = Math.round(length*10)/10\n\n    let key: string\n    key = String(width) + \",\" + String(length)\n\n    return Math.round(this.modelLookup[key]*1000)/1000\n  }\n\n  updatePredictedFactors() {\n    this.modelData.predictions.predictedFactor = []\n\n    let amount = Math.min(this.modelData.predictions.width.length, this.modelData.predictions.length.length)\n    let predictedFactor: number\n    let width: number\n    let length: number\n    for (let i = 0; i < amount; i++) {\n      width = this.modelData.predictions.width[i]\n      length = this.modelData.predictions.length[i]\n      predictedFactor = this.lookupFactor(width, length)\n\n      this.modelData.predictions.predictedFactor.push(predictedFactor)\n    }\n    \n    this.updatePredictionDifference()\n  }\n\n  updatePredictionDifference() {\n    this.predictionDifference = []\n    let measuredFactor: number\n    let predictedFactor: number\n    let difference: number\n    for (let i in this.modelData.predictions.measuredFactor) {\n      measuredFactor = this.modelData.predictions.measuredFactor[i]\n      predictedFactor = this.modelData.predictions.predictedFactor[i]\n      difference = predictedFactor - measuredFactor\n      difference = Math.round(difference * 1000) / 1000\n\n      this.predictionDifference.push(difference)\n    }\n  }\n  \n  updateModelLookup() {\n    this.modelLookup = {}\n    let key: string\n    for (let i in this.modelData.model.width) {\n      key = String(this.modelData.model.width[i]) + \",\" + String(this.modelData.model.length[i])\n      this.modelLookup[key] = this.modelData.model.predictedFactor[i]\n    }\n  }\n\n  convertLengthToArea(width: number, length: number): number {\n    let area = Math.PI * width * length / 4\n    return Math.round(area*10)/10\n  }\n\n  convertAreaToLength(width: number, area: number): number {\n    let length = 4 * area / (Math.PI * width)\n    return Math.round(length*10)/10\n  }\n\n  updateAreaFromLength() {\n    let width: number\n    let length: number\n    let area: number\n\n    this.modelData.predictions.area = []\n\n    for (let i in this.modelData.predictions.length) {\n      width = this.modelData.predictions.width[i]\n      length = this.modelData.predictions.length[i]\n\n      area = this.convertLengthToArea(width, length)\n      this.modelData.predictions.area.push(area)\n    }\n  }\n\n  updateLengthFromArea() {\n    let width: number\n    let length: number\n    let area: number\n\n    this.modelData.predictions.length = []\n\n    for (let i in this.modelData.predictions.area) {\n      width = this.modelData.predictions.width[i]\n      area = this.modelData.predictions.area[i]\n\n      length = this.convertAreaToLength(width, area)\n      this.modelData.predictions.length.push(length)\n    }\n  }\n\n  updatePlotWidth() {\n    this.plot_width = this.plotContainer.nativeElement.clientWidth\n  }\n\n  currentMachineSettingsUpdated(newSettings: {}) {\n    for (let key of ['machine', 'energy', 'applicator', 'ssd']) {\n      this.currentSettings[key] = newSettings[key]\n    }\n    this.loadMeasuredData()\n  }\n\n  // createLocalStorageKey() {\n  //   let localStorageKey = (\n  //     '{\"machine\":' + JSON.stringify(String(this.currentSettings.machine)) + ',' +\n  //     '\"energy\":' + JSON.stringify(Number(this.currentSettings.energy)) + ',' +\n  //     '\"applicator\":' + JSON.stringify(String(this.currentSettings.applicator)) + ',' +\n  //     '\"ssd\":' + JSON.stringify(Number(this.currentSettings.ssd)) +\n  //     '}')\n\n  //   return localStorageKey\n  // }\n\n  loadMeasuredData() {\n    this.modelData.loadModelData(this.currentSettings)\n    // let localStorageKey = this.createLocalStorageKey()\n    // let parsedData = JSON.parse(localStorage.getItem(localStorageKey))\n\n    // this.modelData.fillFromObject(parsedData)\n\n    if (this.modelData.predictions.length.length < this.modelData.predictions.area.length) {\n      this.updateLengthFromArea()\n    }\n    else {\n      this.updateAreaFromLength()\n    }\n    this.updateModelLookup()\n    this.updatePredictedFactors()\n    this.updateAllTextboxInputs()\n  }\n\n  saveModel() {\n    this.modelData.saveModelData(this.currentSettings)\n    // let localStorageKey = this.createLocalStorageKey()\n    // localStorage.setItem(localStorageKey, JSON.stringify(this.modelData))\n  }\n\n  updateAllTextboxInputs() {\n    for (let key of ['width', 'length', 'area', 'measuredFactor']) {\n      this.updateTextboxInput(key)\n    }\n  }\n\n  updateTextboxInput(key: string) {\n    this.textboxInput[key] = String(this.modelData.predictions[key])\n      .replace(/,/g, ', ')\n  }\n\n  lastEdit: string = 'length'\n\n  onTextboxChange(key: string, newInput: string) {\n    this.textboxValid[key] = false\n\n    try {\n      if (validateInput(newInput)) {\n        this.modelData.predictions[key] = eval('[' + newInput.replace(/[,;\\n\\t]\\s*/g, ', ') + ']')\n        this.textboxValid[key] = true\n\n        if (key == 'length' || (key == 'width' && this.lastEdit == 'length')) {\n          this.updateAreaFromLength()\n          this.updateTextboxInput('area')\n          this.lastEdit = 'length'\n        }\n        if (key == 'area' || (key == 'width' && this.lastEdit == 'area')) {\n          this.updateLengthFromArea()\n          this.updateTextboxInput('length')\n          this.lastEdit = 'area'\n        }\n        this.updatePredictedFactors()\n        this.saveModel()\n      }\n    }\n    catch (err) {\n      console.log(err)\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/use-model.component.ts\n **/","export function validateInput(input: string): boolean {\n  // return /^(-?\\d*(\\.\\d+)?[,;\\s]+)*-?\\d*(\\.\\d+)?[,;\\s]*$/.test(input)\n  return /^[-\\d\\.,;\\sNa]*$/.test(input)\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/sanitise-validation.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Use models</h5>\\n    <p>\\n      This component is where created models are used. \\n      Factors for prediction will be able to be inputted using width, and then either length or area, and optionally\\n      a measured factor can be included for the purpose of comparing model results with measurement.\\n    </p>\\n    <p>\\n      You can either use the parameterisation component to parameterise your shapes, or if you have a large data set of \\n      generic shapes you need only determine the diameter of the largest encompassed circle to define width, and then\\n      you may input shape area instead of length.\\n      This allows you to quickly check large data sets of previous measurements on generic shapes.\\n    </p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Choose machine configuration</h5>\\n    <my-choose-specifications #settingsPicker\\n      (settingsUpdated)=currentMachineSettingsUpdated($event)>\\n    </my-choose-specifications>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Inserts being predicted</h5>\\n    <div *ngFor=\\\"let key of ['width', 'length', 'area', 'measuredFactor']\\\">\\n      <mdl-textfield \\n        type=\\\"text\\\"\\n        [label]=\\\"textboxLabels[key]\\\"\\n        [(ngModel)]=\\\"this.textboxInput[key]\\\"\\n        (input)=\\\"onTextboxChange(key, $event.target.value)\\\"\\n        rows=2\\n        floating-label\\n        [style.width]=\\\"'100%'\\\"></mdl-textfield>\\n      <p *ngIf=\\\"!textboxValid[key]\\\">\\n        The {{key}} input is invalid\\n      </p>\\n    </div>\\n    <p>Predicted factors: {{modelData.predictions.predictedFactor}}</p>\\n    <p>Prediction minus measured: {{predictionDifference}}</p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\" #plotContainer>\\n    <div *ngIf=\\\"modelData.model.width.length > 0 && modelData.model.length.length > 0 && modelData.model.predictedFactor.length > 0\\\">\\n      <my-bokeh-use-model\\n        [title]=\\\"'Model Plot'\\\"\\n        [scatter_x]=\\\"modelData.predictions.width\\\"\\n        [scatter_y]=\\\"modelData.predictions.length\\\"\\n        [area]=\\\"modelData.predictions.area\\\"\\n        [scatter_z]=\\\"modelData.predictions.measuredFactor\\\"\\n        [predicted_factor]=\\\"modelData.predictions.predictedFactor\\\"\\n        [pcolour_x]=\\\"modelData.model.width\\\"\\n        [pcolour_y]=\\\"modelData.model.length\\\"\\n        [pcolour_z]=\\\"modelData.model.predictedFactor\\\"\\n        [plot_width]=\\\"plot_width\\\"\\n        [plot_height]=\\\"380\\\">\\n      </my-bokeh-use-model>\\n    </div>\\n    <div *ngIf=\\\"modelData.model.width.length == 0 || modelData.model.length.length == 0|| modelData.model.predictedFactor.length == 0\\\">\\n      <p>\\n        A model has not been calculated for this machine specification.\\n        If you do have at least 8 data points please calculate the spline model on the           \\n        <a routerLink=\\\"/create-model\\\" routerLinkActive=\\\"active\\\">\\n          create model component.\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/use-model.component.html\n ** module id = 74\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\nimport { LocalStorageService } from './local-storage.service';\n\n@Component({\n  selector: 'my-storage-management',\n  template: require('./storage-management.component.html')\n})\nexport class StorageManagementComponent implements OnInit {\n  testLocalStorage: boolean;\n  usedLocalStorageSpace: number;\n  remainingLocalStorageSpace: number;\n\n  constructor(\n    private myTitleService: TitleService,\n    private myLocalStorageService: LocalStorageService\n  ) {}\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Storage');\n    this.testLocalStorage = this.myLocalStorageService.isSupported;\n    this.usedLocalStorageSpace = this.myLocalStorageService.getUsedSpace();\n  }\n\n  testRemainingStorage() {\n    this.remainingLocalStorageSpace = this.myLocalStorageService.getRemainingSpace()\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/storage-management.component.ts\n **/","import { Injectable } from '@angular/core';\nimport { LocalStorage } from './localstoragemodule';\n\n@Injectable()\nexport class LocalStorageService {\n  isSupported = LocalStorage.isSupported;\n  hasItem = LocalStorage.hasItem;\n  getRemainingSpace = LocalStorage.getRemainingSpace;\n  getMaximumSpace = LocalStorage.getMaximumSpace;\n  getUsedSpace = LocalStorage.getUsedSpace;\n  getItemUsedSpace = LocalStorage.getItemUsedSpace;\n  getBackup = LocalStorage.getBackup;\n  applyBackup = LocalStorage.applyBackup;\n  consoleInfo = LocalStorage.consoleInfo;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/local-storage.service.ts\n **/","/**\n * Check if localStorage is supported                       const isSupported: boolean\n * Check if localStorage has an Item                        function hasItem(key: string): boolean\n * Get the amount of space left in localStorage             function getRemainingSpace(): number\n * Get the maximum amount of space in localStorage          function getMaximumSpace(): number\n * Get the used space in localStorage                       function getUsedSpace(): number\n * Get the used space of an item in localStorage            function getItemUsedSpace(): number\n * Backup Assosiative Array                                 interface Backup\n * Get a Backup of localStorage                             function getBackup(): Backup\n * Apply a Backup to localStorage                           function applyBackup(backup: Backup, fClear: boolean = true, fOverwriteExisting: boolean = true)\n * Dump all information of localStorage in the console      function consoleInfo(fShowMaximumSize: boolean = false)\n */\nexport module LocalStorage {\n    // Copied from https://gist.github.com/CodeiSir/1fb8bd9154dfde7eb0c7\n    // found from http://stackoverflow.com/a/34245594\n    \n    /**\n     * Flag set true if the Browser supports localStorage, widthout affecting it\n     */\n    export const isSupported: boolean = (() => {\n        try {\n            let itemBackup = localStorage.getItem(\"\")\n            localStorage.removeItem(\"\");\n            localStorage.setItem(\"\", itemBackup);\n            if (itemBackup === null) localStorage.removeItem(\"\")\n            else localStorage.setItem(\"\", itemBackup)\n            return true;\n        } catch (e) {\n            return false;\n        }\n    })()\n\n    /**\n     * Check if localStorage has an Item / exists with the give key\n     * @param key the key of the Item\n     */\n    export function hasItem(key: string): boolean {\n        return localStorage.getItem(key) !== null\n    }\n\n    /**\n     * This will return the left space in localStorage without affecting it's content\n     * Might be slow !!!\n     */\n    export function getRemainingSpace(): number {\n        let itemBackup = localStorage.getItem(\"\")\n        let increase = true\n        let data = \"1\"\n        let totalData = \"\"\n        let trytotalData = \"\"\n        while (true) {\n            try {\n                trytotalData = totalData + data\n                localStorage.setItem(\"\", trytotalData);\n                totalData = trytotalData;\n                if (increase) data += data\n            } catch (e) {\n                if (data.length < 2) {\n                    break;\n                }\n                increase = false\n                data = data.substr(data.length / 2)\n            }\n        }\n        if (itemBackup === null) localStorage.removeItem(\"\")\n        else localStorage.setItem(\"\", itemBackup)\n\n        return totalData.length\n    }\n\n    /**\n     * This function returns the maximum size of localStorage without affecting it's content\n     * Might be slow !!!\n     */\n    export function getMaximumSpace(): number {\n        let backup = getBackup()\n        localStorage.clear()\n        let max = getRemainingSpace()\n        applyBackup(backup)\n        return max\n    }\n\n    /**\n     * This will return the currently used size of localStorage\n     */\n    export function getUsedSpace(): number {\n        let sum = 0\n\n        for (let i = 0; i < localStorage.length; ++i) {\n            let key = localStorage.key(i)\n            let value = localStorage.getItem(key)\n            sum += key.length + value.length\n        }\n\n        return sum\n    }\n\n    /**\n     * This will return the currently used size of a given Item, returns NaN if key is not found\n     * @param key\n     */\n    export function getItemUsedSpace(key: string): number {\n        let value = localStorage.getItem(key)\n        if (value === null) {\n            return NaN\n        } else {\n            return key.length + value.length\n        }\n    }\n\n    /** \n     * Associative-array for localStorage holding key->value \n     */\n    export interface Backup {\n        [index: string]: string\n    }\n\n    /**\n     * This will return a localStorage-backup (Associative-Array key->value)\n     */\n    export function getBackup(): Backup {\n        let backup: Backup = {}\n\n        for (let i = 0; i < localStorage.length; ++i) {\n            let key = localStorage.key(i)\n            let value = localStorage.getItem(key)\n            backup[key] = value\n        }\n\n        return backup\n    }\n\n    /**\n     * This will apply a localStorage-Backup (Associative-Array key->value)\n     * @param backup            associative-array \n     * @param fClear             optional flag to clear all existing storage first. Default: true\n     * @param fOverwriteExisting optional flag to replace existing keys. Default: true\n     */\n    export function applyBackup(backup: Backup, fClear: boolean = true, fOverwriteExisting: boolean = true) {\n        if (fClear == true) {\n            localStorage.clear()\n        }\n\n        for (let key in backup) {\n            if (fOverwriteExisting === false && backup[key] !== undefined) {\n                continue\n            }\n            let value = backup[key]\n            localStorage.setItem(key, value)\n        }\n    }\n\n    /**\n     * This functions dumps all keys and values of the local Storage to the console,\n     * as well as the current size and number of items\n     * @param fShowMaximumSize optional, flag show maximum size of localStorage. Default: false\n     */\n    export function consoleInfo(fShowMaximumSize: boolean = false) {\n        let amount = 0\n        let size = 0\n\n        for (let i = 0; i < localStorage.length; ++i) {\n            let key = localStorage.key(i)\n            let value = localStorage.getItem(key);\n            console.log(amount, key, value)\n            size += key.length + value.length\n            amount++\n        }\n        console.log(\"Total entries:\", amount)\n        console.log(\"Total size:\", size)\n        if (fShowMaximumSize === true) {\n            let maxSize = getMaximumSpace()\n            console.log(\"Total size:\", maxSize)\n        }\n    }\n}\n/*\n    // Example\n    console.log(\"LocalStorage supported:\", LocalStorage.isSupported)// true - I hope so anyways 😉\n    localStorage.setItem(\"asd\", \"ASDASD\")                           // sets / overwrites the item \"asd\"\n    localStorage.setItem(\"asd\" + Math.random(), \"ASDASD\")           // set another item each time you refresh the page\n    var backup = LocalStorage.getBackup()                           // creates a backup, we will need it later!\n    console.log(JSON.stringify(backup))                             // this is how the backup looks like\n    var usedSpace = LocalStorage.getUsedSpace()                     // amount of space used right now\n    console.log(\"Used Space:\", usedSpace)                \n    var maxSpace = LocalStorage.getMaximumSpace()                   // amount of maximum space aviable\n    console.log(\"Maximum Space:\", maxSpace)             \n    var remSpace = LocalStorage.getRemainingSpace()                 // amount of remaining space\n    console.log(\"Remaining Space:\", remSpace)\n    console.log(\"SpaceCheck\", maxSpace === usedSpace + remSpace)    // true\n    console.log(\"hasItem\", LocalStorage.hasItem(\"nothis0ne\"))       // we don't have this one in our localStorage\n    localStorage.clear()                                            // oops, we deleted the localStorage!\n    console.log(\"has asd\",LocalStorage.hasItem(\"asd\"))              // item asd is lost 😒\n    LocalStorage.applyBackup(backup)                                // but we have a backup, restore it!\n    LocalStorage.consoleInfo()                                      // show all the info we have, see the backup worked 😊\n*/\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/localstoragemodule.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <h5>Storage management</h5>\\n    <p>\\n      Component still under construction\\n    </p>\\n    <p>\\n      This component is for the management of the data stored within this browser.\\n      In the future you will be able to come here to bulk export/import your data to a '.json' file for backup and transfer.\\n      At this current point in time the only function of this component is to see how much browser storage this web app\\n      has left for its use.\\n    </p>\\n\\n    <p>\\n      None of your measured data, or your model data is stored on a remote server. \\n      Your measurements and models are only sent to the server in the form of x and y coordinates for parameterisation, and \\n      in the form of widths, lengths, and measured factors for modelling. \\n      The server does not save a copy to disk of any of that data.\\n    </p>\\n\\n    <p>\\n      In the future it is envisaged that an option will be provided for you to easily share your model with \\n      the community under the AGPLv3+ license should you so choose, but this will not be automatic. \\n      It will be opt-in only.\\n    </p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <h5>Local storage tests</h5>\\n    <p></p>\\n\\n    <div *ngIf=\\\"testLocalStorage\\\">\\n      <p>Your browser supports local storage. You currently have {{usedLocalStorageSpace}} B of used space. Most browsers support\\n        5 MiB.\\n      </p>\\n\\n      <p>To check your remaining storage press the button below. Warning, this might be slow.</p>\\n      <button mdl-button mdl-button-type=\\\"raised\\\" mdl-colored=\\\"primary\\\" mdl-ripple (click)=\\\"testRemainingStorage()\\\">Test remaining local storage           \\n      </button>\\n      <div *ngIf=\\\"remainingLocalStorageSpace\\\">\\n        <p>You have {{remainingLocalStorageSpace}} B of local storage remaining which is available for use by this webapp.</p>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"!testLocalStorage\\\">\\n      <p>\\n        This webapp relies upon local storage working within your browser. Your browser does not support local storage. Please download\\n        and use a modern standards compliant browser such as\\n        <a href=\\\"https://www.google.com.au/chrome/browser/desktop/\\\">Chrome</a> or\\n        <a href=\\\"https://www.mozilla.org/en-GB/firefox/new/\\\">Firefox</a> to use this webapp.\\n      </p>\\n    </div>\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/storage-management.component.html\n ** module id = 78\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\n\n@Component({\n  selector: 'my-specifications',\n  template: require('./specifications.component.html')\n})\nexport class SpecificationsComponent implements OnInit {\n  machines: string[];\n  specifications = {};\n  currentMachine: string;\n\n  newMachineID: string;\n  newMachineIDValid: boolean = false;\n  newModel: string;\n  newModelValid: boolean = false;\n  newMachineValid: boolean = false;\n  edittingMachine: string = null;\n\n  newEnergy: number;\n  newEnergyValid: boolean = false;\n  newR50: number;\n  newR50Valid: boolean = false;\n  newEnergySetValid: boolean = false;\n  edittingEnergy: string = null;\n\n  newApplicator: string;\n  newApplicatorValid: boolean = false;\n  edittingApplicator: string = null;\n\n  newSSD: number;\n  newSSDValid: boolean = false;\n  edittingSSD: string = null;\n\n\n  constructor(\n    private myTitleService: TitleService\n  ) {}\n\n\n  ngOnInit() {\n    this.myTitleService.setTitle('Specifications');\n    \n    this.changeSpecifications(JSON.parse(localStorage.getItem(\"specifications\")));    \n  }\n\n  changeSpecifications(newSpecifications: {}) {\n    this.specifications = newSpecifications;\n    if (this.specifications == null) {\n      this.specifications = {};\n      this.machines = [];\n    }\n    else {\n      this.machines = Object.keys(this.specifications).sort();\n\n      this.currentMachine = JSON.parse(localStorage.getItem(\"current_machine\"));\n      if (this.currentMachine == null || this.specifications[this.currentMachine] === undefined) {\n        this.currentMachine = this.machines[0];\n      }\n    }\n    this.updateSpecifications()\n  } \n\n  updateSpecifications() {\n    localStorage.setItem(\"specifications\", JSON.stringify(this.specifications));\n  }\n\n  changeCurrentMachine(machine: string) {\n    this.currentMachine = machine;\n    this.updateCurrentMachine()\n  }\n\n  checkNewMachineIDInput() {\n    if (this.specifications[this.newMachineID] == null && this.newMachineID != null && this.newMachineID != \"\") {\n      this.newMachineIDValid = true;\n    }\n    else {\n      this.newMachineIDValid = false;\n    }\n\n    this.checkNewMachineValid()\n  }\n\n  checkNewModelInput() {\n    if (this.newModel != null && this.newModel != \"\") {\n      this.newModelValid = true;\n    }\n    else {\n      this.newModelValid = false;\n    }\n\n    this.checkNewMachineValid()\n  }\n\n  checkNewMachineValid() {\n    this.newMachineValid = (this.newMachineIDValid && this.newModelValid);\n  }\n\n  addMachineID() {\n    if (this.newMachineValid) {\n      this.machines.push(this.newMachineID);\n      this.specifications[this.newMachineID] = {};\n      this.specifications[this.newMachineID][\"model\"] = this.newModel;\n      this.specifications[this.newMachineID][\"energy\"] = [];\n      this.specifications[this.newMachineID][\"R50\"] = {};\n      this.specifications[this.newMachineID][\"applicator\"] = [];\n      this.specifications[this.newMachineID][\"ssd\"] = [];\n\n      this.changeCurrentMachine(this.newMachineID);\n\n      this.newMachineID = null;\n      this.newModel = null;\n      this.newMachineIDValid = false;\n      this.newModelValid = false;\n      this.newMachineValid = false;      \n\n      this.updateSpecifications();\n    }\n  }\n\n  checkNewEnergyInput() {\n    if (this.specifications[this.currentMachine][\"energy\"].indexOf(Number(this.newEnergy)) < 0 && this.newEnergy != null && !isNaN(Number(this.newEnergy))) {\n      this.newEnergyValid = true;\n    }\n    else {\n      this.newEnergyValid = false;\n    }\n\n    this.checkNewEnergySetValid()\n  }\n\n  checkNewR50Input() {\n    if (this.newR50 != null && !isNaN(Number(this.newR50))) {\n      this.newR50Valid = true;\n    }\n    else {\n      this.newR50Valid = false;\n    }\n\n    this.checkNewEnergySetValid()\n  }\n\n  checkNewEnergySetValid() {\n    this.newEnergySetValid = (this.newEnergyValid && this.newR50Valid);\n  }\n\n  addEnergy() {\n    if (this.newEnergySetValid) {\n      this.specifications[this.currentMachine][\"energy\"].push(Number(this.newEnergy));\n      this.specifications[this.currentMachine][\"R50\"][this.newEnergy] = Number(this.newR50);\n\n      this.newEnergy = null;\n      this.newR50 = null;\n      this.newEnergyValid = false;\n      this.newR50Valid = false;\n      this.newEnergySetValid = false;\n\n      this.updateSpecifications();\n    }\n\n  }\n\n  checkNewApplicatorInput() {\n    if (this.specifications[this.currentMachine][\"applicator\"].indexOf(this.newApplicator.toLowerCase()) < 0 && this.newApplicator != null && this.newApplicator != \"\") {\n      this.newApplicatorValid = true;\n    }\n    else {\n      this.newApplicatorValid = false;\n    }\n  }\n\n  addApplicator() {\n    if (this.newApplicatorValid) { \n      this.specifications[this.currentMachine][\"applicator\"].push(this.newApplicator.toLowerCase());\n\n      this.newApplicator = null;\n      this.newApplicatorValid = false;\n\n      this.updateSpecifications();\n    }\n  }\n\n  checkNewSSDInput() {\n    if (this.specifications[this.currentMachine][\"ssd\"].indexOf(Number(this.newSSD)) < 0 && this.newSSD != null && !isNaN(Number(this.newSSD))) {\n      this.newSSDValid = true;\n    }\n    else {\n      this.newSSDValid = false;\n    }\n  }\n\n  addSSD() {\n    if (this.newSSDValid) {\n    this.specifications[this.currentMachine][\"ssd\"].push(Number(this.newSSD));\n\n    this.newSSD = null;\n    this.newSSDValid = false;\n\n    this.updateSpecifications();\n    }\n  }\n\n  updateCurrentMachine() {\n    localStorage.setItem(\"current_machine\", JSON.stringify(this.currentMachine));\n  }\n\n  editMachine(machine:string) {\n    this.currentMachine = null;\n    this.edittingMachine = machine;\n  }\n\n  finishMachineEdit(machine: any, idInput: any, modelInput: any) {\n    if (idInput != machine) {\n      this.specifications[idInput] = this.specifications[machine]\n      delete this.specifications[machine]\n      this.machines = Object.keys(this.specifications).sort();\n    }\n    this.specifications[idInput][\"model\"] = modelInput;\n\n    this.updateSpecifications();\n\n    this.currentMachine = this.edittingMachine;\n    this.edittingMachine = null;\n  }\n\n  deleteMachine(machine:string) {\n    let index = this.machines.indexOf(machine);\n    this.machines.splice(index, 1);\n    delete this.specifications[machine];\n\n    this.edittingMachine = null;\n\n    this.updateSpecifications();\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/specifications.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Machine specifications editing</h5>\\n    <p>\\n      Use this component to define your centre's machine specifications. \\n      These will be used throughout this web app to silo each model into its own specific machine ID, applicator, energy, ssd combination.\\n    </p>\\n    <p>\\n      <font color=\\\"#d3d3d3\\\">\\n        Currently the editing and deleting of energy, applicator, and SSD entries is not yet implimented.\\n      </font>\\n    </p>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\" style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Machine IDs</h2>\\n      </mdl-card-title>\\n\\n      <mdl-list>\\n        \\n        <div *ngFor=\\\"let machine of machines\\\">\\n        \\n          <div *ngIf=\\\"machine!=edittingMachine\\\">\\n            <mdl-list-item lines=\\\"3\\\">\\n              <mdl-list-item-primary-content>\\n                <!--<div (click)=\\\"editMachine(machine)\\\">-->\\n                <div>\\n                  <span>{{machine}}</span>\\n                  <mdl-list-item-text-body>{{specifications[machine].model}}</mdl-list-item-text-body>\\n                </div>\\n              </mdl-list-item-primary-content>\\n              <mdl-list-item-secondary-action>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"machine==currentMachine || edittingMachine!=null\\\"\\n                  (click)=\\\"changeCurrentMachine(machine)\\\"><mdl-icon>dashboard</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button *ngIf=\\\"machine!=edittingMachine\\\"\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"false\\\"\\n                  (click)=\\\"editMachine(machine)\\\"><mdl-icon>edit</mdl-icon>       \\n                </button>\\n              </mdl-list-item-secondary-action>\\n            </mdl-list-item>\\n\\n          </div>\\n\\n          <div *ngIf=\\\"machine==edittingMachine\\\">\\n            <mdl-list-item lines=\\\"3\\\">\\n              <mdl-list-item-primary-content>\\n                <mdl-textfield #machineIDTextField\\n                  type=\\\"text\\\"\\n                  label=\\\"Machine ID\\\"\\n                  [value]=\\\"machine\\\"\\n                  (keyup.enter)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"\\n                  floating-label\\n                  style=\\\"display:inline;\\\"></mdl-textfield>\\n                <mdl-textfield #modelTextField\\n                  type=\\\"text\\\"\\n                  label=\\\"Model\\\"\\n                  [value]=\\\"specifications[machine].model\\\"\\n                  (keyup.enter)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"\\n                  floating-label\\n                  style=\\\"display:inline;\\\"></mdl-textfield>\\n              </mdl-list-item-primary-content>\\n\\n              <mdl-list-item-secondary-action>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"machine!=edittingMachine\\\"\\n                  (click)=\\\"deleteMachine(machine)\\\"><mdl-icon>delete</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  mdl-colored=\\\"primary\\\" \\n                  [disabled]=\\\"machine==currentMachine || edittingMachine!=null\\\"\\n                  (click)=\\\"changeCurrentMachine(machine)\\\"><mdl-icon>dashboard</mdl-icon>       \\n                </button>\\n                <button\\n                  mdl-button\\n                  mdl-button-type=\\\"icon\\\"\\n                  mdl-ripple\\n                  [disabled]=\\\"false\\\"\\n                  (click)=\\\"finishMachineEdit(machine, machineIDTextField.value, modelTextField.value)\\\"><mdl-icon>done</mdl-icon>       \\n                </button>\\n              </mdl-list-item-secondary-action>\\n            </mdl-list-item>\\n\\n          </div>\\n        </div>\\n\\n\\n      </mdl-list>\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Machine ID\\\"\\n          [(ngModel)]=\\\"newMachineID\\\"\\n          (input)=\\\"checkNewMachineIDInput()\\\"\\n          (keyup.enter)=\\\"addMachineID()\\\"\\n          floating-label\\n          style=\\\"width:100%\\\"></mdl-textfield>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"Machine Make and Model\\\"\\n          [(ngModel)]=\\\"newModel\\\"\\n          (input)=\\\"checkNewModelInput()\\\"\\n          angulartics2On=\\\"keyup.enter\\\" angularticsEvent=\\\"Specifications | Enter press | Add machine ID\\\"\\n          (keyup.enter)=\\\"addMachineID()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newMachineValid\\\"\\n          mdl-button \\n          mdl-button-type=\\\"mini-fab\\\"\\n          mdl-ripple\\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Specifications | Button click | Add machine ID\\\"\\n          (click)=\\\"addMachineID()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Energies for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let energy of specifications[currentMachine].energy\\\" lines=\\\"3\\\">\\n            <mdl-list-item-primary-content>\\n              <span>{{energy}} MeV</span>\\n              <mdl-list-item-text-body>R50: {{specifications[currentMachine].R50[energy]}} cm</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Energy (MeV)\\\"\\n          [(ngModel)]=\\\"newEnergy\\\"\\n          (input)=\\\"checkNewEnergyInput()\\\"\\n          (keyup.enter)=\\\"addEnergy()\\\"\\n          floating-label\\n          style=\\\"width:100%\\\"></mdl-textfield>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"R50 for New Energy (cm)\\\"\\n          [(ngModel)]=\\\"newR50\\\"\\n          (input)=\\\"checkNewR50Input()\\\"\\n          angulartics2On=\\\"keyup.enter\\\" angularticsEvent=\\\"Specifications | Enter press | Add energy\\\"\\n          (keyup.enter)=\\\"addEnergy()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newEnergySetValid\\\" \\n          mdl-button \\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Specifications | Button click | Add energy\\\"\\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addEnergy()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>Applicators for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let applicator of specifications[currentMachine].applicator\\\">\\n            <mdl-list-item-primary-content>\\n              <mdl-list-item-text-body>{{applicator}}</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New Applicator\\\"\\n          [(ngModel)]=\\\"newApplicator\\\"\\n          (input)=\\\"checkNewApplicatorInput()\\\"\\n          angulartics2On=\\\"keyup.enter\\\" angularticsEvent=\\\"Specifications | Enter press | Add applicator\\\"\\n          (keyup.enter)=\\\"addApplicator()\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newApplicatorValid\\\" \\n          mdl-button \\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Specifications | Button click | Add applicator\\\"\\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addApplicator()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n  <div *ngIf=\\\"currentMachine\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\"  style=\\\"width:100%\\\">\\n      <mdl-card-title>\\n        <h2 mdl-card-title-text>SSDs for {{currentMachine}}</h2>\\n      </mdl-card-title>\\n        <mdl-list>\\n          <mdl-list-item *ngFor=\\\"let ssd of specifications[currentMachine].ssd\\\">\\n            <mdl-list-item-primary-content>\\n              <mdl-list-item-text-body>{{ssd}} cm</mdl-list-item-text-body>\\n            </mdl-list-item-primary-content>\\n            <mdl-list-item-secondary-action>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>done</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>edit</mdl-icon>       \\n              </button>\\n              <button\\n                mdl-button\\n                mdl-button-type=\\\"icon\\\"\\n                mdl-ripple\\n                [disabled]=\\\"true\\\"\\n                (click)=\\\"null\\\"><mdl-icon>delete</mdl-icon>       \\n              </button>\\n            </mdl-list-item-secondary-action>\\n          </mdl-list-item>\\n        </mdl-list>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <mdl-textfield\\n          type=\\\"text\\\"\\n          label=\\\"New SSD (cm)\\\"\\n          [(ngModel)]=\\\"newSSD\\\"\\n          (input)=\\\"checkNewSSDInput()\\\"\\n          (keyup.enter)=\\\"addSSD()\\\"\\n          angulartics2On=\\\"keyup.enter\\\" angularticsEvent=\\\"Specifications | Enter press | Add ssd\\\"\\n          floating-label\\n          style=\\\"width:70%\\\"></mdl-textfield>\\n        <button \\n          [disabled]=\\\"!newSSDValid\\\" \\n          mdl-button \\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Specifications | Button click | Add ssd\\\"\\n          mdl-button-type=\\\"mini-fab\\\"\\n          (click)=\\\"addSSD()\\\">\\n          <mdl-icon>add</mdl-icon>\\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n  </div>\\n\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--6-col-phone\\\">\\n    <h5>Raw specification data editing (optional)</h5>\\n    <p>\\n      If you desire you may edit the raw machine specifications in its raw format below. \\n      Currently error checking on this raw input is not implemented.\\n      Incorrectly editing the data below may cause the web app not to function.\\n      Input data above to determine the data structure required.</p>\\n    <my-json-edit\\n      [input]=\\\"specifications\\\"\\n      (inputUpdated)=\\\"changeSpecifications($event)\\\"\\n      buttonText=\\\"Update Specifications\\\">\\n    </my-json-edit>\\n  </div>\\n\\n</div>\\n\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/specifications.component.html\n ** module id = 80\n ** module chunks = 0\n **/","import { Component, OnInit, ApplicationRef, ViewChild } from '@angular/core';\n\nimport { Router } from '@angular/router';\n\nimport { Coordinates } from './coordinates'\nimport { Parameterisation } from './parameterisation';\nimport { InsertData } from './insert-data';\n\nimport { TitleService } from './title.service';\n\nimport { safeLoad } from 'js-yaml';\n\ndeclare var Module: any;\ndeclare var FS: any;\n\n// declare var yaml: any;\n// declare var pypyjs: any;\n\n@Component({\n  selector: 'my-dicom',\n  template: require('./dicom.component.html'),\n  styles: ['./dicom.component.css']\n})\nexport class DicomComponent implements OnInit {\n  parameterisation: Parameterisation = {\n    insert: {\n      x: [0],\n      y: [0]\n    },\n    width: null,\n    length: null,\n    circle: null,\n    ellipse: null\n  };\n\n  insertData: InsertData = {\n    machine: null,\n    parameterisation: this.parameterisation,\n    energy: null,\n    applicator: null,\n    ssd: null,\n    factor: null\n  }\n\n  dicomWarning: string;\n  dicomExitCode = 1;\n\n  insertList: any[];\n\n  reader = new FileReader();\n\n  constructor(\n    private myTitleService: TitleService,\n    private router: Router\n  ) { }\n\n  @ViewChild('dicomOutput') dicomOutputDir: any;\n  @ViewChild('getBlockDataButton') getBlockDataButton: any;\n\n\n  ngOnInit() {\n    window['dicomData'] = ' ';\n\n    this.reader.onload = () => this.onceFileIsLoaded();\n    \n    let insertListString = localStorage.getItem('dicom_insertList')\n    if (insertListString) {\n      this.insertList = JSON.parse(insertListString);\n    }\n    else {\n      this.insertList = []\n    }\n\n    // localStorage.removeItem('dicomPrint');\n    Module.print = this.sendDicomDumpToGlobalVariable;\n    // Module.printErr = this.sendDicomDumpToLocalStorage;\n    this.myTitleService.setTitle('Dicom');\n\n    // pypyjs.exec(\"import json; print json.dumps({'hello': 'world'})\")\n    // pypyjs.exec(\"import dicom; print json.dumps({'hello': 'world'})\")\n  }\n\n  sendDicomDumpToGlobalVariable(print: any) {\n    window['dicomData'] = window['dicomData'] + '\\n' + print\n  }\n\n  updateDicomWarning() {\n    let status = Number(localStorage.getItem('dicomLoadStatus'));\n    if (status == 0) {\n      this.getBlockDataButton.disabled = false;\n      this.dicomWarning = null;\n    }\n    else {\n      this.getBlockDataButton.disabled = true;\n      this.dicomWarning = 'An error occured while trying to find the block data within the provided Dicom file.';\n    }\n  }\n\n  onceFileIsLoaded() {\n    let content = new Int8Array(this.reader.result);\n    console.log(content.length);\n    let fileName = 'dicomfile';\n\n    if (FS.isFile(fileName)) {\n      FS.unlink(fileName);\n    }\n    FS.writeFile(fileName, content, {encoding: \"binary\"});\n\n    let exit_orig = Module.exit;    \n    Module.exit = (status: any) => {\n      localStorage.setItem('dicomLoadStatus', status);\n      exit_orig(status);\n    }\n    Module.callMain(['dcmdump', fileName, '--print-all']);\n\n    Module.exit = exit_orig;\n\n    console.log(Module)\n\n    this.updateDicomWarning()\n    FS.unlink(fileName);\n  }\n\n  openFile(event: any) {\n\n    if (typeof event.target !== 'undefined') {\n      console.log(event.target.files);\n      let file = event.target.files[0];\n\n      window['dicomData'] = ' '\n\n      this.reader.readAsArrayBuffer(file);\n    }\n    else {\n      console.log(event);\n    }\n\n  }\n\n  convertDicomDumpToDict(dump: string) {\n    let yamlConvert = dump.replace(/\\s*#[^#\\n]*\\n/g,'\\n');\n    yamlConvert = yamlConvert.replace(/\\s*#[^#\\n]*$/g,'');\n    yamlConvert = yamlConvert.replace(/^\\n*/,'');\n    yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\))/g,'$1:')\n    yamlConvert = yamlConvert.replace(\n      /(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) SQ \\(Sequence with undefined length #=\\d+\\)/g,\n      '$1')\n    yamlConvert = yamlConvert.replace(\n      /(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) na \\(Item with undefined length #=\\d+\\)/g,\n      '$1')\n    yamlConvert = yamlConvert.replace(\n      / *\\(fffe,e00d\\): na \\(ItemDelimitationItem\\) *\\n/g,\n      '')\n    yamlConvert = yamlConvert.replace(\n      / *\\(fffe,e0dd\\): na \\(SequenceDelimitationItem\\)\\n/g,\n      '')\n    yamlConvert = yamlConvert.replace(\n      /(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) (.*)/g,\n      '$1 \"$2\"')\n    yamlConvert = yamlConvert.replace(/\\\\/g, ', ')\n    yamlConvert = yamlConvert.replace(/\\(fffe,e000\\):/g, ' - ')\n\n    yamlConvert = safeLoad(yamlConvert);\n\n    return yamlConvert;\n  }\n\n  convertBlockDataToCoords(blockData: string): Coordinates {\n    let listString = /\\[[, \\d\\.-]*\\]/.exec(blockData).toString();\n\n    let parsedData = JSON.parse('{ \"data\": ' + listString + '}');\n\n    let x: number[] = [];\n    let y: number[] = [];\n    let i = 0;\n    for (let num of parsedData['data']) {\n      if (i % 2 == 0) {\n        x.push(parseFloat((num / 10).toFixed(2)));\n      }\n      else {\n        y.push(parseFloat((num / 10).toFixed(2)));\n      }\n      i++;\n    }\n    let insert = {\n      \"x\": x,\n      \"y\": y\n    };\n\n    return insert;\n  }\n\n  dicomPullNumber(input: string): number {\n    return Number(input.replace(/.*\\[([\\d\\.-]*)\\].*/, \"$1\"));\n  }\n\n  dicomPullString(input: string): string {\n    return input.replace(/.*\\[(.*)\\].*/, \"$1\");\n  }\n\n  getBlockData() {\n    let dicomPrint = window['dicomData'];\n    let dicomDict = this.convertDicomDumpToDict(dicomPrint);\n\n    // console.log(dicomDict)\n\n    this.insertList = [];\n\n    let beamSequence = dicomDict[\"(300a,00b0)\"];\n    for (let beam of beamSequence) {\n      let temp = beam[\"(300a,00f4)\"]\n\n      if (temp != undefined) {\n        let blockData = beam[\"(300a,00f4)\"][0][\"(300a,0106)\"];\n        let coordinates = this.convertBlockDataToCoords(blockData);\n\n        let applicator = <string> null\n        try {\n          applicator = this.dicomPullString(\n            beam[\"(300a,0107)\"][0][\"(300a,0108)\"]);\n        }\n        catch(err) {\n          applicator = null\n          console.log(err)\n        }\n\n        let energy = <number> null\n        try {\n          energy = this.dicomPullNumber(\n            beam[\"(300a,0111)\"][0][\"(300a,0114)\"]);\n        }\n        catch(err) {\n          energy = null\n          console.log(err)\n        }\n\n        let ssd = <number> null\n        try {\n          ssd = this.dicomPullNumber(\n            beam[\"(300a,0111)\"][0][\"(300a,0130)\"]) / 10;\n        }\n        catch(err) {\n          ssd = null\n          console.log(err)\n        }\n        \n        let machine = <string> null\n        try {\n          machine = this.dicomPullString(\n          beam[\"(300a,00b2)\"]);\n        }\n        catch(err) {\n          machine = null\n          console.log(err)\n        }\n\n        let insert = {\n          \"machine\": machine,\n          \"coordinates\": coordinates,\n          \"applicator\": applicator.toLowerCase(),\n          \"energy\": energy,\n          \"ssd\": ssd\n        }\n        this.insertList.push(insert)\n      }\n\n    }\n    localStorage.setItem('dicom_insertList', JSON.stringify(this.insertList));\n  }\n\n  sendToParameterisation(insert: any) {\n    this.insertUpdated(insert['coordinates']);    \n\n    this.insertData['machine'] = insert['machine'];\n    this.insertData['parameterisation'] = this.parameterisation\n    this.insertData['energy'] = insert['energy'];\n    this.insertData['applicator'] = insert['applicator'];\n    this.insertData['ssd'] = insert['ssd'];\n\n    localStorage.setItem(\n      \"last_insertData\", JSON.stringify(this.insertData)\n    );\n\n    this.router.navigate([\"/parameterise\"])\n  }\n\n  parameterisationFromLocalStorage(localStorageParameterisationString: string) {\n    let localStorageParameterisation = JSON.parse(localStorageParameterisationString); \n    this.parameterisation.insert = localStorageParameterisation['insert'];\n    this.parameterisation.width = localStorageParameterisation['width'];\n    this.parameterisation.length = localStorageParameterisation['length'];\n    this.parameterisation.circle = localStorageParameterisation['circle'];\n    this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n  }\n\n  insertUpdated(insert: any) {\n    let localStorageParameterisation = localStorage.getItem(JSON.stringify(insert))\n    if (localStorageParameterisation) {\n      this.parameterisationFromLocalStorage(localStorageParameterisation);\n    }\n    else {\n      this.parameterisation.insert = insert;\n      this.parameterisation.width = null;\n      this.parameterisation.length = null;\n      this.parameterisation.circle = null;\n      this.parameterisation.ellipse = null;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/dicom.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <h5>Locally reading Dicom patient plan files</h5>\\n    <p>\\n      Use this component to read a dicom patient plan file and extract the electron insert shape. \\n      Export a dicom patient plan file that containts an electron plan from your planning system then open it using the file input box below.\\n    </p>\\n    <p>\\n      For testing purposes you can download a demo dicom file from <a href=\\\"/30x16x30_RandomElectronShapes.dcm\\\">here</a>.\\n    </p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <input type='file' (change)='openFile($event)'>\\n    <div *ngIf=\\\"dicomWarning\\\">{{dicomWarning}}</div>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <button #getBlockDataButton\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      angulartics2On=\\\"click\\\" angularticsEvent=\\\"Dicom | Get dicom insert data\\\"\\n      [disabled]=\\\"true\\\"\\n      (click)=\\\"getBlockData()\\\">Get Dicom Insert Data\\n    </button>\\n\\n    \\n  </div>\\n\\n  <div *ngFor=\\\"let insert of insertList\\\" class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <mdl-card mdl-shadow=\\\"6\\\">\\n\\n\\n      <my-send-to-parameterisation\\n        [machine]=insert.machine\\n        [coordinates]=insert.coordinates\\n        [applicator]=insert.applicator\\n        [ssd]=insert.ssd\\n        [energy]=insert.energy>\\n      </my-send-to-parameterisation>\\n\\n      <mdl-card-actions mdl-card-border>\\n        <button\\n          mdl-button \\n          mdl-ripple\\n          angulartics2On=\\\"click\\\" angularticsEvent=\\\"Dicom | Send to parameterisation\\\"\\n          (click)=\\\"sendToParameterisation(insert)\\\">Send to parameterisation           \\n        </button>\\n      </mdl-card-actions>\\n    </mdl-card>\\n    \\n\\n\\n    <!--<p>{{insert | json}}</p>-->\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <h5>Further information</h5>\\n    <p>This Dicom loader does not send the Dicom file off to a server. The entire reading of the dicom file is done within javascript.\\n    You can confirm this yourself by using the chrome web browser, pressing 'Ctrl + Shift + I'\\n    and then clicking on the network tab. When the file is chosen, then the block data is pulled and sent to parameterisation,\\n    at no point in this interaction is there network traffic.</p>\\n\\n    <p>The only data that will be sent to the server will be on either the paremeterisation tab or the model tab, and this data will\\n      just consist of x and y coordinates or widths, lengths, and factors.\\n    </p>\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/dicom.component.html\n ** module id = 117\n ** module chunks = 0\n **/","\"use strict\";\nvar core_1 = require('@angular/core');\nvar angulartics2_1 = require('../core/angulartics2');\nvar Angulartics2GoogleAnalytics = (function () {\n    function Angulartics2GoogleAnalytics(angulartics2) {\n        var _this = this;\n        this.angulartics2 = angulartics2;\n        this.angulartics2.settings.pageTracking.trackRelativePath = true;\n        this.angulartics2.settings.ga = {\n            additionalAccountNames: [],\n            userId: null\n        };\n        this.angulartics2.pageTrack.subscribe(function (x) { return _this.pageTrack(x.path); });\n        this.angulartics2.eventTrack.subscribe(function (x) { return _this.eventTrack(x.action, x.properties); });\n        this.angulartics2.exceptionTrack.subscribe(function (x) { return _this.exceptionTrack(x); });\n        this.angulartics2.setUsername.subscribe(function (x) { return _this.setUsername(x); });\n        this.angulartics2.setUserProperties.subscribe(function (x) { return _this.setUserProperties(x); });\n        this.angulartics2.userTimings.subscribe(function (x) { return _this.userTimings(x); });\n    }\n    Angulartics2GoogleAnalytics.prototype.pageTrack = function (path) {\n        if (typeof _gaq !== 'undefined' && _gaq) {\n            _gaq.push(['_trackPageview', path]);\n            for (var _i = 0, _a = this.angulartics2.settings.ga.additionalAccountNames; _i < _a.length; _i++) {\n                var accountName = _a[_i];\n                _gaq.push([accountName + '._trackPageview', path]);\n            }\n            ;\n        }\n        if (typeof ga !== 'undefined' && ga) {\n            if (this.angulartics2.settings.ga.userId) {\n                ga('set', '&uid', this.angulartics2.settings.ga.userId);\n            }\n            ga('send', 'pageview', path);\n            for (var _b = 0, _c = this.angulartics2.settings.ga.additionalAccountNames; _b < _c.length; _b++) {\n                var accountName = _c[_b];\n                ga(accountName + '.send', 'pageview', path);\n            }\n            ;\n        }\n    };\n    Angulartics2GoogleAnalytics.prototype.eventTrack = function (action, properties) {\n        if (!properties || !properties.category) {\n            properties = properties || {};\n            properties.category = 'Event';\n        }\n        if (properties.value) {\n            var parsed = parseInt(properties.value, 10);\n            properties.value = isNaN(parsed) ? 0 : parsed;\n        }\n        if (ga) {\n            var eventOptions = {\n                eventCategory: properties.category,\n                eventAction: action,\n                eventLabel: properties.label,\n                eventValue: properties.value,\n                nonInteraction: properties.noninteraction,\n                page: properties.page || location.hash.substring(1) || location.pathname,\n                userId: this.angulartics2.settings.ga.userId\n            };\n            this.setDimensionsAndMetrics(properties);\n            if (this.angulartics2.settings.ga.transport) {\n                ga('send', 'event', eventOptions, { transport: this.angulartics2.settings.ga.transport });\n            }\n            else {\n                ga('send', 'event', eventOptions);\n            }\n            for (var _i = 0, _a = this.angulartics2.settings.ga.additionalAccountNames; _i < _a.length; _i++) {\n                var accountName = _a[_i];\n                ga(accountName + '.send', 'event', eventOptions);\n            }\n        }\n        else if (_gaq) {\n            _gaq.push(['_trackEvent', properties.category, action, properties.label, properties.value, properties.noninteraction]);\n        }\n    };\n    Angulartics2GoogleAnalytics.prototype.exceptionTrack = function (properties) {\n        if (!properties || !properties.appId || !properties.appName || !properties.appVersion) {\n            console.error('Must be setted appId, appName and appVersion.');\n            return;\n        }\n        if (properties.fatal === undefined) {\n            console.log('No \"fatal\" provided, sending with fatal=true');\n            properties.exFatal = true;\n        }\n        properties.exDescription = properties.description;\n        ga('send', 'exception', properties);\n    };\n    Angulartics2GoogleAnalytics.prototype.setUsername = function (userId) {\n        this.angulartics2.settings.ga.userId = userId;\n    };\n    Angulartics2GoogleAnalytics.prototype.setUserProperties = function (properties) {\n        this.setDimensionsAndMetrics(properties);\n    };\n    Angulartics2GoogleAnalytics.prototype.userTimings = function (properties) {\n        if (!properties || !properties.timingCategory || !properties.timingVar || !properties.timingValue) {\n            console.error('Properties timingCategory, timingVar, and timingValue are required to be set.');\n            return;\n        }\n        if (ga) {\n            ga('send', 'timing', properties);\n        }\n    };\n    Angulartics2GoogleAnalytics.prototype.setDimensionsAndMetrics = function (properties) {\n        if (ga) {\n            for (var idx = 1; idx <= 200; idx++) {\n                if (properties['dimension' + idx.toString()]) {\n                    ga('set', 'dimension' + idx.toString(), properties['dimension' + idx.toString()]);\n                }\n                if (properties['metric' + idx.toString()]) {\n                    ga('set', 'metric' + idx.toString(), properties['metric' + idx.toString()]);\n                }\n            }\n        }\n    };\n    Angulartics2GoogleAnalytics.decorators = [\n        { type: core_1.Injectable },\n    ];\n    Angulartics2GoogleAnalytics.ctorParameters = [\n        { type: angulartics2_1.Angulartics2, },\n    ];\n    return Angulartics2GoogleAnalytics;\n}());\nexports.Angulartics2GoogleAnalytics = Angulartics2GoogleAnalytics;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/angulartics2/src/providers/angulartics2-google-analytics.js\n ** module id = 118\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\n\nimport { Angulartics2 } from 'angulartics2';\nimport { Angulartics2GoogleAnalytics } from 'angulartics2/src/providers/angulartics2-google-analytics';\n\nimport { ElectronApiService } from './electron-api.service';\nimport { TitleService } from './title.service';\n\n@Component({\n  selector: 'my-app',\n  template: require('./app.component.html'),\n})\nexport class AppComponent implements OnInit {\n  pageTitle: string;\n\n  constructor(\n    private electronApiService: ElectronApiService,\n    private myTitleService: TitleService,\n    private router: Router,\n    private title:Title,\n    angulartics2: Angulartics2, \n    angulartics2GoogleAnalytics: Angulartics2GoogleAnalytics\n  ) { \n    router.events\n      .filter(event => event instanceof NavigationEnd)\n      .subscribe(() => {\n        this.pageTitle = this.myTitleService.getTitle();\n        this.title.setTitle(\n          this.myTitleService.getTitle() + \n          ' | Electron Insert Factor Modelling');\n      })\n  }\n\n  ngOnInit() {\n    // let redirect = sessionStorage['redirect'];\n    // delete sessionStorage['redirect'];\n    // if (redirect && redirect != location.href) {\n    //   history.replaceState(null, null, redirect);\n    //   this.router.navigate([redirect])\n    // }\n    \n    this.electronApiService.wakeUpServer();\n\n    this.pageTitle = this.myTitleService.getTitle();\n    this.title.setTitle(\n      this.myTitleService.getTitle() + \n      ' | Electron Insert Factor Modelling');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.component.ts\n **/","module.exports = \"\\n<!--<md-sidenav-layout>\\n\\n  <md-sidenav #sidenav mode=\\\"side\\\" class=\\\"app-sidenav\\\">\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </md-sidenav>\\n\\n  <md-toolbar color=\\\"primary\\\">\\n    <button class=\\\"app-icon-button\\\" (click)=\\\"sidenav.toggle()\\\">\\n      <i class=\\\"material-icons app-toolbar-menu\\\">menu</i>\\n    </button>\\n\\n    {{pageTitle}}\\n\\n    <span class=\\\"app-toolbar-filler\\\"></span>\\n    <button md-button (click)=\\\"isDarkTheme = !isDarkTheme\\\">TOGGLE DARK THEME</button>\\n  </md-toolbar>\\n\\n  <div class=\\\"app-content\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n\\n\\n</md-sidenav-layout>-->\\n\\n\\n<mdl-layout mdl-layout-fixed-drawer mdl-layout-fixed-header>\\n  <mdl-layout-header>\\n    <mdl-layout-header-row>\\n      <mdl-layout-title>{{pageTitle}}</mdl-layout-title>\\n    </mdl-layout-header-row>\\n  </mdl-layout-header>\\n  <mdl-layout-drawer>\\n    <mdl-layout-title>Electron Factors</mdl-layout-title>\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/create-model\\\" routerLinkActive=\\\"active\\\" href>Create electron model</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/use-model\\\" routerLinkActive=\\\"active\\\" href>Use electron model</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/storage\\\" routerLinkActive=\\\"active\\\" href>Storage management</a>\\n    </nav>\\n  </mdl-layout-drawer>\\n  <mdl-layout-content>\\n\\n    <router-outlet></router-outlet>\\n\\n  </mdl-layout-content>\\n</mdl-layout>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/app.component.html\n ** module id = 188\n ** module chunks = 0\n **/","import { Component, Input, OnChanges, ViewChild, AfterViewInit } from '@angular/core';\n\nimport { Coordinates } from './coordinates';\n\ndeclare var Bokeh: any;\n\n@Component({\n  selector: 'my-plot',\n  template: require('./bokeh-plot.html')\n})\nexport class PlotComponent implements OnChanges, AfterViewInit {\n  @Input()\n  insert_x: number[] = null\n  @Input()\n  insert_y: number[] = null\n  @Input()\n  circle: Coordinates = null;\n  @Input()\n  ellipse: Coordinates = null;\n  @Input()\n  enabled: boolean = true;\n  @Input()\n  plot_width: number = 300;\n  @Input()\n  plot_height: number = 300;\n\n  parsedJSON: any;\n  tempSource: any;\n  jsonValid: boolean = true;\n  jsonErrorMessage: string;\n\n  @ViewChild('bokehplot') bokehplot: any;\n\n  plt = Bokeh.Plotting;\n  tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';\n\n  xrange = Bokeh.Range1d(-6, 6);\n  yrange = Bokeh.Range1d(-6, 6);\n  \n  fig = this.plt.figure({\n    title: 'Electron Insert Plot', tools: this.tools,\n    x_range: this.xrange, y_range: this.yrange,\n    plot_width: 300, plot_height: 300\n  });\n\n  source = new Bokeh.ColumnDataSource();\n  doc = new Bokeh.Document();\n\n\n  ngOnChanges() {\n    this.jsonValid = false;\n    this.tempSource = {\n      \"xs\": [[0], [0], [0]],\n      \"ys\": [[0], [0], [0]],\n      \"colour\": [\"navy\", \"firebrick\", \"green\"]\n    }\n    let xAll: number[] = [];\n    let yAll: number[] = [];\n    if (this.enabled) {\n      if (this.insert_x != null && this.insert_y != null) {\n        this.tempSource.xs[0] = this.insert_x.concat(this.insert_x[0]);\n        this.tempSource.ys[0] = this.insert_y.concat(this.insert_y[0]);\n        xAll = xAll.concat(this.tempSource.xs[0]);\n        yAll = yAll.concat(this.tempSource.ys[0]);\n      }\n\n\n      if (this.circle) {\n        if ('x' in this.circle && 'y' in this.circle) {\n          this.tempSource.xs[1] = this.circle.x\n          this.tempSource.ys[1] = this.circle.y\n          xAll = xAll.concat(this.tempSource.xs[1]);\n          yAll = yAll.concat(this.tempSource.ys[1]);\n        }\n      }\n      if (this.ellipse) {\n        if ('x' in this.ellipse && 'y' in this.ellipse) {\n          this.tempSource.xs[2] = this.ellipse.x\n          this.tempSource.ys[2] = this.ellipse.y\n          xAll = xAll.concat(this.tempSource.xs[2]);\n          yAll = yAll.concat(this.tempSource.ys[2]);\n        }\n      }\n    }\n\n    let xMax = Math.max(...xAll);\n    let xMin = Math.min(...xAll);\n    let yMax = Math.max(...yAll);\n    let yMin = Math.min(...yAll);\n\n    let range = Math.max(xMax - xMin, yMax - yMin) * 1.1;\n    let sqXMax = (xMax + xMin) / 2 + range / 2\n    let sqXMin = (xMax + xMin) / 2 - range / 2\n    let sqYMax = (yMax + yMin) / 2 + range / 2\n    let sqYMin = (yMax + yMin) / 2 - range / 2\n\n\n\n    this.fig.attributes.x_range.start = sqXMin;\n    this.fig.attributes.x_range.end = sqXMax;\n    this.fig.attributes.y_range.start = sqYMin;\n    this.fig.attributes.y_range.end = sqYMax;\n    // this.fig.update_range();\n    // console.log(this.fig);\n\n    this.source.data = this.tempSource;\n\n    \n    \n  }\n\n  ngAfterViewInit() {\n    // this.ngOnChanges();\n    this.fig.multi_line({ field: 'xs' }, { field: 'ys' }, {\n      source: this.source,\n      line_width: 2,\n      color: { field: 'colour' }\n    });\n\n    this.doc.add_root(this.fig);\n    Bokeh.embed.add_document_standalone(\n      this.doc, this.bokehplot.nativeElement);\n    \n\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/plot.component.ts\n **/","export class Coordinates {\n\n  constructor(\n    public x: number[],\n    public y: number[]\n  ) { }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/coordinates.ts\n **/","module.exports = \"<div \\n    class=\\\"bk-root\\\" \\n    [style.width]=\\\"plot_width + 'px'\\\" \\n    [style.height]=\\\"plot_height + 'px'\\\">\\n  <div #bokehplot></div>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/bokeh-plot.html\n ** module id = 191\n ** module chunks = 0\n **/","import { Component, OnInit, Input, OnChanges } from '@angular/core';\n\nimport { MdlDefaultTableModel } from 'angular2-mdl';\n\n@Component({\n  selector: 'my-width-length-table',\n  template: require('./width-length-table.component.html'),\n})\nexport class WidthLengthTableComponent implements OnInit {\n  @Input()\n  width: number;\n  @Input()\n  length: number;\n  @Input()\n  enabled: boolean;\n\n  tableData:[any] = [\n      {width:null, length:null}\n  ];\n\n  public tableModel = new MdlDefaultTableModel([\n        {key:'width', name:'Width', sortable:true, numeric:true},\n        {key:'length', name:'Length', sortable:true, numeric:true}\n      ]);\n\n  ngOnChanges() {\n    if (this.enabled) {\n      this.tableData[0].width = this.width;\n      this.tableData[0].length = this.length;\n    }\n    else {\n      this.tableData[0].width = null;\n      this.tableData[0].length = null;\n    }\n\n  }\n\n  ngOnInit() {\n    this.tableModel.addAll(this.tableData);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/width-length-table.component.ts\n **/","module.exports = \"<mdl-table mdl-shadow=\\\"2\\\"\\n  [table-model]=\\\"tableModel\\\">\\n</mdl-table>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/width-length-table.component.html\n ** module id = 193\n ** module chunks = 0\n **/","import { Component, Input, Output, OnChanges, EventEmitter, ViewChild } from '@angular/core';\n\nimport { MyJsonPipe } from './my-json.pipe'\n\nimport { Coordinates } from './coordinates';\n\n\n@Component({\n  selector: 'my-json-input',\n  template: require('./json-input.component.html'),\n})\nexport class JsonInputComponent implements OnChanges {\n  @Input()\n  insert: Coordinates;\n  @Input()\n  jsonDisabled: boolean;\n  @Input()\n  refresh: boolean;\n  @Output()\n  insertUpdated = new EventEmitter();\n  @Output()\n  jsonStatus = new EventEmitter();\n\n  jsonValid: boolean = true;\n  jsonErrorMessage: string;\n\n  @ViewChild('jsonInput') jsonInputDir: any;\n\n  onInput(jsonInput: string) {\n    this.parseAndCheckJSON(jsonInput) \n    this.insertUpdated.emit(this.insert);\n  }\n\n  ngOnChanges() {\n    if (this.refresh) {\n      this.jsonInputDir.value = new MyJsonPipe().transform(this.insert);      \n      this.parseAndCheckJSON(this.jsonInputDir.value);\n      this.refresh = false;\n    }\n  }\n\n  parseAndCheckJSON(jsonInput:string) {\n    let oldJsonValid = this.jsonValid;\n    this.jsonValid = false;\n    try {\n      let parsedJSON = JSON.parse(jsonInput);\n      if ('x' in parsedJSON && 'y' in parsedJSON) {\n        if (parsedJSON.x.length === parsedJSON.y.length) {\n          let x: [number] = parsedJSON.x\n          let y: [number] = parsedJSON.y\n          let insert = {\n            x: x,\n            y: y\n          }\n          this.insert = insert\n          this.jsonValid = true;\n        }\n        else {\n          this.jsonErrorMessage = 'The length of x doesn\\'t match the length of y.';\n        }\n      }\n      else {\n        this.jsonErrorMessage = 'Either x or y is missing.';\n      }\n    }\n    catch(err) {\n      this.jsonErrorMessage = 'Error in JSON input. ' + err ;\n    }\n    finally {\n      if (this.jsonValid != oldJsonValid) {\n        this.jsonStatus.emit(this.jsonValid)\n      }\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/json-input.component.ts\n **/","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'myJson', pure: false})\nexport class MyJsonPipe implements PipeTransform {\n  transform(input: {}): string {\n    let jsonText = JSON.stringify(input, null, 4)\n    jsonText = jsonText.replace(/(-?\\d+(\\.\\d+)?),\\n\\s*/g, \"$1, \");\n    jsonText = jsonText.replace(/null,\\n\\s*/g, \"null, \");\n    // jsonText = jsonText.replace(/:/g, \":\\n\");\n    return jsonText\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/my-json.pipe.ts\n **/","module.exports = \"<mdl-textfield #jsonInput\\n  [value]=\\\"insert | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  rows=\\\"12\\\" \\n  style=\\\"width:100%\\\"\\n  [disabled]=jsonDisabled>\\n</mdl-textfield>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/json-input.component.html\n ** module id = 196\n ** module chunks = 0\n **/","import { Component, Input, Output, OnChanges, EventEmitter, ViewChild, OnInit } from '@angular/core';\n\nimport { MyJsonPipe } from './my-json.pipe'\nimport { JsonPipe } from '@angular/common';\n\n@Component({\n  selector: 'my-json-edit',\n  template: require('./json-edit.component.html'),\n})\nexport class JsonEditComponent implements OnInit {\n  @Input()\n  input: {};\n  @Input()\n  buttonText: string = \"Button\";\n  @Output()\n  inputUpdated = new EventEmitter();\n  @Input()\n  validationCheck: Function = (parsedJSON: {}) => {};\n  @Input()\n  useMyJsonPipe: boolean = false;\n\n  editedInput: {};\n\n  lines: number = 10;\n\n  jsonValid: boolean = true;\n  jsonErrorMessage: string;\n\n  @ViewChild('jsonInput') jsonInputDir: any;\n\n  onInput(jsonInput: string) {\n    this.parseAndCheckJSON(jsonInput)\n  }\n\n  ngOnInit() {\n    let value = \"\";\n    if (this.useMyJsonPipe) {\n       value = new MyJsonPipe().transform(this.input); \n    }\n    else {\n      value = new JsonPipe().transform(this.input);\n    }     \n    this.lines = value.split(/\\r\\n|\\r|\\n/).length;    \n    this.editedInput = this.input;\n  }\n\n  updateInput() {\n    this.input = this.editedInput \n    this.inputUpdated.emit(this.input);\n  }\n\n  parseAndCheckJSON(jsonInput:string) {\n    let oldJsonValid = this.jsonValid;\n    this.jsonValid = false;\n    try {\n      let parsedJSON = JSON.parse(jsonInput);\n      this.validationCheck(parsedJSON);\n      this.editedInput = parsedJSON;\n      this.jsonValid = true;\n    }\n    catch(err) {\n      this.jsonErrorMessage = 'Error in JSON input. ' + err ;\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/json-edit.component.ts\n **/","module.exports = \"<button\\n  mdl-button mdl-button-type=\\\"raised\\\" \\n  mdl-colored=\\\"primary\\\" \\n  mdl-ripple\\n  [disabled]=\\\"!jsonValid || input==editedInput\\\"\\n  (click)=\\\"updateInput()\\\">{{buttonText}} \\n</button>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\\n<mdl-textfield *ngIf=\\\"!useMyJsonPipe\\\" #jsonInput\\n  [value]=\\\"input | json\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  [rows]=\\\"20\\\" \\n  style=\\\"width:100%\\\">\\n</mdl-textfield>\\n<mdl-textfield *ngIf=\\\"useMyJsonPipe\\\" #jsonInput\\n  [value]=\\\"input | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  [rows]=\\\"20\\\" \\n  style=\\\"width:100%\\\">\\n</mdl-textfield>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/json-edit.component.html\n ** module id = 198\n ** module chunks = 0\n **/","import { Component, OnInit, Input} from '@angular/core';\n\nimport { Coordinates } from './coordinates';\n\nimport { MdlDefaultTableModel } from 'angular2-mdl';\n\n@Component({\n  selector: 'my-send-to-parameterisation',\n  template: require('./send-to-parameterisation.component.html'),\n})\nexport class SendToParameterisationComponent implements OnInit {\n  @Input()\n  applicator: string;\n  @Input()\n  machine: string;\n  @Input()\n  energy: number;\n  @Input()\n  ssd: number;\n  @Input()\n  coordinates: Coordinates;\n\n  tableData:[any] = [\n      {machine:null, applicator:null, energy:null, ssd:null}\n  ];\n\n  public tableModel = new MdlDefaultTableModel([\n        {key:'machine', name:'Machine', sortable:true, numeric:false},\n        {key:'applicator', name:'App', sortable:true, numeric:false},\n        {key:'energy', name:'Eng', sortable:true, numeric:true},\n        {key:'ssd', name:'SSD', sortable:true, numeric:true}\n      ]);\n\n  ngOnInit() {\n    this.tableData[0].machine = this.machine;\n    this.tableData[0].applicator = this.applicator;\n    this.tableData[0].energy = this.energy;\n    this.tableData[0].ssd = this.ssd;\n    this.tableModel.addAll(this.tableData);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/send-to-parameterisation.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <my-plot \\n      [insert_x]=\\\"coordinates.x\\\"\\n      [insert_y]=\\\"coordinates.y\\\">\\n    </my-plot>\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <mdl-table mdl-shadow=\\\"2\\\"\\n      [table-model]=\\\"tableModel\\\">\\n    </mdl-table>\\n  </div>\\n</div>\\n\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/send-to-parameterisation.component.html\n ** module id = 200\n ** module chunks = 0\n **/","import { Component, Input, OnChanges, ViewChild, AfterViewInit, OnInit } from '@angular/core';\n\nimport { BokehPcolour } from './bokeh-pcolour'\n\ndeclare var Bokeh: any;\n\n@Component({\n  selector: 'my-bokeh-create-model',\n  template: require('./bokeh-plot.html')\n})\nexport class BokehCreateModelComponent extends BokehPcolour implements AfterViewInit, OnChanges {\n  @Input()\n  title: string = \"Figure Title\";\n  @Input()\n  plot_width: number = 300;\n  @Input()\n  plot_height: number = 300;\n  @Input()\n  scatter_x: number[];\n  @Input()\n  scatter_y: number[];\n  @Input()\n  scatter_z: number[] = [0.5];\n  @Input()\n  pcolour_x: number[];\n  @Input()\n  pcolour_y: number[];\n  @Input()\n  pcolour_z: number[];\n  @Input()\n  enabled: boolean = true;\n\n  @ViewChild('bokehplot') bokehplot: any;\n\n\n  ngOnChanges() {\n    this.updateHoverData()\n    this.runAllUpdates()\n  }\n\n  updateHoverData() {\n    if (this.pcolour_data.x != this.pcolour_x) {\n      this.pcolour_hover_width = <string[]> []\n      for (let x of this.pcolour_x) {\n        this.pcolour_hover_width.push(x.toFixed(1))\n      }\n    }\n    if (this.pcolour_data.y != this.pcolour_y) {\n      this.pcolour_hover_length = <string[]> []\n      for (let y of this.pcolour_y) {\n        this.pcolour_hover_length.push(y.toFixed(1))\n      }\n    }\n    if (this.pcolour_data.z != this.pcolour_z) {\n      this.pcolour_hover_predicted_factor = <string[]> []\n      for (let z of this.pcolour_z) {\n        this.pcolour_hover_predicted_factor.push((Math.round(z*1000)/1000).toFixed(3))\n      }\n    }\n  }\n\n  ngAfterViewInit() {\n    let hover_tool = new Bokeh.HoverTool({\n      tooltips: [\n        [\"Width\", \" @hover_width cm\"],\n        [\"Length\", \" @hover_length cm\"],\n        [\"Predicted Factor\", \" @hover_predicted_factor\"]\n      ],\n      renderers: [\n        this.pcolour_renderer\n      ]\n    })\n    this.fig.add_tools(hover_tool)\n\n    this.doc.add_root(this.fig);\n    Bokeh.embed.add_document_standalone(\n      this.doc, this.bokehplot.nativeElement); \n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/bokeh-create-model.component.ts\n **/","import { OnInit } from '@angular/core';\n\ndeclare var Bokeh: any;\n\nexport class BokehPcolour implements OnInit {\n  title: string = \"Figure Title\";\n  plot_width: number = 300;\n  plot_height: number = 300;\n  scatter_x: number[];\n  scatter_y: number[];\n  scatter_z: number[] = [0.5];\n  pcolour_x: number[];\n  pcolour_y: number[];\n  pcolour_z: number[];\n  enabled: boolean = true;\n\n  pcolour_hover_width: string[] = [];\n  pcolour_hover_length: string[] = [];\n  pcolour_hover_predicted_factor: string[] = [];\n\n  scatter_hover_width: string[] = [];\n  scatter_hover_length: string[] = [];\n  scatter_hover_area: string[] = [];\n  scatter_hover_measured_factor: string[] = [];\n  scatter_hover_predicted_factor: string[] = [];\n\n  plt = Bokeh.Plotting;\n  tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';  \n  fig: any;\n\n  old_scatter_z: number[] = [];\n  old_pcolour_z: number[] = [];\n\n  scatter_c: string[] = [];\n  pcolour_c: string[] = [];\n\n  scatter_data = {\n    x: <number[]> [],\n    y: <number[]> [],\n    z: <number[]> [],\n    hover_width: <string[]> [],\n    hover_length: <string[]> [],\n    hover_area: <string[]> [],\n    hover_measured_factor: <string[]> [],\n    hover_predicted_factor: <string[]> [],\n    c: <string[]> []\n  }\n  scatter_source = new Bokeh.ColumnDataSource({\n    data: this.scatter_data\n  });\n\n  pcolour_renderer: any\n  scatter_renderer: any\n\n  pcolour_data = {\n    x: <number[]> [],\n    y: <number[]> [],\n    z: <number[]> [],\n    hover_width: <string[]> [],\n    hover_length: <string[]> [],\n    hover_predicted_factor: <string[]> [],\n    c: <string[]> []\n  }\n  pcolour_source = new Bokeh.ColumnDataSource({\n    data: this.pcolour_data\n  });\n  doc = new Bokeh.Document();\n\n  viridis_hex = [\n    \"#440154\",\"#440256\",\"#450457\",\"#450559\",\"#46075a\",\"#46085c\",\"#460a5d\",\"#460b5e\",\"#470d60\",\"#470e61\",\"#471063\",\"#471164\",\"#471365\",\"#481467\",\"#481668\",\"#481769\",\"#48186a\",\"#481a6c\",\"#481b6d\",\"#481c6e\",\"#481d6f\",\"#481f70\",\"#482071\",\"#482173\",\"#482374\",\"#482475\",\"#482576\",\"#482677\",\"#482878\",\"#482979\",\"#472a7a\",\"#472c7a\",\"#472d7b\",\"#472e7c\",\"#472f7d\",\"#46307e\",\"#46327e\",\"#46337f\",\"#463480\",\"#453581\",\"#453781\",\"#453882\",\"#443983\",\"#443a83\",\"#443b84\",\"#433d84\",\"#433e85\",\"#423f85\",\"#424086\",\"#424186\",\"#414287\",\"#414487\",\"#404588\",\"#404688\",\"#3f4788\",\"#3f4889\",\"#3e4989\",\"#3e4a89\",\"#3e4c8a\",\"#3d4d8a\",\"#3d4e8a\",\"#3c4f8a\",\"#3c508b\",\"#3b518b\",\"#3b528b\",\"#3a538b\",\"#3a548c\",\"#39558c\",\"#39568c\",\"#38588c\",\"#38598c\",\"#375a8c\",\"#375b8d\",\"#365c8d\",\"#365d8d\",\"#355e8d\",\"#355f8d\",\"#34608d\",\"#34618d\",\"#33628d\",\"#33638d\",\"#32648e\",\"#32658e\",\"#31668e\",\"#31678e\",\"#31688e\",\"#30698e\",\"#306a8e\",\"#2f6b8e\",\"#2f6c8e\",\"#2e6d8e\",\"#2e6e8e\",\"#2e6f8e\",\"#2d708e\",\"#2d718e\",\"#2c718e\",\"#2c728e\",\"#2c738e\",\"#2b748e\",\"#2b758e\",\"#2a768e\",\"#2a778e\",\"#2a788e\",\"#29798e\",\"#297a8e\",\"#297b8e\",\"#287c8e\",\"#287d8e\",\"#277e8e\",\"#277f8e\",\"#27808e\",\"#26818e\",\"#26828e\",\"#26828e\",\"#25838e\",\"#25848e\",\"#25858e\",\"#24868e\",\"#24878e\",\"#23888e\",\"#23898e\",\"#238a8d\",\"#228b8d\",\"#228c8d\",\"#228d8d\",\"#218e8d\",\"#218f8d\",\"#21908d\",\"#21918c\",\"#20928c\",\"#20928c\",\"#20938c\",\"#1f948c\",\"#1f958b\",\"#1f968b\",\"#1f978b\",\"#1f988b\",\"#1f998a\",\"#1f9a8a\",\"#1e9b8a\",\"#1e9c89\",\"#1e9d89\",\"#1f9e89\",\"#1f9f88\",\"#1fa088\",\"#1fa188\",\"#1fa187\",\"#1fa287\",\"#20a386\",\"#20a486\",\"#21a585\",\"#21a685\",\"#22a785\",\"#22a884\",\"#23a983\",\"#24aa83\",\"#25ab82\",\"#25ac82\",\"#26ad81\",\"#27ad81\",\"#28ae80\",\"#29af7f\",\"#2ab07f\",\"#2cb17e\",\"#2db27d\",\"#2eb37c\",\"#2fb47c\",\"#31b57b\",\"#32b67a\",\"#34b679\",\"#35b779\",\"#37b878\",\"#38b977\",\"#3aba76\",\"#3bbb75\",\"#3dbc74\",\"#3fbc73\",\"#40bd72\",\"#42be71\",\"#44bf70\",\"#46c06f\",\"#48c16e\",\"#4ac16d\",\"#4cc26c\",\"#4ec36b\",\"#50c46a\",\"#52c569\",\"#54c568\",\"#56c667\",\"#58c765\",\"#5ac864\",\"#5cc863\",\"#5ec962\",\"#60ca60\",\"#63cb5f\",\"#65cb5e\",\"#67cc5c\",\"#69cd5b\",\"#6ccd5a\",\"#6ece58\",\"#70cf57\",\"#73d056\",\"#75d054\",\"#77d153\",\"#7ad151\",\"#7cd250\",\"#7fd34e\",\"#81d34d\",\"#84d44b\",\"#86d549\",\"#89d548\",\"#8bd646\",\"#8ed645\",\"#90d743\",\"#93d741\",\"#95d840\",\"#98d83e\",\"#9bd93c\",\"#9dd93b\",\"#a0da39\",\"#a2da37\",\"#a5db36\",\"#a8db34\",\"#aadc32\",\"#addc30\",\"#b0dd2f\",\"#b2dd2d\",\"#b5de2b\",\"#b8de29\",\"#bade28\",\"#bddf26\",\"#c0df25\",\"#c2df23\",\"#c5e021\",\"#c8e020\",\"#cae11f\",\"#cde11d\",\"#d0e11c\",\"#d2e21b\",\"#d5e21a\",\"#d8e219\",\"#dae319\",\"#dde318\",\"#dfe318\",\"#e2e418\",\"#e5e419\",\"#e7e419\",\"#eae51a\",\"#ece51b\",\"#efe51c\",\"#f1e51d\",\"#f4e61e\",\"#f6e620\",\"#f8e621\",\"#fbe723\",\"#fde725\"]\n\n  vmin: number;\n  vmax: number;\n  colour_mapper = new Bokeh.LinearColorMapper({\n    palette: this.viridis_hex\n  })\n  ticker = new Bokeh.BasicTicker()\n  colour_bar = new Bokeh.ColorBar({\n    ticker: this.ticker,\n    label_standoff: 7,\n    location: [-6,0]\n  })\n\n  ngOnInit() {\n    this.figureInitialise()\n  }\n\n  figureInitialise() {\n    this.fig = this.plt.figure({\n        title: this.title, tools: this.tools,\n        plot_width: this.plot_width, plot_height: this.plot_height\n      });\n\n    this.pcolour_renderer = this.fig.rect(\n      { field: 'x' }, { field: 'y' }, 0.1, 0.1, {\n        source: this.pcolour_source,\n        color:  { field: 'c' }\n    });\n\n    this.scatter_renderer = this.fig.circle(\n      { field: 'x' }, { field: 'y' }, {\n        source: this.scatter_source,\n        size: 15,\n        line_color: 'black',\n        fill_color:  { field: 'c' },\n        line_width: 2\n    });\n\n    this.fig.add_layout(this.colour_bar, 'left')\n  }\n\n  runAllUpdates() {\n    this.updateScatterData()\n    this.updatePcolourData()\n    this.updateScatterColour()\n\n    this.updateSourceData()\n\n    this.updateFigureDimensions()\n  }\n\n  updateScatterData() {\n    this.scatter_data = {\n      x: <number[]> this.scatter_x,\n      y: <number[]> this.scatter_y,\n      z: <number[]> this.scatter_z,\n      hover_width: <string[]> this.scatter_hover_width,\n      hover_length: <string[]> this.scatter_hover_length,\n      hover_area: <string[]> this.scatter_hover_area,\n      hover_measured_factor: <string[]> this.scatter_hover_measured_factor,\n      hover_predicted_factor: <string[]> this.scatter_hover_predicted_factor,\n      c: <string[]> this.scatter_c\n    }\n  }\n\n  updatePcolourData() {\n    this.pcolour_data = {\n      x: <number[]> this.pcolour_x,\n      y: <number[]> this.pcolour_y,\n      z: <number[]> this.pcolour_z,\n      hover_width: <string[]> this.pcolour_hover_width,\n      hover_length: <string[]> this.pcolour_hover_length,\n      hover_predicted_factor: <string[]> this.pcolour_hover_predicted_factor,\n      c: <string[]> this.pcolour_c\n    }\n  }\n\n  updateScatterColour() {\n    if (this.old_scatter_z != this.scatter_z || this.old_pcolour_z != this.pcolour_z) {\n      let allZ = this.scatter_z.concat(this.pcolour_z);\n      this.vmin = Math.min(...allZ);\n      this.vmax = Math.max(...allZ);\n\n      this.colour_mapper.low = this.vmin\n      this.colour_mapper.high = this.vmax\n      this.colour_bar.color_mapper = this.colour_mapper\n\n      this.scatter_c = this.colour_mapper.v_compute(this.scatter_z)\n      this.pcolour_c = this.colour_mapper.v_compute(this.pcolour_z)\n\n      this.scatter_data.c = this.scatter_c\n      this.pcolour_data.c = this.pcolour_c\n\n      this.old_scatter_z = this.scatter_z;\n      this.old_pcolour_z = this.pcolour_z;\n\n      if (this.scatter_data.c.length < this.scatter_data.x.length) {\n        let difference = this.scatter_data.x.length - this.scatter_data.c.length\n        for (let i=0; i < difference; i++) {\n          this.scatter_data.c.push('#ffffff')\n        }\n      }\n    }\n  }\n\n  updateSourceData() {\n    if (this.scatter_source.data != this.scatter_data) {\n      this.scatter_source.data = this.scatter_data;\n    }\n\n    if (this.pcolour_source.data != this.pcolour_data) {\n      this.pcolour_source.data = this.pcolour_data;\n    }\n  }\n\n  updateFigureDimensions() {\n    if (this.fig != null) {\n      if (this.fig.width != this.plot_width) {\n        if (this.plot_width < 200) {\n          this.fig.width = 200\n        }\n        else {\n          this.fig.width = this.plot_width;\n        }        \n      }\n      if (this.fig.height != this.plot_height) {\n        this.fig.height = this.plot_height;\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/bokeh-pcolour.ts\n **/","import { Component, Input, OnChanges, ViewChild, AfterViewInit, OnInit } from '@angular/core';\n\nimport { BokehPcolour } from './bokeh-pcolour'\n\ndeclare var Bokeh: any;\n\n@Component({\n  selector: 'my-bokeh-use-model',\n  template: require('./bokeh-plot.html')\n})\nexport class BokehUseModelComponent extends BokehPcolour implements AfterViewInit, OnChanges {\n  @Input()\n  title: string = \"Figure Title\";\n  @Input()\n  plot_width: number = 300;\n  @Input()\n  plot_height: number = 300;\n  @Input()\n  scatter_x: number[];\n  @Input()\n  scatter_y: number[];\n  @Input()\n  scatter_z: number[] = [0.5];\n  @Input()\n  pcolour_x: number[];\n  @Input()\n  pcolour_y: number[];\n  @Input()\n  pcolour_z: number[];\n  @Input()\n  enabled: boolean = true;\n  @Input()\n  predicted_factor: number[] = []\n  @Input()\n  area: number[] = []\n\n  old_area: number[] = []\n  old_predicted_factor: number[] = []\n\n  @ViewChild('bokehplot') bokehplot: any;\n\n\n  ngOnChanges() {\n    this.updateHoverData()\n    this.runAllUpdates()\n  }\n\n  updateHoverData() {\n    if (this.scatter_data.x != this.scatter_x) {\n      this.scatter_hover_width = <string[]> []\n      for (let x of this.scatter_x) {\n        this.scatter_hover_width.push((Math.round(x*10)/10).toFixed(1))\n      }\n    }\n    if (this.scatter_data.y != this.scatter_y) {\n      this.scatter_hover_length = <string[]> []\n      for (let y of this.scatter_y) {\n        this.scatter_hover_length.push((Math.round(y*10)/10).toFixed(1))\n      }\n    }\n    if (this.scatter_data.z != this.scatter_z) {\n      this.scatter_hover_measured_factor = <string[]> []\n      for (let z of this.scatter_z) {\n        this.scatter_hover_measured_factor.push((Math.round(z*1000)/1000).toFixed(3))\n      }\n      if (this.scatter_hover_measured_factor.length < this.scatter_x.length) {\n        let difference = this.scatter_x.length - this.scatter_hover_measured_factor.length\n        for (let i=0; i < difference; i++) {\n          this.scatter_hover_measured_factor.push('Not given')\n        }\n      }\n    }\n    if (this.old_predicted_factor != this.predicted_factor) {\n      this.scatter_hover_predicted_factor = <string[]> []\n      for (let z of this.predicted_factor) {\n        this.scatter_hover_predicted_factor.push((Math.round(z*1000)/1000).toFixed(3))\n      }\n      this.old_predicted_factor = this.predicted_factor\n    }\n    if (this.old_area != this.area) {\n      this.scatter_hover_area = <string[]> []\n      for (let a of this.area) {\n        this.scatter_hover_area.push((Math.round(a*10)/10).toFixed(1))\n      }\n      this.old_area = this.area\n    }\n  }\n\n    // hover_width: <string[]> [],\n    // hover_length: <string[]> [],\n    // hover_area: <string[]> [],\n    // hover_measured_factor: <string[]> [],\n    // hover_predicted_factor: <string[]> [],\n\n  ngAfterViewInit() {\n    let hover_tool = new Bokeh.HoverTool({\n      tooltips: [\n        [\"Width\", \" @hover_width cm\"],\n        [\"Length\", \" @hover_length cm\"],\n        [\"Area\", \" @hover_area cm^2\"],\n        [\"Measured factor\", \" @hover_measured_factor\"],\n        [\"Predicted factor\", \" @hover_predicted_factor\"],\n        // [\"Predicted - Measured\", \" @hover_difference\"]\n      ],\n      renderers: [\n        this.scatter_renderer\n      ]\n    })\n    this.fig.add_tools(hover_tool)\n\n    this.doc.add_root(this.fig);\n    Bokeh.embed.add_document_standalone(\n      this.doc, this.bokehplot.nativeElement); \n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/bokeh-use-model.component.ts\n **/","import { Component, OnInit, Output, Input, EventEmitter } from '@angular/core';\n\n\n@Component({\n  selector: 'my-choose-specifications',\n  template: require('./choose-specifications.component.html')\n})\nexport class ChooseSpecificationsComponent implements OnInit {\n  machineList: string[]\n  allMachineSpecifications: {}\n  currentMachineSpecifications: {}\n  @Input()\n  currentSettings = {\n    machine: <string> null,\n    energy: <number> null,\n    applicator: <string> null,\n    ssd: <number> null\n  }\n\n  @Output()\n  settingsUpdated = new EventEmitter()\n\n \n  ngOnInit() {\n    this.currentSettings.energy = JSON.parse(localStorage.getItem(\"currentEnergy\"))\n    this.currentSettings.applicator = JSON.parse(localStorage.getItem(\"currentApplicator\"))\n    this.currentSettings.ssd = JSON.parse(localStorage.getItem(\"currentSSD\"))\n\n    this.allMachineSpecifications = JSON.parse(localStorage.getItem(\"specifications\"))\n    if (this.allMachineSpecifications == null) {\n      this.allMachineSpecifications = {}\n      this.machineList = []\n    }\n    else {\n      this.machineList = Object.keys(this.allMachineSpecifications).sort();\n      this.currentSettings.machine = String(JSON.parse(localStorage.getItem(\"current_machine\")))\n      if (\n          this.currentSettings.machine == null || \n          this.allMachineSpecifications[this.currentSettings.machine] === undefined) {\n        this.currentSettings.machine = this.machineList[0]\n      }\n      this.currentMachineSpecifications = this.allMachineSpecifications[this.currentSettings.machine]\n    }\n    \n    this.settingsUpdated.emit(this.currentSettings)\n  }\n\n  updateMachineID(newCurrentMachine: string) {\n    this.currentSettings.machine = newCurrentMachine\n    localStorage.setItem(\"current_machine\", JSON.stringify(newCurrentMachine))\n    this.currentMachineSpecifications = this.allMachineSpecifications[this.currentSettings.machine]\n\n    if (this.currentMachineSpecifications != null) {\n      for (let item of [\"energy\", \"applicator\", \"ssd\"]) {\n        if (this.currentMachineSpecifications[item].length > 0) {\n          this.currentSettings[item] = this.currentMachineSpecifications[item][0]\n        }\n        else {\n          this.currentSettings[item] = null\n        }\n      }\n    }\n    else {\n      for (let item of [\"energy\", \"applicator\", \"ssd\"]) {\n        this.currentSettings[item] = null\n      }\n    }\n\n    localStorage.setItem(\"currentEnergy\", JSON.stringify(Number(this.currentSettings.energy)))\n    localStorage.setItem(\"currentApplicator\", JSON.stringify(this.currentSettings.applicator))\n    localStorage.setItem(\"currentSSD\", JSON.stringify(Number(this.currentSettings.ssd)))\n\n    this.settingsUpdated.emit(this.currentSettings)\n  }\n\n  updateEnergy(newCurrentEnergy: number) {\n    this.currentSettings.energy = Number(newCurrentEnergy)\n    localStorage.setItem(\"currentEnergy\", JSON.stringify(Number(newCurrentEnergy)))\n\n    this.settingsUpdated.emit(this.currentSettings)\n  }\n\n  updateApplicator(newCurrentApplicator: string) {\n    this.currentSettings.applicator = newCurrentApplicator\n    localStorage.setItem(\"currentApplicator\", JSON.stringify(newCurrentApplicator))\n\n    this.settingsUpdated.emit(this.currentSettings)\n  }\n\n  updateSSD(newCurrentSSD: number) {\n    this.currentSettings.ssd = Number(newCurrentSSD)\n    localStorage.setItem(\"currentSSD\", JSON.stringify(Number(newCurrentSSD)))\n\n    this.settingsUpdated.emit(this.currentSettings)\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/choose-specifications.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div \\n      *ngIf=\\\"this.machineList.length > 0\\\" \\n      class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--2-col-phone\\\">\\n    <h6>Machine ID</h6>\\n    <select\\n        [(ngModel)]=\\\"currentSettings.machine\\\"\\n        (input)=\\\"updateMachineID($event.target.value)\\\">\\n      <option *ngFor=\\\"let machine of machineList\\\">{{machine}}</option>\\n    </select>\\n  </div>\\n\\n  <div \\n      *ngIf=\\\"this.machineList.length > 0 && currentSettings.machine != null\\\" \\n      class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--2-col-phone\\\">\\n    <h6>Energy</h6>\\n    <select\\n        [(ngModel)]=\\\"currentSettings.energy\\\"\\n        (input)=\\\"updateEnergy($event.target.value)\\\"\\n        *ngIf=\\\"currentMachineSpecifications.energy.length > 0\\\">\\n      <option *ngFor=\\\"let energy of currentMachineSpecifications.energy\\\" value=\\\"{{energy}}\\\">{{energy}} MeV</option>\\n    </select>\\n    <p *ngIf=\\\"currentMachineSpecifications.energy == 0\\\">\\n      This machine doesn't have any energies defined. Please \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        define energies.\\n      </a>\\n    </p>\\n  </div>\\n\\n  <div \\n      *ngIf=\\\"this.machineList.length > 0 && currentSettings.machine != null\\\" \\n      class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--2-col-phone\\\">\\n    <h6>Applicator</h6>\\n    <select \\n        [(ngModel)]=\\\"currentSettings.applicator\\\"\\n        (input)=\\\"updateApplicator($event.target.value)\\\"\\n        *ngIf=\\\"currentMachineSpecifications.applicator.length > 0\\\">\\n      <option *ngFor=\\\"let applicator of currentMachineSpecifications.applicator\\\">{{applicator}}</option>\\n    </select>\\n    <p *ngIf=\\\"currentMachineSpecifications.applicator == 0\\\">\\n      This machine doesn't have any applicators defined. Please \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        define applicators.\\n      </a>\\n    </p>\\n  </div>\\n\\n  <div \\n      *ngIf=\\\"this.machineList.length > 0 && currentSettings.machine != null\\\" \\n      class=\\\"mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--2-col-phone\\\">\\n    <h6>SSD</h6>\\n    <select  \\n        [(ngModel)]=\\\"currentSettings.ssd\\\"\\n        (input)=\\\"updateSSD($event.target.value)\\\"\\n        *ngIf=\\\"currentMachineSpecifications.ssd.length > 0\\\">\\n      <option *ngFor=\\\"let ssd of currentMachineSpecifications.ssd\\\">{{ssd}}</option>\\n    </select>\\n    <p *ngIf=\\\"currentMachineSpecifications.ssd == 0\\\">\\n      This machine doesn't have an ssd defined. Please \\n      <a routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\">\\n        define at least one ssd.\\n      </a>\\n    </p>\\n  </div>\\n</div>\\n  \\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/choose-specifications.component.html\n ** module id = 205\n ** module chunks = 0\n **/"],"sourceRoot":""}