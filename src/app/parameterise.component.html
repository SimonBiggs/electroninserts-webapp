<div class="mdl-grid">
  <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet">
    <h4>Equivalent ellipse parameterisation</h4>
    <p>Provide basic instructions here.</p>
  </div>

  <div class="mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet"
    style="display: flex; align-items: center; flex-flow: row wrap;">
    <my-plot 
      [insert]="parameterisation.insert"
      [circle]="parameterisation.circle"
      [ellipse]="parameterisation.ellipse"
      [enabled]="jsonValid">
    </my-plot>

    <div style="width:100%; height:30px"></div>

    <button
      mdl-button mdl-button-type="raised" 
      mdl-colored="primary" 
      mdl-ripple
      [disabled]="submitDisabled"
      (click)="onSubmit()">Parameterise Insert          
    </button>

    <span style="width:20px;"></span>

    <my-width-length-table
      [width]="parameterisation.width"
      [length]="parameterisation.length"
      [enabled]="jsonValid">
    </my-width-length-table>

    <div [hidden]="serverResponseValid">
      {{serverErrorMessage}}
    </div>
  </div>

  <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--6-col-phone">
    <mdl-textfield
      type="text"
      label="Machine (ID)"
      (input)="insertDataChange()"
      floating-label
      [(ngModel)]="insertData.machine"
      style="width:100%"></mdl-textfield>
    <mdl-textfield
      type="text"
      label="Energy (Nominal)"
      (input)="insertDataChange()"
      floating-label
      [(ngModel)]="insertData.energy"
      style="width:100%"></mdl-textfield>
    <mdl-textfield
      type="text"
      label="Applicator (ID)"
      (input)="insertDataChange()"
      floating-label
      [(ngModel)]="insertData.applicator"
      style="width:100%"></mdl-textfield>
    <mdl-textfield
      type="text"
      label="SSD (cm)"
      (input)="insertDataChange()"
      floating-label
      [(ngModel)]="insertData.ssd"
      style="width:100%"></mdl-textfield>

  </div>

  <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--6-col-phone">
    <mdl-textfield
      type="text"
      label="Factor"
      (input)="insertDataChange()"
      floating-label
      [(ngModel)]="insertData.factor"
      style="width:100%"></mdl-textfield>


    <div style="width:100%; height:20px"></div>

    <button
      mdl-button mdl-button-type="raised" 
      mdl-colored="primary" 
      mdl-ripple
      [disabled]="true"
      (click)="null">Determine Factor           
    </button>

    <div style="height:20px; width:20px;"></div>

    <button
      mdl-button mdl-button-type="raised" 
      mdl-colored="primary" 
      mdl-ripple
      [disabled]="true"
      (click)="null">Add Insert to Model            
    </button>
  </div>

  <div class="mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet">
    <h5>Edit raw coordinates</h5>
    <my-json-input #jsonInput
      [insert]="parameterisation.insert"
      [jsonDisabled]="dataInFlight"
      (insertUpdated)="insertUpdated($event)"
      (jsonStatus)="onJsonStatusChange($event)">
    </my-json-input>
  </div>

  <div class="mdl-cell mdl-cell--6-col"></div>

  <div class="mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet">
    <p>Change the following address to use your own
      parameterisation server. The default is: <br>
      <a>http://electronapi.simonbiggs.net/parameterise</a>       
    </p>
    <mdl-textfield
      type="text"
      label="Parameterisation Server Address"
      (input)="parameterisationServerChange($event.target.value)"
      floating-label
      [(ngModel)]="parameteriseURL"
      style="width:100%"></mdl-textfield>
  </div>
</div>
