{"version":3,"sources":["webpack:///app.b14e6bf79d41e0ae5eff.js","webpack:///./src/main.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routing.ts","webpack:///./src/app/parameterise.component.ts","webpack:///./src/app/electron-api.service.ts","webpack:///./src/app/data.service.ts","webpack:///./src/app/demo-data.ts","webpack:///./src/app/title.service.ts","webpack:///./src/app/parameterise.component.html","webpack:///./src/app/page-not-found.component.ts","webpack:///./src/app/page-not-found.component.html","webpack:///./src/app/home.component.ts","webpack:///./src/app/local-storage.service.ts","webpack:///./src/app/localstoragemodule.ts","webpack:///./src/app/home.component.html","webpack:///./src/app/model.component.ts","webpack:///./src/app/model.component.html","webpack:///./src/app/export-import.component.ts","webpack:///./src/app/export-import.component.html","webpack:///./src/app/specifications.component.ts","webpack:///./src/app/specifications.component.html","webpack:///./src/app/dicom.component.ts","webpack:///./src/app/dicom.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/plot.component.ts","webpack:///./src/app/coordinates.ts","webpack:///./src/app/plot.component.html","webpack:///./src/app/plot.component.css","webpack:///./src/app/width-length-table.component.ts","webpack:///./src/app/width-length-table.component.html","webpack:///./src/app/json-input.component.ts","webpack:///./src/app/my-json.pipe.ts","webpack:///./src/app/json-input.component.html","webpack:///./src/app/not-yet-implimented.component.ts","webpack:///./src/app/not-yet-implimented.component.html"],"names":["webpackJsonp","0","module","exports","__webpack_require__","platform_browser_dynamic_1","core_1","app_module_1","enableProdMode","platformBrowserDynamic","bootstrapModule","AppModule","23","__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","platform_browser_1","forms_1","http_1","platform_browser_2","app_routing_1","angular2_mdl_1","app_component_1","plot_component_1","parameterise_component_1","page_not_found_component_1","width_length_table_component_1","json_input_component_1","not_yet_implimented_component_1","home_component_1","model_component_1","export_import_component_1","specifications_component_1","dicom_component_1","my_json_pipe_1","electron_api_service_1","data_service_1","title_service_1","local_storage_service_1","NgModule","imports","BrowserModule","FormsModule","HttpModule","MdlModule","routing","declarations","AppComponent","ParameteriseComponent","PlotComponent","PageNotFoundComponent","WidthLengthTableComponent","JsonInputComponent","MyJsonPipe","NotYetImplimentedComponent","HomeComponent","ModelComponent","ExportImportComponent","SpecificationsComponent","DicomComponent","providers","ElectronApiService","DataService","TitleService","Title","LocalStorageService","bootstrap","29","router_1","appRoutes","path","component","data","title","appRoutingProviders","RouterModule","forRoot","58","demo_data_1","electronApiService","dataService","myTitleService","parameterisation","insert","x","y","width","circle","ellipse","jsonValid","serverResponseValid","dataInFlight","submitDisabled","refreshJsonInput","parameteriseURL","prototype","getData","localStorageParameterisation","localStorage","parameterisationFromLocalStorage","loadDemoData","demoData","JSON","parse","stringify","DEMO_PARAMETERISE_INPUT","insertUpdated","jsonInputComponent","refresh","onSubmit","_this","checkSubmitButton","parameteriseInsert","then","parameterisationResult","setItem","localStorageParameterisationString","getItem","onJsonStatusChange","jsonStatus","ngOnInit","setTitle","ViewChild","Component","selector","template","59","http","wakeUpURL","wakeUpServer","get","toPromise","parameteriseInput","post","res","json","handleError","error","console","Promise","reject","message","Injectable","Http","61","getParameterisationData","resolve","62","63","getTitle","64","65","66","67","myLocalStorageService","testLocalStorage","isSupported","usedLocalStorageSpace","getUsedSpace","testRemainingStorage","remainingLocalStorageSpace","getRemainingSpace","68","localstoragemodule_1","LocalStorage","hasItem","getMaximumSpace","getItemUsedSpace","getBackup","applyBackup","consoleInfo","69","itemBackup","increase","totalData","trytotalData","e","substr","removeItem","backup","clear","max","sum","value","NaN","fClear","fOverwriteExisting","undefined","fShowMaximumSize","amount","size","log","maxSize","70","71","72","73","74","75","76","77","js_yaml_1","router","rawBlockData","vectorData","parseDataString","dicomExitCode","header","reader","FileReader","firstLoad","onload","onceFileIsLoaded","Module","print","sendDicomDumpToLocalStorage","priorDicomPrint","updateDicomWarning","status","Number","getBlockDataButton","disabled","dicomWarning","content","Int8Array","result","fileName","FS","isFile","unlink","writeFile","encoding","exit_orig","exit","callMain","openFile","event","srcElement","files","file","readAsArrayBuffer","convertDicomDumpToDict","dump","yamlConvert","replace","safeLoad","convertBlockDataToCoords","blockData","listString","exec","toString","parsedData","_i","_a","num","push","parseFloat","toFixed","dicomPullFloat","input","dicomPullString","getBlockData","dicomPrint","dicomDict","insertList","beamSequence","beamSequence_1","beam","coordinates","applicator","energy","ssd","dicomInsert","sendToParameterisation","navigate","styles","Router","113","169","events","filter","NavigationEnd","subscribe","pageTitle","redirect","sessionStorage","location","href","history","replaceState","170","171","coordinates_1","plt","Bokeh","Plotting","tools","xrange","Range1d","yrange","fig","figure","x_range","y_range","plot_width","plot_height","source","ColumnDataSource","doc","Document","ngOnChanges","tempSource","xs","ys","colour","xAll","yAll","enabled","concat","xMax","Math","apply","xMin","min","yMax","yMin","range","sqXMax","sqXMin","sqYMax","sqYMin","attributes","start","end","ngAfterViewInit","multi_line","field","line_width","color","add_root","embed","add_document_standalone","bokehplot","nativeElement","Input","Coordinates","Boolean","172","173","174","175","tableData","tableModel","MdlDefaultTableModel","name","sortable","numeric","addAll","176","177","EventEmitter","onInput","jsonInput","parseAndCheckJSON","emit","jsonInputDir","transform","oldJsonValid","parsedJSON","jsonErrorMessage","err","Output","178","jsonText","Pipe","pure","179","180","181"],"mappings":"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","file":"app.b14e6bf79d41e0ae5eff.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar platform_browser_dynamic_1 = __webpack_require__(1);\n\tvar core_1 = __webpack_require__(3);\n\tvar app_module_1 = __webpack_require__(23);\n\tif (true) {\n\t    core_1.enableProdMode();\n\t}\n\tplatform_browser_dynamic_1.platformBrowserDynamic().bootstrapModule(app_module_1.AppModule);\n\n\n/***/ },\n\n/***/ 23:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar platform_browser_1 = __webpack_require__(21);\n\tvar forms_1 = __webpack_require__(24);\n\tvar http_1 = __webpack_require__(28);\n\tvar platform_browser_2 = __webpack_require__(21);\n\t// import {MaterialModule} from '@angular/material';\n\tvar app_routing_1 = __webpack_require__(29);\n\tvar angular2_mdl_1 = __webpack_require__(114);\n\tvar app_component_1 = __webpack_require__(169);\n\tvar plot_component_1 = __webpack_require__(171);\n\tvar parameterise_component_1 = __webpack_require__(58);\n\tvar page_not_found_component_1 = __webpack_require__(65);\n\tvar width_length_table_component_1 = __webpack_require__(175);\n\tvar json_input_component_1 = __webpack_require__(177);\n\tvar not_yet_implimented_component_1 = __webpack_require__(180);\n\tvar home_component_1 = __webpack_require__(67);\n\tvar model_component_1 = __webpack_require__(71);\n\tvar export_import_component_1 = __webpack_require__(73);\n\tvar specifications_component_1 = __webpack_require__(75);\n\tvar dicom_component_1 = __webpack_require__(77);\n\tvar my_json_pipe_1 = __webpack_require__(178);\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar data_service_1 = __webpack_require__(61);\n\tvar title_service_1 = __webpack_require__(63);\n\t// import { CookieService } from 'angular2-cookie/core';\n\tvar local_storage_service_1 = __webpack_require__(68);\n\t// import {WEB_STORAGE_PROVIDERS} from \"h5webstorage\";\n\tvar AppModule = (function () {\n\t    function AppModule() {\n\t    }\n\t    AppModule = __decorate([\n\t        core_1.NgModule({\n\t            imports: [\n\t                platform_browser_1.BrowserModule,\n\t                forms_1.FormsModule,\n\t                http_1.HttpModule,\n\t                angular2_mdl_1.MdlModule,\n\t                //  MaterialModule.forRoot(),\n\t                app_routing_1.routing\n\t            ],\n\t            declarations: [\n\t                app_component_1.AppComponent,\n\t                parameterise_component_1.ParameteriseComponent,\n\t                plot_component_1.PlotComponent,\n\t                page_not_found_component_1.PageNotFoundComponent,\n\t                width_length_table_component_1.WidthLengthTableComponent,\n\t                json_input_component_1.JsonInputComponent,\n\t                my_json_pipe_1.MyJsonPipe,\n\t                not_yet_implimented_component_1.NotYetImplimentedComponent,\n\t                home_component_1.HomeComponent,\n\t                model_component_1.ModelComponent,\n\t                export_import_component_1.ExportImportComponent,\n\t                specifications_component_1.SpecificationsComponent,\n\t                dicom_component_1.DicomComponent\n\t            ],\n\t            providers: [\n\t                electron_api_service_1.ElectronApiService,\n\t                data_service_1.DataService,\n\t                title_service_1.TitleService,\n\t                platform_browser_2.Title,\n\t                local_storage_service_1.LocalStorageService,\n\t            ],\n\t            bootstrap: [\n\t                app_component_1.AppComponent\n\t            ]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], AppModule);\n\t    return AppModule;\n\t}());\n\texports.AppModule = AppModule;\n\n\n/***/ },\n\n/***/ 29:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar router_1 = __webpack_require__(30);\n\tvar parameterise_component_1 = __webpack_require__(58);\n\tvar page_not_found_component_1 = __webpack_require__(65);\n\tvar home_component_1 = __webpack_require__(67);\n\tvar model_component_1 = __webpack_require__(71);\n\tvar export_import_component_1 = __webpack_require__(73);\n\tvar specifications_component_1 = __webpack_require__(75);\n\tvar dicom_component_1 = __webpack_require__(77);\n\tvar appRoutes = [\n\t    {\n\t        path: 'home',\n\t        component: home_component_1.HomeComponent,\n\t        data: {\n\t            title: 'Home'\n\t        }\n\t    },\n\t    {\n\t        path: 'export-import',\n\t        component: export_import_component_1.ExportImportComponent\n\t    },\n\t    {\n\t        path: 'specifications',\n\t        component: specifications_component_1.SpecificationsComponent\n\t    },\n\t    {\n\t        path: 'dicom',\n\t        component: dicom_component_1.DicomComponent\n\t    },\n\t    {\n\t        path: 'parameterise',\n\t        component: parameterise_component_1.ParameteriseComponent\n\t    },\n\t    {\n\t        path: 'model',\n\t        component: model_component_1.ModelComponent\n\t    },\n\t    {\n\t        path: '',\n\t        component: home_component_1.HomeComponent\n\t    },\n\t    {\n\t        path: '**', component: page_not_found_component_1.PageNotFoundComponent\n\t    }\n\t];\n\texports.appRoutingProviders = [];\n\texports.routing = router_1.RouterModule.forRoot(appRoutes);\n\n\n/***/ },\n\n/***/ 58:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\t// import { CookieService } from 'angular2-cookie/core';\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar data_service_1 = __webpack_require__(61);\n\tvar title_service_1 = __webpack_require__(63);\n\t// import { LocalStorageService } from './local-storage.service';\n\tvar demo_data_1 = __webpack_require__(62);\n\tvar ParameteriseComponent = (function () {\n\t    function ParameteriseComponent(electronApiService, dataService, myTitleService) {\n\t        this.electronApiService = electronApiService;\n\t        this.dataService = dataService;\n\t        this.myTitleService = myTitleService;\n\t        this.parameterisation = {\n\t            insert: {\n\t                x: [0],\n\t                y: [0]\n\t            },\n\t            width: null,\n\t            length: null,\n\t            circle: null,\n\t            ellipse: null\n\t        };\n\t        this.jsonValid = true;\n\t        this.serverResponseValid = true;\n\t        this.dataInFlight = false;\n\t        this.submitDisabled = false;\n\t        this.refreshJsonInput = false;\n\t        this.parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n\t    }\n\t    ParameteriseComponent.prototype.getData = function () {\n\t        var localStorageParameterisation = localStorage[\"last_parameterisation\"];\n\t        if (localStorageParameterisation) {\n\t            this.parameterisationFromLocalStorage(localStorageParameterisation);\n\t        }\n\t        else {\n\t            this.loadDemoData();\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.loadDemoData = function () {\n\t        var demoData = JSON.parse(JSON.stringify(demo_data_1.DEMO_PARAMETERISE_INPUT));\n\t        this.insertUpdated(demoData.insert);\n\t        this.jsonInputComponent.refresh = true;\n\t    };\n\t    ParameteriseComponent.prototype.onSubmit = function () {\n\t        var _this = this;\n\t        this.dataInFlight = true;\n\t        this.checkSubmitButton();\n\t        this.electronApiService.parameteriseInsert(this.parameteriseURL, JSON.stringify(this.parameterisation.insert))\n\t            .then(function (parameterisationResult) {\n\t            _this.parameterisation.circle = parameterisationResult.circle;\n\t            _this.parameterisation.ellipse = parameterisationResult.ellipse;\n\t            _this.parameterisation.width = parameterisationResult.width;\n\t            _this.parameterisation.length = parameterisationResult.length;\n\t            _this.dataInFlight = false;\n\t            _this.serverResponseValid = true;\n\t            _this.checkSubmitButton();\n\t            localStorage.setItem(JSON.stringify(_this.parameterisation.insert), JSON.stringify(_this.parameterisation));\n\t            localStorage.setItem(\"last_parameterisation\", JSON.stringify(_this.parameterisation));\n\t        });\n\t    };\n\t    ParameteriseComponent.prototype.parameterisationFromLocalStorage = function (localStorageParameterisationString) {\n\t        var localStorageParameterisation = JSON.parse(localStorageParameterisationString);\n\t        this.parameterisation.insert = localStorageParameterisation['insert'];\n\t        this.parameterisation.width = localStorageParameterisation['width'];\n\t        this.parameterisation.length = localStorageParameterisation['length'];\n\t        this.parameterisation.circle = localStorageParameterisation['circle'];\n\t        this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n\t    };\n\t    ParameteriseComponent.prototype.insertUpdated = function (insert) {\n\t        var localStorageParameterisation = localStorage.getItem(JSON.stringify(insert));\n\t        if (localStorageParameterisation) {\n\t            this.parameterisationFromLocalStorage(localStorageParameterisation);\n\t        }\n\t        else {\n\t            this.parameterisation.insert = insert;\n\t            this.parameterisation.width = null;\n\t            this.parameterisation.length = null;\n\t            this.parameterisation.circle = null;\n\t            this.parameterisation.ellipse = null;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.onJsonStatusChange = function (jsonStatus) {\n\t        this.jsonValid = jsonStatus;\n\t        this.checkSubmitButton();\n\t    };\n\t    ParameteriseComponent.prototype.checkSubmitButton = function () {\n\t        if (this.dataInFlight || !this.jsonValid) {\n\t            this.submitDisabled = true;\n\t        }\n\t        else {\n\t            this.submitDisabled = false;\n\t        }\n\t    };\n\t    ParameteriseComponent.prototype.ngOnInit = function () {\n\t        this.getData();\n\t        this.myTitleService.setTitle('Parameterisation');\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('jsonInput'), \n\t        __metadata('design:type', Object)\n\t    ], ParameteriseComponent.prototype, \"jsonInputComponent\", void 0);\n\t    ParameteriseComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-parameterise',\n\t            template: __webpack_require__(64),\n\t        }), \n\t        __metadata('design:paramtypes', [electron_api_service_1.ElectronApiService, data_service_1.DataService, title_service_1.TitleService])\n\t    ], ParameteriseComponent);\n\t    return ParameteriseComponent;\n\t}());\n\texports.ParameteriseComponent = ParameteriseComponent;\n\n\n/***/ },\n\n/***/ 59:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar http_1 = __webpack_require__(28);\n\t__webpack_require__(60);\n\tvar ElectronApiService = (function () {\n\t    function ElectronApiService(http) {\n\t        this.http = http;\n\t        // private parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n\t        // private modelURL = 'http://electronapi.simonbiggs.net/model';\n\t        this.wakeUpURL = 'http://electronapi.simonbiggs.net/wakeup';\n\t    }\n\t    // Initial get from server to wake it up\n\t    ElectronApiService.prototype.wakeUpServer = function () {\n\t        return this.http\n\t            .get(this.wakeUpURL).toPromise();\n\t    };\n\t    ElectronApiService.prototype.parameteriseInsert = function (parameteriseURL, parameteriseInput) {\n\t        return this.http\n\t            .post(parameteriseURL, parameteriseInput)\n\t            .toPromise()\n\t            .then(function (res) { return res.json(); })\n\t            .catch(this.handleError);\n\t    };\n\t    ElectronApiService.prototype.handleError = function (error) {\n\t        console.error('An error occurred', error);\n\t        return Promise.reject(error.message || error);\n\t    };\n\t    ElectronApiService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [http_1.Http])\n\t    ], ElectronApiService);\n\t    return ElectronApiService;\n\t}());\n\texports.ElectronApiService = ElectronApiService;\n\n\n/***/ },\n\n/***/ 61:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar demo_data_1 = __webpack_require__(62);\n\t// import { DEMO_MODEL_INPUT } from './demo-data';\n\tvar DataService = (function () {\n\t    function DataService() {\n\t    }\n\t    DataService.prototype.getParameterisationData = function () {\n\t        return Promise.resolve(demo_data_1.DEMO_PARAMETERISE_INPUT);\n\t    };\n\t    ;\n\t    DataService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], DataService);\n\t    return DataService;\n\t}());\n\texports.DataService = DataService;\n\n\n/***/ },\n\n/***/ 62:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar insert = {\n\t    x: [\n\t        0.99, -0.14, -1.0, -1.73, -2.56, -3.17, -3.49,\n\t        -3.57, -3.17, -2.52, -1.76, -1.04, -0.17,\n\t        0.77, 1.63, 2.36, 2.79, 2.91, 3.04, 3.22,\n\t        3.34, 3.37, 3.08, 2.54, 1.88, 1.02, 0.99],\n\t    y: [\n\t        5.05, 4.98, 4.42, 3.24, 1.68, 0.6, -0.64,\n\t        -1.48, -2.38, -3.77, -4.81, -5.26, -5.51,\n\t        -5.58, -5.23, -4.64, -3.77, -2.77, -1.68,\n\t        -0.29, 1.23, 2.68, 3.8, 4.6, 5.01, 5.08,\n\t        5.05]\n\t};\n\texports.DEMO_PARAMETERISE_INPUT = {\n\t    insert: insert,\n\t    circle: null,\n\t    ellipse: null,\n\t    width: null,\n\t    length: null\n\t};\n\t// export const DEMO_MODEL_INPUT: string =`{\n\t//   \"width\": [\n\t//     3.15, 3.16, 3.17, 3.17, 3.17, 3.55, 3.66, \n\t//     3.71, 4.2, 4.21, 4.21, 4.21, 4.21, 4.38, \n\t//     4.48, 4.59, 4.59, 4.67, 5.21, 5.25, 5.26,\n\t//     5.26, 5.26, 5.34, 5.43, 5.72, 5.86, 6, 6.04,\n\t//     6.08, 6.3, 6.31, 6.41, 6.53, 6.54, 6.64, 6.78,\n\t//     6.9, 7.08, 7.18, 7.21, 7.36, 7.56, 7.6, 7.64,\n\t//     7.82, 8.06, 8.4, 9.45], \n\t//   \"length\": [\n\t//     3.16, 5.25, 13.64, 6.83, 9.43, 7.7, 5.04, \n\t//     4.36, 4.21, 10.51, 13.65, 6.82, 8.41, 5.47, \n\t//     7.29, 5.67, 6.54, 6.28, 11.4, 5.26, 10.52, \n\t//     13.66, 8.41, 9.64, 11.02, 11.6, 8.62, 7.98,\n\t//     9.22, 6.64, 6.33, 8.24, 8.69, 10.99, 8.41, \n\t//     9.81, 10.98, 10.25, 10.77, 11.27, 9.03, 7.37,\n\t//     10.05, 10.26, 8.99, 10.85, 11.85, 8.42, 9.47],\n\t//   \"factor\": [\n\t//     0.9294, 0.9346, 0.9533, 0.9488, 0.9488, \n\t//     0.9443, 0.9434, 0.9488, 0.956, 0.9709, 0.9756,\n\t//     0.9606, 0.9709, 0.9634, 0.9606, 0.9588,\n\t//     0.9681, 0.9737, 0.9881, 0.9709, 0.9881,\n\t//     0.9872, 0.9833, 0.993, 0.9872, 0.999, 0.9891,\n\t//     0.9911, 0.999, 0.993, 0.9862, 0.9921, 0.999,\n\t//     1, 0.993, 0.999, 1.007, 0.999, 1.005, 0.999,\n\t//     1.0101, 1.003, 1.004, 1.0142, 1.003, 1.002,\n\t//     1.007, 1.007, 1.0081]\n\t// }` \n\n\n/***/ },\n\n/***/ 63:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar TitleService = (function () {\n\t    function TitleService() {\n\t        this.title = 'Home';\n\t    }\n\t    TitleService.prototype.getTitle = function () {\n\t        return this.title;\n\t    };\n\t    TitleService.prototype.setTitle = function (title) {\n\t        this.title = title;\n\t    };\n\t    TitleService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], TitleService);\n\t    return TitleService;\n\t}());\n\texports.TitleService = TitleService;\n\n\n/***/ },\n\n/***/ 64:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>Parameterisations are saved within your browser's local storage.</p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n  <my-json-input #jsonInput\\n    [insert]=\\\"parameterisation.insert\\\"\\n    [jsonDisabled]=\\\"dataInFlight\\\"\\n    (insertUpdated)=\\\"insertUpdated($event)\\\"\\n    (jsonStatus)=\\\"onJsonStatusChange($event)\\\">\\n  </my-json-input>\\n\\n  <div class=\\\"mdl-grid\\\">\\n    <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n      <button\\n        mdl-button mdl-button-type=\\\"raised\\\" \\n        mdl-colored=\\\"primary\\\" \\n        mdl-ripple\\n        [disabled]=\\\"dataInFlight\\\"\\n        (click)=\\\"loadDemoData()\\\">Load Demo Data            \\n      </button>\\n      <button\\n        mdl-button mdl-button-type=\\\"raised\\\" \\n        mdl-colored=\\\"primary\\\" \\n        mdl-ripple\\n        [disabled]=\\\"submitDisabled\\\"\\n        (click)=\\\"onSubmit()\\\">Submit            \\n      </button>\\n      <div [hidden]=\\\"serverResponseValid\\\">\\n        {{serverErrorMessage}}\\n      </div>\\n    </div>\\n    <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n      <my-width-length-table\\n        [width]=\\\"parameterisation.width\\\"\\n        [length]=\\\"parameterisation.length\\\"\\n        [enabled]=\\\"jsonValid\\\">\\n      </my-width-length-table>\\n    </div>\\n  </div>\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <my-plot \\n      [insert]=\\\"parameterisation.insert\\\"\\n      [circle]=\\\"parameterisation.circle\\\"\\n      [ellipse]=\\\"parameterisation.ellipse\\\"\\n      [enabled]=\\\"jsonValid\\\">\\n    </my-plot>\\n\\n  </div>\\n</div>\\n\";\n\n/***/ },\n\n/***/ 65:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar PageNotFoundComponent = (function () {\n\t    function PageNotFoundComponent() {\n\t    }\n\t    PageNotFoundComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-page-not-found',\n\t            template: __webpack_require__(66)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], PageNotFoundComponent);\n\t    return PageNotFoundComponent;\n\t}());\n\texports.PageNotFoundComponent = PageNotFoundComponent;\n\n\n/***/ },\n\n/***/ 66:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    This page has not been found. Please provide feedback ...\\n  </div>\\n</div>\";\n\n/***/ },\n\n/***/ 67:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar local_storage_service_1 = __webpack_require__(68);\n\tvar HomeComponent = (function () {\n\t    function HomeComponent(myTitleService, myLocalStorageService) {\n\t        this.myTitleService = myTitleService;\n\t        this.myLocalStorageService = myLocalStorageService;\n\t    }\n\t    HomeComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Home');\n\t        this.testLocalStorage = this.myLocalStorageService.isSupported;\n\t        this.usedLocalStorageSpace = this.myLocalStorageService.getUsedSpace();\n\t    };\n\t    HomeComponent.prototype.testRemainingStorage = function () {\n\t        this.remainingLocalStorageSpace = this.myLocalStorageService.getRemainingSpace();\n\t    };\n\t    HomeComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-home',\n\t            template: __webpack_require__(70)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService, local_storage_service_1.LocalStorageService])\n\t    ], HomeComponent);\n\t    return HomeComponent;\n\t}());\n\texports.HomeComponent = HomeComponent;\n\n\n/***/ },\n\n/***/ 68:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar localstoragemodule_1 = __webpack_require__(69);\n\tvar LocalStorageService = (function () {\n\t    function LocalStorageService() {\n\t        this.isSupported = localstoragemodule_1.LocalStorage.isSupported;\n\t        this.hasItem = localstoragemodule_1.LocalStorage.hasItem;\n\t        this.getRemainingSpace = localstoragemodule_1.LocalStorage.getRemainingSpace;\n\t        this.getMaximumSpace = localstoragemodule_1.LocalStorage.getMaximumSpace;\n\t        this.getUsedSpace = localstoragemodule_1.LocalStorage.getUsedSpace;\n\t        this.getItemUsedSpace = localstoragemodule_1.LocalStorage.getItemUsedSpace;\n\t        this.getBackup = localstoragemodule_1.LocalStorage.getBackup;\n\t        this.applyBackup = localstoragemodule_1.LocalStorage.applyBackup;\n\t        this.consoleInfo = localstoragemodule_1.LocalStorage.consoleInfo;\n\t    }\n\t    LocalStorageService = __decorate([\n\t        core_1.Injectable(), \n\t        __metadata('design:paramtypes', [])\n\t    ], LocalStorageService);\n\t    return LocalStorageService;\n\t}());\n\texports.LocalStorageService = LocalStorageService;\n\n\n/***/ },\n\n/***/ 69:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/**\n\t * Check if localStorage is supported                       const isSupported: boolean\n\t * Check if localStorage has an Item                        function hasItem(key: string): boolean\n\t * Get the amount of space left in localStorage             function getRemainingSpace(): number\n\t * Get the maximum amount of space in localStorage          function getMaximumSpace(): number\n\t * Get the used space in localStorage                       function getUsedSpace(): number\n\t * Get the used space of an item in localStorage            function getItemUsedSpace(): number\n\t * Backup Assosiative Array                                 interface Backup\n\t * Get a Backup of localStorage                             function getBackup(): Backup\n\t * Apply a Backup to localStorage                           function applyBackup(backup: Backup, fClear: boolean = true, fOverwriteExisting: boolean = true)\n\t * Dump all information of localStorage in the console      function consoleInfo(fShowMaximumSize: boolean = false)\n\t */\n\tvar LocalStorage;\n\t(function (LocalStorage) {\n\t    // Copied from https://gist.github.com/CodeiSir/1fb8bd9154dfde7eb0c7\n\t    // found from http://stackoverflow.com/a/34245594\n\t    /**\n\t     * Flag set true if the Browser supports localStorage, widthout affecting it\n\t     */\n\t    LocalStorage.isSupported = (function () {\n\t        try {\n\t            var itemBackup = localStorage.getItem(\"\");\n\t            localStorage.removeItem(\"\");\n\t            localStorage.setItem(\"\", itemBackup);\n\t            if (itemBackup === null)\n\t                localStorage.removeItem(\"\");\n\t            else\n\t                localStorage.setItem(\"\", itemBackup);\n\t            return true;\n\t        }\n\t        catch (e) {\n\t            return false;\n\t        }\n\t    })();\n\t    /**\n\t     * Check if localStorage has an Item / exists with the give key\n\t     * @param key the key of the Item\n\t     */\n\t    function hasItem(key) {\n\t        return localStorage.getItem(key) !== null;\n\t    }\n\t    LocalStorage.hasItem = hasItem;\n\t    /**\n\t     * This will return the left space in localStorage without affecting it's content\n\t     * Might be slow !!!\n\t     */\n\t    function getRemainingSpace() {\n\t        var itemBackup = localStorage.getItem(\"\");\n\t        var increase = true;\n\t        var data = \"1\";\n\t        var totalData = \"\";\n\t        var trytotalData = \"\";\n\t        while (true) {\n\t            try {\n\t                trytotalData = totalData + data;\n\t                localStorage.setItem(\"\", trytotalData);\n\t                totalData = trytotalData;\n\t                if (increase)\n\t                    data += data;\n\t            }\n\t            catch (e) {\n\t                if (data.length < 2) {\n\t                    break;\n\t                }\n\t                increase = false;\n\t                data = data.substr(data.length / 2);\n\t            }\n\t        }\n\t        if (itemBackup === null)\n\t            localStorage.removeItem(\"\");\n\t        else\n\t            localStorage.setItem(\"\", itemBackup);\n\t        return totalData.length;\n\t    }\n\t    LocalStorage.getRemainingSpace = getRemainingSpace;\n\t    /**\n\t     * This function returns the maximum size of localStorage without affecting it's content\n\t     * Might be slow !!!\n\t     */\n\t    function getMaximumSpace() {\n\t        var backup = getBackup();\n\t        localStorage.clear();\n\t        var max = getRemainingSpace();\n\t        applyBackup(backup);\n\t        return max;\n\t    }\n\t    LocalStorage.getMaximumSpace = getMaximumSpace;\n\t    /**\n\t     * This will return the currently used size of localStorage\n\t     */\n\t    function getUsedSpace() {\n\t        var sum = 0;\n\t        for (var i = 0; i < localStorage.length; ++i) {\n\t            var key = localStorage.key(i);\n\t            var value = localStorage.getItem(key);\n\t            sum += key.length + value.length;\n\t        }\n\t        return sum;\n\t    }\n\t    LocalStorage.getUsedSpace = getUsedSpace;\n\t    /**\n\t     * This will return the currently used size of a given Item, returns NaN if key is not found\n\t     * @param key\n\t     */\n\t    function getItemUsedSpace(key) {\n\t        var value = localStorage.getItem(key);\n\t        if (value === null) {\n\t            return NaN;\n\t        }\n\t        else {\n\t            return key.length + value.length;\n\t        }\n\t    }\n\t    LocalStorage.getItemUsedSpace = getItemUsedSpace;\n\t    /**\n\t     * This will return a localStorage-backup (Associative-Array key->value)\n\t     */\n\t    function getBackup() {\n\t        var backup = {};\n\t        for (var i = 0; i < localStorage.length; ++i) {\n\t            var key = localStorage.key(i);\n\t            var value = localStorage.getItem(key);\n\t            backup[key] = value;\n\t        }\n\t        return backup;\n\t    }\n\t    LocalStorage.getBackup = getBackup;\n\t    /**\n\t     * This will apply a localStorage-Backup (Associative-Array key->value)\n\t     * @param backup            associative-array\n\t     * @param fClear             optional flag to clear all existing storage first. Default: true\n\t     * @param fOverwriteExisting optional flag to replace existing keys. Default: true\n\t     */\n\t    function applyBackup(backup, fClear, fOverwriteExisting) {\n\t        if (fClear === void 0) { fClear = true; }\n\t        if (fOverwriteExisting === void 0) { fOverwriteExisting = true; }\n\t        if (fClear == true) {\n\t            localStorage.clear();\n\t        }\n\t        for (var key in backup) {\n\t            if (fOverwriteExisting === false && backup[key] !== undefined) {\n\t                continue;\n\t            }\n\t            var value = backup[key];\n\t            localStorage.setItem(key, value);\n\t        }\n\t    }\n\t    LocalStorage.applyBackup = applyBackup;\n\t    /**\n\t     * This functions dumps all keys and values of the local Storage to the console,\n\t     * as well as the current size and number of items\n\t     * @param fShowMaximumSize optional, flag show maximum size of localStorage. Default: false\n\t     */\n\t    function consoleInfo(fShowMaximumSize) {\n\t        if (fShowMaximumSize === void 0) { fShowMaximumSize = false; }\n\t        var amount = 0;\n\t        var size = 0;\n\t        for (var i = 0; i < localStorage.length; ++i) {\n\t            var key = localStorage.key(i);\n\t            var value = localStorage.getItem(key);\n\t            console.log(amount, key, value);\n\t            size += key.length + value.length;\n\t            amount++;\n\t        }\n\t        console.log(\"Total entries:\", amount);\n\t        console.log(\"Total size:\", size);\n\t        if (fShowMaximumSize === true) {\n\t            var maxSize = getMaximumSpace();\n\t            console.log(\"Total size:\", maxSize);\n\t        }\n\t    }\n\t    LocalStorage.consoleInfo = consoleInfo;\n\t})(LocalStorage = exports.LocalStorage || (exports.LocalStorage = {}));\n\t/*\n\t    // Example\n\t    console.log(\"LocalStorage supported:\", LocalStorage.isSupported)// true - I hope so anyways 😉\n\t    localStorage.setItem(\"asd\", \"ASDASD\")                           // sets / overwrites the item \"asd\"\n\t    localStorage.setItem(\"asd\" + Math.random(), \"ASDASD\")           // set another item each time you refresh the page\n\t    var backup = LocalStorage.getBackup()                           // creates a backup, we will need it later!\n\t    console.log(JSON.stringify(backup))                             // this is how the backup looks like\n\t    var usedSpace = LocalStorage.getUsedSpace()                     // amount of space used right now\n\t    console.log(\"Used Space:\", usedSpace)\n\t    var maxSpace = LocalStorage.getMaximumSpace()                   // amount of maximum space aviable\n\t    console.log(\"Maximum Space:\", maxSpace)\n\t    var remSpace = LocalStorage.getRemainingSpace()                 // amount of remaining space\n\t    console.log(\"Remaining Space:\", remSpace)\n\t    console.log(\"SpaceCheck\", maxSpace === usedSpace + remSpace)    // true\n\t    console.log(\"hasItem\", LocalStorage.hasItem(\"nothis0ne\"))       // we don't have this one in our localStorage\n\t    localStorage.clear()                                            // oops, we deleted the localStorage!\n\t    console.log(\"has asd\",LocalStorage.hasItem(\"asd\"))              // item asd is lost 😒\n\t    LocalStorage.applyBackup(backup)                                // but we have a backup, restore it!\n\t    LocalStorage.consoleInfo()                                      // show all the info we have, see the backup worked 😊\n\t*/ \n\n\n/***/ },\n\n/***/ 70:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <h4>Currently implemented</h4>\\n    Currently the loading of shapes from Dicom and parameterising them have been implemented. They are still a work in progress\\n    however they do have basic functionality. Please navigate to these sections using the navigation menu.\\n\\n    <h4>Local storage tests</h4>\\n    <p></p>\\n\\n    <div *ngIf=\\\"testLocalStorage\\\">\\n      <p>Your browser supports local storage. You currently have {{usedLocalStorageSpace}} B of used space. Most browsers support\\n        5 MB.\\n      </p>\\n\\n      <p>To check your remaining storage press the button below. Warning, this might be slow.</p>\\n      <button mdl-button mdl-button-type=\\\"raised\\\" mdl-colored=\\\"primary\\\" mdl-ripple (click)=\\\"testRemainingStorage()\\\">Test remaining local storage           \\n      </button>\\n      <div *ngIf=\\\"remainingLocalStorageSpace\\\">\\n        <p>You have {{remainingLocalStorageSpace}} B of local storage remaining which is available for use by this webapp.</p>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"!testLocalStorage\\\">\\n      <p>\\n        This webapp relies upon local storage working within your browser. Your browser does not support local storage. Please download\\n        and use a modern standards compliant browser such as\\n        <a href=\\\"https://www.google.com.au/chrome/browser/desktop/\\\">Chrome</a> or\\n        <a href=\\\"https://www.mozilla.org/en-GB/firefox/new/\\\">Firefox</a> to use this webapp.\\n      </p>\\n    </div>\\n\\n\\n    <h4>Brief overview</h4>\\n\\n    <h4>Paper(s?)</h4>\\n\\n\\n    <h4>Detailed instructions</h4>\\n\\n    <h4>Steps required to freeze your own version of this web app</h4>\\n      As I make improvements to this web app I will be updating this online version. \\n      However, understandably, you may desire to not have the web app you are using day to day change on you.\\n      To achieve this you can create your own version of the server and your own version of the web app.\\n      \\n      For now this will require a bit of your own working out until I provide further instructions.\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n\\n    <h4>Source code</h4>\\n    <p>\\n      For the purpose of coding transparency and to enable the user to take responsibility for the code themselves any redistribution\\n      or derivative works of this web app need to include the source code of any additions made and need to include a way\\n      for users to easily access the source code of each of the components used or linked to.\\n    </p>\\n\\n    <h5>Server Code</h5>\\n\\n    <h6>Base Electron Insert Factor Source Code</h6>\\n    <p>\\n      The python file which does the shape parameterisation and insert factor modelling which is used by the server is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py</a>\\n    </p>\\n\\n    <h6>Tornado REST API</h6>\\n    <p>\\n      The Tornado REST API is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py</a>\\n    </p>\\n\\n    <h6>Heroku App code</h6>\\n    <p>\\n      The code to make the heroku app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server\\\">\\n              https://github.com/SimonBiggs/electronfactor-server</a>\\n    </p>\\n\\n    <h5>Web App Code</h5>\\n    <p>\\n      The source code for this web app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp\\\">\\n            https://github.com/SimonBiggs/electroninserts-webapp</a>\\n    </p>\\n\\n    <h5>Libraries used</h5>\\n    <h6>Bokehjs</h6>\\n    <p>.\\n      The bokehjs library is used for plots. Documentation can be found here:\\n      <a href=\\\"http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs\\\">\\n              http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/bokeh/bokeh/tree/master/bokehjs\\\">\\n              https://github.com/bokeh/bokeh/tree/master/bokehjs</a>\\n    </p>\\n\\n    <h6>dcmjs</h6>\\n    <p>\\n      The dcmjs library is used for reading dicom files within javascript. Website can be found here:\\n      <a href=\\\"http://dcmjs.org/\\\">\\n              http://dcmjs.org/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/commontk/dcmjs\\\">\\n              https://github.com/commontk/dcmjs</a>\\n    </p>\\n\\n    <h6>Angular2</h6>\\n    <p>\\n      This interface was built using Angular2. Documentation can be found here:\\n      <a href=\\\"https://angular.io/docs/ts/latest/\\\">\\n              https://angular.io/docs/ts/latest/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/angular/angular\\\">\\n              https://github.com/angular/angular</a>\\n    </p>\\n    <h6>Remaining libraries</h6>\\n    <p>\\n      For all remaining libraries used please see the npm package.json file:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json</a>\\n    </p>\\n    <p>\\n      And the index file for various imports:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html</a>\\n    </p>\\n  </div>\\n\\n\\n</div>\";\n\n/***/ },\n\n/***/ 71:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar ModelComponent = (function () {\n\t    function ModelComponent(myTitleService) {\n\t        this.myTitleService = myTitleService;\n\t    }\n\t    ModelComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Model');\n\t    };\n\t    ModelComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-model',\n\t            template: __webpack_require__(72)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService])\n\t    ], ModelComponent);\n\t    return ModelComponent;\n\t}());\n\texports.ModelComponent = ModelComponent;\n\n\n/***/ },\n\n/***/ 72:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>Model component.</p>\\n  </div>\\n</div>\";\n\n/***/ },\n\n/***/ 73:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar ExportImportComponent = (function () {\n\t    function ExportImportComponent(myTitleService) {\n\t        this.myTitleService = myTitleService;\n\t    }\n\t    ExportImportComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Export / Import');\n\t    };\n\t    ExportImportComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-export-import',\n\t            template: __webpack_require__(74)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService])\n\t    ], ExportImportComponent);\n\t    return ExportImportComponent;\n\t}());\n\texports.ExportImportComponent = ExportImportComponent;\n\n\n/***/ },\n\n/***/ 74:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>Export / Import component.</p>\\n  </div>\\n</div>\";\n\n/***/ },\n\n/***/ 75:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar SpecificationsComponent = (function () {\n\t    function SpecificationsComponent(myTitleService) {\n\t        this.myTitleService = myTitleService;\n\t    }\n\t    SpecificationsComponent.prototype.ngOnInit = function () {\n\t        this.myTitleService.setTitle('Specifications');\n\t    };\n\t    SpecificationsComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-specifications',\n\t            template: __webpack_require__(76)\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService])\n\t    ], SpecificationsComponent);\n\t    return SpecificationsComponent;\n\t}());\n\texports.SpecificationsComponent = SpecificationsComponent;\n\n\n/***/ },\n\n/***/ 76:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>Specifications component.</p>\\n  </div>\\n</div>\";\n\n/***/ },\n\n/***/ 77:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar router_1 = __webpack_require__(30);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar js_yaml_1 = __webpack_require__(78);\n\t// declare var yaml: any;\n\t// declare var pypyjs: any;\n\tvar DicomComponent = (function () {\n\t    function DicomComponent(myTitleService, router) {\n\t        this.myTitleService = myTitleService;\n\t        this.router = router;\n\t        this.parameterisation = {\n\t            insert: {\n\t                x: [0],\n\t                y: [0]\n\t            },\n\t            width: null,\n\t            length: null,\n\t            circle: null,\n\t            ellipse: null\n\t        };\n\t        this.rawBlockData = '';\n\t        this.vectorData = '';\n\t        this.parseDataString = '';\n\t        this.dicomExitCode = 1;\n\t        this.header = '';\n\t        this.reader = new FileReader();\n\t        this.firstLoad = true;\n\t    }\n\t    DicomComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        this.reader.onload = function () { return _this.onceFileIsLoaded(); };\n\t        localStorage.removeItem('dicomPrint');\n\t        Module.print = this.sendDicomDumpToLocalStorage;\n\t        // Module.printErr = this.sendDicomDumpToLocalStorage;\n\t        this.myTitleService.setTitle('Dicom');\n\t        // pypyjs.exec(\"import json; print json.dumps({'hello': 'world'})\")\n\t        // pypyjs.exec(\"import dicom; print json.dumps({'hello': 'world'})\")\n\t    };\n\t    DicomComponent.prototype.sendDicomDumpToLocalStorage = function (print) {\n\t        var priorDicomPrint = localStorage.getItem('dicomPrint');\n\t        localStorage.setItem('dicomPrint', priorDicomPrint + '\\n' + print);\n\t    };\n\t    DicomComponent.prototype.updateDicomWarning = function () {\n\t        var status = Number(localStorage.getItem('dicomLoadStatus'));\n\t        if (status == 0) {\n\t            this.getBlockDataButton.disabled = false;\n\t            this.dicomWarning = null;\n\t        }\n\t        else {\n\t            this.getBlockDataButton.disabled = true;\n\t            this.dicomWarning = 'An error occured while trying to find the block data within the provided Dicom file.';\n\t        }\n\t    };\n\t    DicomComponent.prototype.onceFileIsLoaded = function () {\n\t        var content = new Int8Array(this.reader.result);\n\t        console.log(content.length);\n\t        // let fileName = Math.random().toString(36).substr(2, 5);\n\t        // console.log(fileName);\n\t        var fileName = 'dicomfile';\n\t        if (FS.isFile(fileName)) {\n\t            FS.unlink(fileName);\n\t        }\n\t        FS.writeFile(fileName, content, { encoding: \"binary\" });\n\t        var exit_orig = Module.exit;\n\t        Module.exit = function (status) {\n\t            localStorage.setItem('dicomLoadStatus', status);\n\t            exit_orig(status);\n\t        };\n\t        Module.callMain(['dcmdump', fileName, '--print-all']);\n\t        // if (Module.calledRun) {\n\t        //   Module.callMain(['dcmdump', fileName, '--print-all']);\n\t        // }\n\t        // else {\n\t        // Module.callMain(\n\t        //   ['dcmdump', fileName, '--print-all', '--search', '300a,0106'] // http://support.dcmtk.org/docs/dcmdump.html\n\t        // );\n\t        // }\n\t        Module.exit = exit_orig;\n\t        console.log(Module);\n\t        this.updateDicomWarning();\n\t        FS.unlink(fileName);\n\t    };\n\t    DicomComponent.prototype.openFile = function (event) {\n\t        console.log(event.srcElement.files);\n\t        var file = event.srcElement.files[0];\n\t        localStorage.removeItem('dicomPrint');\n\t        localStorage.setItem('dicomPrint', ' ');\n\t        this.reader.readAsArrayBuffer(file);\n\t    };\n\t    DicomComponent.prototype.convertDicomDumpToDict = function (dump) {\n\t        var yamlConvert = dump.replace(/\\s*#[^#\\n]*\\n/g, '\\n');\n\t        yamlConvert = yamlConvert.replace(/\\s*#[^#\\n]*$/g, '');\n\t        yamlConvert = yamlConvert.replace(/^\\n*/, '');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\))/g, '$1:');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) SQ \\(Sequence with undefined length #=\\d+\\)/g, '$1');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) na \\(Item with undefined length #=\\d+\\)/g, '$1');\n\t        yamlConvert = yamlConvert.replace(/ *\\(fffe,e00d\\): na \\(ItemDelimitationItem\\) *\\n/g, '');\n\t        yamlConvert = yamlConvert.replace(/ *\\(fffe,e0dd\\): na \\(SequenceDelimitationItem\\)\\n/g, '');\n\t        yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) (.*)/g, '$1 \"$2\"');\n\t        yamlConvert = yamlConvert.replace(/\\\\/g, ', ');\n\t        yamlConvert = yamlConvert.replace(/\\(fffe,e000\\):/g, ' - ');\n\t        yamlConvert = js_yaml_1.safeLoad(yamlConvert);\n\t        return yamlConvert;\n\t    };\n\t    DicomComponent.prototype.convertBlockDataToCoords = function (blockData) {\n\t        var listString = /\\[[, \\d\\.-]*\\]/.exec(blockData).toString();\n\t        // console.log(listString);\n\t        var parsedData = JSON.parse('{ \"data\": ' + listString + '}');\n\t        var x = [];\n\t        var y = [];\n\t        var i = 0;\n\t        for (var _i = 0, _a = parsedData['data']; _i < _a.length; _i++) {\n\t            var num = _a[_i];\n\t            if (i % 2 == 0) {\n\t                x.push(parseFloat((num / 10).toFixed(2)));\n\t            }\n\t            else {\n\t                y.push(parseFloat((num / 10).toFixed(2)));\n\t            }\n\t            i++;\n\t        }\n\t        var insert = {\n\t            \"x\": x,\n\t            \"y\": y\n\t        };\n\t        return insert;\n\t    };\n\t    DicomComponent.prototype.dicomPullFloat = function (input) {\n\t        return Number(input.replace(/.*\\[([\\d\\.-]*)\\].*/, \"$1\"));\n\t    };\n\t    DicomComponent.prototype.dicomPullString = function (input) {\n\t        return input.replace(/.*\\[(\\w*)\\].*/, \"$1\");\n\t    };\n\t    DicomComponent.prototype.getBlockData = function () {\n\t        var dicomPrint = localStorage.getItem('dicomPrint');\n\t        var dicomDict = this.convertDicomDumpToDict(dicomPrint);\n\t        this.insertList = []; // Later on update this to be an object that includes all insert details\n\t        var beamSequence = dicomDict[\"(300a,00b0)\"];\n\t        for (var _i = 0, beamSequence_1 = beamSequence; _i < beamSequence_1.length; _i++) {\n\t            var beam = beamSequence_1[_i];\n\t            var blockData = beam[\"(300a,00f4)\"][0][\"(300a,0106)\"];\n\t            var coordinates = this.convertBlockDataToCoords(blockData);\n\t            var applicator = this.dicomPullString(beam[\"(300a,0107)\"][0][\"(300a,0108)\"]);\n\t            var energy = this.dicomPullFloat(beam[\"(300a,0111)\"][0][\"(300a,0114)\"]);\n\t            var ssd = this.dicomPullFloat(beam[\"(300a,0111)\"][0][\"(300a,0130)\"]) / 10;\n\t            var insert = {\n\t                \"coordinates\": coordinates,\n\t                \"applicator\": applicator,\n\t                \"energy\": energy,\n\t                \"ssd\": ssd\n\t            };\n\t            this.insertList.push(insert);\n\t        }\n\t        console.log(this.insertList);\n\t        this.dicomInsert = this.insertList[0][\"coordinates\"];\n\t    };\n\t    DicomComponent.prototype.sendToParameterisation = function (insert) {\n\t        this.insertUpdated(insert);\n\t        localStorage.setItem(\"last_parameterisation\", JSON.stringify(this.parameterisation));\n\t        this.router.navigate([\"/parameterise\"]);\n\t    };\n\t    DicomComponent.prototype.parameterisationFromLocalStorage = function (localStorageParameterisationString) {\n\t        var localStorageParameterisation = JSON.parse(localStorageParameterisationString);\n\t        this.parameterisation.insert = localStorageParameterisation['insert'];\n\t        this.parameterisation.width = localStorageParameterisation['width'];\n\t        this.parameterisation.length = localStorageParameterisation['length'];\n\t        this.parameterisation.circle = localStorageParameterisation['circle'];\n\t        this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n\t    };\n\t    DicomComponent.prototype.insertUpdated = function (insert) {\n\t        var localStorageParameterisation = localStorage.getItem(JSON.stringify(insert));\n\t        if (localStorageParameterisation) {\n\t            this.parameterisationFromLocalStorage(localStorageParameterisation);\n\t        }\n\t        else {\n\t            this.parameterisation.insert = insert;\n\t            this.parameterisation.width = null;\n\t            this.parameterisation.length = null;\n\t            this.parameterisation.circle = null;\n\t            this.parameterisation.ellipse = null;\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('dicomOutput'), \n\t        __metadata('design:type', Object)\n\t    ], DicomComponent.prototype, \"dicomOutputDir\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('getBlockDataButton'), \n\t        __metadata('design:type', Object)\n\t    ], DicomComponent.prototype, \"getBlockDataButton\", void 0);\n\t    DicomComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-dicom',\n\t            template: __webpack_require__(113),\n\t            styles: ['./dicom.component.css']\n\t        }), \n\t        __metadata('design:paramtypes', [title_service_1.TitleService, router_1.Router])\n\t    ], DicomComponent);\n\t    return DicomComponent;\n\t}());\n\texports.DicomComponent = DicomComponent;\n\n\n/***/ },\n\n/***/ 113:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>This Dicom loader does not send the Dicom file off to a server. The entire reading of the dicom file is done within javascript.\\n    You can confirm this yourself by using the chrome web browser, pressing 'Ctrl + Shift + I'\\n    and then clicking on the network tab. When the file is chosen, then the block data is pulled and sent to parameterisation,\\n    at no point in this interaction is there network traffic.</p>\\n\\n    <p>The only data that will be sent to the server will be on either the paremeterisation tab or the model tab, and this data will\\n      just consist of x and y coordinates or widths, lengths, and factors.\\n    </p>\\n  <div>\\n</div>\\n<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <input type='file' (change)='openFile($event)'>\\n    <div *ngIf=\\\"dicomWarning\\\">{{dicomWarning}}</div>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <button #getBlockDataButton\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"true\\\"\\n      (click)=\\\"getBlockData()\\\">Get Dicom Block Data\\n    </button>\\n\\n    \\n  </div>\\n\\n  <div *ngFor=\\\"let insert of insertList\\\" class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    \\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      (click)=\\\"sendToParameterisation(insert.coordinates)\\\">Send to parameterisation           \\n    </button>\\n\\n    <p>{{insert | json}}</p>\\n  </div>\\n\\n\\n\\n</div>\";\n\n/***/ },\n\n/***/ 169:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar router_1 = __webpack_require__(30);\n\tvar platform_browser_1 = __webpack_require__(21);\n\tvar electron_api_service_1 = __webpack_require__(59);\n\tvar title_service_1 = __webpack_require__(63);\n\tvar AppComponent = (function () {\n\t    function AppComponent(electronApiService, myTitleService, router, title) {\n\t        var _this = this;\n\t        this.electronApiService = electronApiService;\n\t        this.myTitleService = myTitleService;\n\t        this.router = router;\n\t        this.title = title;\n\t        router.events\n\t            .filter(function (event) { return event instanceof router_1.NavigationEnd; })\n\t            .subscribe(function () {\n\t            _this.pageTitle = _this.myTitleService.getTitle();\n\t            _this.title.setTitle(_this.myTitleService.getTitle() +\n\t                ' | Electron Insert Factor Modelling');\n\t        });\n\t    }\n\t    AppComponent.prototype.ngOnInit = function () {\n\t        var redirect = sessionStorage['redirect'];\n\t        delete sessionStorage['redirect'];\n\t        if (redirect && redirect != location.href) {\n\t            history.replaceState(null, null, redirect);\n\t            this.router.navigate([redirect]);\n\t        }\n\t        this.electronApiService.wakeUpServer();\n\t        this.pageTitle = this.myTitleService.getTitle();\n\t        this.title.setTitle(this.myTitleService.getTitle() +\n\t            ' | Electron Insert Factor Modelling');\n\t    };\n\t    AppComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-app',\n\t            template: __webpack_require__(170),\n\t        }), \n\t        __metadata('design:paramtypes', [electron_api_service_1.ElectronApiService, title_service_1.TitleService, router_1.Router, platform_browser_1.Title])\n\t    ], AppComponent);\n\t    return AppComponent;\n\t}());\n\texports.AppComponent = AppComponent;\n\n\n/***/ },\n\n/***/ 170:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n<!--<md-sidenav-layout>\\n\\n  <md-sidenav #sidenav mode=\\\"side\\\" class=\\\"app-sidenav\\\">\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </md-sidenav>\\n\\n  <md-toolbar color=\\\"primary\\\">\\n    <button class=\\\"app-icon-button\\\" (click)=\\\"sidenav.toggle()\\\">\\n      <i class=\\\"material-icons app-toolbar-menu\\\">menu</i>\\n    </button>\\n\\n    {{pageTitle}}\\n\\n    <span class=\\\"app-toolbar-filler\\\"></span>\\n    <button md-button (click)=\\\"isDarkTheme = !isDarkTheme\\\">TOGGLE DARK THEME</button>\\n  </md-toolbar>\\n\\n  <div class=\\\"app-content\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n\\n\\n</md-sidenav-layout>-->\\n\\n\\n<mdl-layout mdl-layout-fixed-drawer mdl-layout-fixed-header>\\n  <mdl-layout-header>\\n    <mdl-layout-header-row>\\n      <mdl-layout-title>{{pageTitle}}</mdl-layout-title>\\n    </mdl-layout-header-row>\\n  </mdl-layout-header>\\n  <mdl-layout-drawer>\\n    <mdl-layout-title>Electron Factors</mdl-layout-title>\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </mdl-layout-drawer>\\n  <mdl-layout-content>\\n\\n    <router-outlet></router-outlet>\\n\\n  </mdl-layout-content>\\n</mdl-layout>\";\n\n/***/ },\n\n/***/ 171:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar coordinates_1 = __webpack_require__(172);\n\tvar PlotComponent = (function () {\n\t    function PlotComponent() {\n\t        this.jsonValid = true;\n\t        this.plt = Bokeh.Plotting;\n\t        this.tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';\n\t        this.xrange = Bokeh.Range1d(-6, 6);\n\t        this.yrange = Bokeh.Range1d(-6, 6);\n\t        this.fig = this.plt.figure({\n\t            title: 'Electron Insert Plot', tools: this.tools,\n\t            x_range: this.xrange, y_range: this.yrange,\n\t            plot_width: 300, plot_height: 300\n\t        });\n\t        this.source = new Bokeh.ColumnDataSource();\n\t        this.doc = new Bokeh.Document();\n\t    }\n\t    PlotComponent.prototype.ngOnChanges = function () {\n\t        this.jsonValid = false;\n\t        this.tempSource = {\n\t            \"xs\": [[0], [0], [0]],\n\t            \"ys\": [[0], [0], [0]],\n\t            \"colour\": [\"navy\", \"firebrick\", \"green\"]\n\t        };\n\t        var xAll = [];\n\t        var yAll = [];\n\t        if (this.enabled) {\n\t            if (this.insert) {\n\t                if ('x' in this.insert && 'y' in this.insert) {\n\t                    this.tempSource.xs[0] = this.insert.x.concat(this.insert.x[0]);\n\t                    this.tempSource.ys[0] = this.insert.y.concat(this.insert.y[0]);\n\t                    xAll = xAll.concat(this.tempSource.xs[0]);\n\t                    yAll = yAll.concat(this.tempSource.ys[0]);\n\t                }\n\t            }\n\t            if (this.circle) {\n\t                if ('x' in this.circle && 'y' in this.circle) {\n\t                    this.tempSource.xs[1] = this.circle.x;\n\t                    this.tempSource.ys[1] = this.circle.y;\n\t                    xAll = xAll.concat(this.tempSource.xs[1]);\n\t                    yAll = yAll.concat(this.tempSource.ys[1]);\n\t                }\n\t            }\n\t            if (this.ellipse) {\n\t                if ('x' in this.ellipse && 'y' in this.ellipse) {\n\t                    this.tempSource.xs[2] = this.ellipse.x;\n\t                    this.tempSource.ys[2] = this.ellipse.y;\n\t                    xAll = xAll.concat(this.tempSource.xs[2]);\n\t                    yAll = yAll.concat(this.tempSource.ys[2]);\n\t                }\n\t            }\n\t        }\n\t        var xMax = Math.max.apply(Math, xAll);\n\t        var xMin = Math.min.apply(Math, xAll);\n\t        var yMax = Math.max.apply(Math, yAll);\n\t        var yMin = Math.min.apply(Math, yAll);\n\t        var range = Math.max(xMax - xMin, yMax - yMin) * 1.1;\n\t        var sqXMax = (xMax + xMin) / 2 + range / 2;\n\t        var sqXMin = (xMax + xMin) / 2 - range / 2;\n\t        var sqYMax = (yMax + yMin) / 2 + range / 2;\n\t        var sqYMin = (yMax + yMin) / 2 - range / 2;\n\t        this.fig.attributes.x_range.start = sqXMin;\n\t        this.fig.attributes.x_range.end = sqXMax;\n\t        this.fig.attributes.y_range.start = sqYMin;\n\t        this.fig.attributes.y_range.end = sqYMax;\n\t        // this.fig.update_range();\n\t        // console.log(this.fig);\n\t        this.source.data = this.tempSource;\n\t    };\n\t    PlotComponent.prototype.ngAfterViewInit = function () {\n\t        // this.ngOnChanges();\n\t        this.fig.multi_line({ field: 'xs' }, { field: 'ys' }, {\n\t            source: this.source,\n\t            line_width: 2,\n\t            color: { field: 'colour' }\n\t        });\n\t        this.doc.add_root(this.fig);\n\t        Bokeh.embed.add_document_standalone(this.doc, this.bokehplot.nativeElement);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], PlotComponent.prototype, \"insert\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], PlotComponent.prototype, \"circle\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], PlotComponent.prototype, \"ellipse\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], PlotComponent.prototype, \"enabled\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('bokehplot'), \n\t        __metadata('design:type', Object)\n\t    ], PlotComponent.prototype, \"bokehplot\", void 0);\n\t    PlotComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-plot',\n\t            template: __webpack_require__(173),\n\t            styles: [__webpack_require__(174)]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], PlotComponent);\n\t    return PlotComponent;\n\t}());\n\texports.PlotComponent = PlotComponent;\n\n\n/***/ },\n\n/***/ 172:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar Coordinates = (function () {\n\t    function Coordinates(x, y) {\n\t        this.x = x;\n\t        this.y = y;\n\t    }\n\t    return Coordinates;\n\t}());\n\texports.Coordinates = Coordinates;\n\n\n/***/ },\n\n/***/ 173:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\\n  <div class=\\\"bk-root\\\" style=\\\"height:300px\\\">\\n    <div #bokehplot></div>\\n  </div>\\n\\n\\n  <div [hidden]=\\\"jsonValid\\\" class=\\\"alert alert-danger\\\">\\n      {{jsonErrorMessage}}\\n  </div>\\n\";\n\n/***/ },\n\n/***/ 174:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"\"\n\n/***/ },\n\n/***/ 175:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar angular2_mdl_1 = __webpack_require__(114);\n\tvar WidthLengthTableComponent = (function () {\n\t    function WidthLengthTableComponent() {\n\t        this.tableData = [\n\t            { width: null, length: null }\n\t        ];\n\t        this.tableModel = new angular2_mdl_1.MdlDefaultTableModel([\n\t            { key: 'width', name: 'Width', sortable: true, numeric: true },\n\t            { key: 'length', name: 'Length', sortable: true, numeric: true }\n\t        ]);\n\t    }\n\t    WidthLengthTableComponent.prototype.ngOnChanges = function () {\n\t        if (this.enabled) {\n\t            this.tableData[0].width = this.width;\n\t            this.tableData[0].length = this.length;\n\t        }\n\t        else {\n\t            this.tableData[0].width = null;\n\t            this.tableData[0].length = null;\n\t        }\n\t    };\n\t    WidthLengthTableComponent.prototype.ngOnInit = function () {\n\t        this.tableModel.addAll(this.tableData);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], WidthLengthTableComponent.prototype, \"width\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], WidthLengthTableComponent.prototype, \"length\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], WidthLengthTableComponent.prototype, \"enabled\", void 0);\n\t    WidthLengthTableComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-width-length-table',\n\t            template: __webpack_require__(176),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], WidthLengthTableComponent);\n\t    return WidthLengthTableComponent;\n\t}());\n\texports.WidthLengthTableComponent = WidthLengthTableComponent;\n\n\n/***/ },\n\n/***/ 176:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<mdl-table mdl-shadow=\\\"2\\\"\\n  [table-model]=\\\"tableModel\\\">\\n</mdl-table>\";\n\n/***/ },\n\n/***/ 177:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar my_json_pipe_1 = __webpack_require__(178);\n\tvar coordinates_1 = __webpack_require__(172);\n\tvar JsonInputComponent = (function () {\n\t    function JsonInputComponent() {\n\t        this.insertUpdated = new core_1.EventEmitter();\n\t        this.jsonStatus = new core_1.EventEmitter();\n\t        this.jsonValid = true;\n\t    }\n\t    JsonInputComponent.prototype.onInput = function (jsonInput) {\n\t        this.parseAndCheckJSON(jsonInput);\n\t        this.insertUpdated.emit(this.insert);\n\t    };\n\t    JsonInputComponent.prototype.ngOnChanges = function () {\n\t        if (this.refresh) {\n\t            this.jsonInputDir.value = new my_json_pipe_1.MyJsonPipe().transform(this.insert);\n\t            this.parseAndCheckJSON(this.jsonInputDir.value);\n\t            this.refresh = false;\n\t        }\n\t    };\n\t    JsonInputComponent.prototype.parseAndCheckJSON = function (jsonInput) {\n\t        var oldJsonValid = this.jsonValid;\n\t        this.jsonValid = false;\n\t        try {\n\t            var parsedJSON = JSON.parse(jsonInput);\n\t            if ('x' in parsedJSON && 'y' in parsedJSON) {\n\t                if (parsedJSON.x.length === parsedJSON.y.length) {\n\t                    var x = parsedJSON.x;\n\t                    var y = parsedJSON.y;\n\t                    var insert = {\n\t                        x: x,\n\t                        y: y\n\t                    };\n\t                    this.insert = insert;\n\t                    this.jsonValid = true;\n\t                }\n\t                else {\n\t                    this.jsonErrorMessage = 'The length of x doesn\\'t match the length of y.';\n\t                }\n\t            }\n\t            else {\n\t                this.jsonErrorMessage = 'Either x or y is missing.';\n\t            }\n\t        }\n\t        catch (err) {\n\t            this.jsonErrorMessage = 'Error in JSON input. ' + err;\n\t        }\n\t        finally {\n\t            if (this.jsonValid != oldJsonValid) {\n\t                this.jsonStatus.emit(this.jsonValid);\n\t            }\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', coordinates_1.Coordinates)\n\t    ], JsonInputComponent.prototype, \"insert\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], JsonInputComponent.prototype, \"jsonDisabled\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Boolean)\n\t    ], JsonInputComponent.prototype, \"refresh\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', Object)\n\t    ], JsonInputComponent.prototype, \"insertUpdated\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', Object)\n\t    ], JsonInputComponent.prototype, \"jsonStatus\", void 0);\n\t    __decorate([\n\t        core_1.ViewChild('jsonInput'), \n\t        __metadata('design:type', Object)\n\t    ], JsonInputComponent.prototype, \"jsonInputDir\", void 0);\n\t    JsonInputComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-json-input',\n\t            template: __webpack_require__(179),\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], JsonInputComponent);\n\t    return JsonInputComponent;\n\t}());\n\texports.JsonInputComponent = JsonInputComponent;\n\n\n/***/ },\n\n/***/ 178:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar MyJsonPipe = (function () {\n\t    function MyJsonPipe() {\n\t    }\n\t    MyJsonPipe.prototype.transform = function (insert) {\n\t        var jsonText = JSON.stringify(insert);\n\t        jsonText = jsonText.replace(/,/g, \", \");\n\t        return jsonText;\n\t    };\n\t    MyJsonPipe = __decorate([\n\t        core_1.Pipe({ name: 'myJson', pure: false }), \n\t        __metadata('design:paramtypes', [])\n\t    ], MyJsonPipe);\n\t    return MyJsonPipe;\n\t}());\n\texports.MyJsonPipe = MyJsonPipe;\n\n\n/***/ },\n\n/***/ 179:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<mdl-textfield #jsonInput\\n  [value]=\\\"insert | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  rows=\\\"8\\\" \\n  style=\\\"width:100%\\\"\\n  [disabled]=jsonDisabled>\\n</mdl-textfield>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\";\n\n/***/ },\n\n/***/ 180:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(3);\n\tvar NotYetImplimentedComponent = (function () {\n\t    function NotYetImplimentedComponent() {\n\t    }\n\t    NotYetImplimentedComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'my-not-yet-implimented',\n\t            template: __webpack_require__(181)\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], NotYetImplimentedComponent);\n\t    return NotYetImplimentedComponent;\n\t}());\n\texports.NotYetImplimentedComponent = NotYetImplimentedComponent;\n\n\n/***/ },\n\n/***/ 181:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    Due to this web app being a work in progress this page is not yet implimented.\\n  </div>\\n</div>\";\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** app.b14e6bf79d41e0ae5eff.js\n **/","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { AppModule } from './app/app.module';\n\nif (process.env.ENV === 'production') {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/main.ts\n **/","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { Title } from '@angular/platform-browser';\nimport { NgZone } from '@angular/core';\n// import {MaterialModule} from '@angular/material';\n\nimport { routing } from './app.routing';\n\nimport { MdlModule } from 'angular2-mdl';\n\nimport { AppComponent }  from './app.component';\nimport { PlotComponent } from './plot.component';\nimport { ParameteriseComponent } from './parameterise.component';\nimport { PageNotFoundComponent } from './page-not-found.component';\nimport { WidthLengthTableComponent } from './width-length-table.component';\nimport { JsonInputComponent } from './json-input.component';\nimport { NotYetImplimentedComponent } from './not-yet-implimented.component';\nimport { HomeComponent } from './home.component';\nimport { ModelComponent } from './model.component';\nimport { ExportImportComponent } from './export-import.component';\nimport { SpecificationsComponent } from './specifications.component';\nimport { DicomComponent } from './dicom.component';\n\nimport { MyJsonPipe } from './my-json.pipe'\n\nimport { ElectronApiService } from './electron-api.service';\nimport { DataService } from './data.service';\nimport { TitleService } from './title.service';\n// import { CookieService } from 'angular2-cookie/core';\nimport { LocalStorageService } from './local-storage.service';\n// import {WEB_STORAGE_PROVIDERS} from \"h5webstorage\";\n\n@NgModule({\n  imports: [\n     BrowserModule,\n     FormsModule,\n     HttpModule,\n     MdlModule,\n    //  MaterialModule.forRoot(),\n     routing     \n  ],\n  declarations: [\n    AppComponent,\n    ParameteriseComponent,\n    PlotComponent,\n    PageNotFoundComponent,\n    WidthLengthTableComponent,\n    JsonInputComponent,\n    MyJsonPipe,\n    NotYetImplimentedComponent,\n    HomeComponent,\n    ModelComponent,\n    ExportImportComponent,\n    SpecificationsComponent,\n    DicomComponent\n  ],\n  providers: [\n    ElectronApiService,\n    DataService,\n    TitleService,\n    Title,\n    LocalStorageService,\n    // WEB_STORAGE_PROVIDERS\n  ],\n  bootstrap: [\n    AppComponent\n  ]\n})\nexport class AppModule {\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.module.ts\n **/","import { ModuleWithProviders }  from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ParameteriseComponent } from './parameterise.component';\nimport { PageNotFoundComponent } from './page-not-found.component';\nimport { NotYetImplimentedComponent } from './not-yet-implimented.component';\nimport { HomeComponent } from './home.component';\nimport { ModelComponent } from './model.component';\nimport { ExportImportComponent } from './export-import.component';\nimport { SpecificationsComponent } from './specifications.component';\nimport { DicomComponent } from './dicom.component';\n\n\nconst appRoutes: Routes = [\n  {\n    path: 'home',\n    component: HomeComponent,\n    data: {\n      title: 'Home'\n    }\n  },\n  {\n    path: 'export-import',\n    component: ExportImportComponent\n  },\n  {\n    path: 'specifications',\n    component: SpecificationsComponent\n  },\n  {\n    path: 'dicom',\n    component: DicomComponent\n  },\n  {\n    path: 'parameterise',\n    component: ParameteriseComponent\n  },\n  {\n    path: 'model',\n    component: ModelComponent\n  },\n  {\n    path: '',\n    component: HomeComponent\n  },\n  {\n    path: '**', component: PageNotFoundComponent\n  }\n];\n\nexport const appRoutingProviders: any[] = [\n\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes);\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.routing.ts\n **/","import { Component, OnInit, Input, ViewChild } from '@angular/core';\n\nimport { Parameterisation } from './parameterisation';\n\n// import { CookieService } from 'angular2-cookie/core';\nimport { ElectronApiService } from './electron-api.service';\nimport { DataService } from './data.service';\nimport { TitleService } from './title.service';\n// import { LocalStorageService } from './local-storage.service';\n\nimport { DEMO_PARAMETERISE_INPUT } from './demo-data';\n\n@Component({\n  selector: 'my-parameterise',\n  template: require('./parameterise.component.html'),\n})\nexport class ParameteriseComponent implements OnInit {\n  parameterisation: Parameterisation = {\n    insert: {\n      x: [0],\n      y: [0]\n    },\n    width: null,\n    length: null,\n    circle: null,\n    ellipse: null\n  };\n\n  @ViewChild('jsonInput') jsonInputComponent: any;\n\n  jsonValid: boolean = true;\n\n  serverResponseValid: boolean = true;\n  serverErrorMessage: string;\n\n  dataInFlight: boolean = false;\n\n  submitDisabled: boolean = false;\n\n  refreshJsonInput: boolean = false;\n\n  parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n\n  constructor(\n    private electronApiService: ElectronApiService,\n    private dataService: DataService,\n    private myTitleService: TitleService\n  ) { }\n\n  getData(): void {\n    let localStorageParameterisation = localStorage[\"last_parameterisation\"];\n    if (localStorageParameterisation) {\n      this.parameterisationFromLocalStorage(localStorageParameterisation);\n    }\n    else {\n      this.loadDemoData();\n    }\n  }\n\n  loadDemoData(): void {\n    let demoData = JSON.parse(JSON.stringify(DEMO_PARAMETERISE_INPUT));\n    this.insertUpdated(demoData.insert);\n    this.jsonInputComponent.refresh = true;\n  }\n\n  onSubmit() {\n    this.dataInFlight = true;\n    this.checkSubmitButton();\n    this.electronApiService.parameteriseInsert(\n      this.parameteriseURL,\n      JSON.stringify(this.parameterisation.insert)\n    )\n      .then((parameterisationResult: any) => {\n        this.parameterisation.circle = parameterisationResult.circle;\n        this.parameterisation.ellipse = parameterisationResult.ellipse;\n        this.parameterisation.width = parameterisationResult.width;\n        this.parameterisation.length = parameterisationResult.length;\n        this.dataInFlight = false;\n        this.serverResponseValid = true;\n        this.checkSubmitButton()\n        localStorage.setItem(\n          JSON.stringify(this.parameterisation.insert), \n          JSON.stringify(this.parameterisation)\n        );\n        localStorage.setItem(\n          \"last_parameterisation\", JSON.stringify(this.parameterisation)\n        );\n      })\n  }\n\n  parameterisationFromLocalStorage(localStorageParameterisationString: string) {\n    let localStorageParameterisation = JSON.parse(localStorageParameterisationString); \n    this.parameterisation.insert = localStorageParameterisation['insert'];\n    this.parameterisation.width = localStorageParameterisation['width'];\n    this.parameterisation.length = localStorageParameterisation['length'];\n    this.parameterisation.circle = localStorageParameterisation['circle'];\n    this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n  }\n\n  insertUpdated(insert: any) {\n    let localStorageParameterisation = localStorage.getItem(JSON.stringify(insert))\n    if (localStorageParameterisation) {\n      this.parameterisationFromLocalStorage(localStorageParameterisation);\n    }\n    else {\n      this.parameterisation.insert = insert;\n      this.parameterisation.width = null;\n      this.parameterisation.length = null;\n      this.parameterisation.circle = null;\n      this.parameterisation.ellipse = null;\n    }\n  }\n\n  onJsonStatusChange(jsonStatus: boolean) {\n    this.jsonValid = jsonStatus;\n    this.checkSubmitButton();\n  }\n\n  checkSubmitButton() {\n    if (this.dataInFlight || !this.jsonValid ) {\n      this.submitDisabled = true;\n    }\n    else {\n      this.submitDisabled = false;\n    }\n  }\n\n  ngOnInit() {\n    this.getData();\n    this.myTitleService.setTitle('Parameterisation');\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/parameterise.component.ts\n **/","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class ElectronApiService {\n  // private parameteriseURL = 'http://electronapi.simonbiggs.net/parameterise';\n  // private modelURL = 'http://electronapi.simonbiggs.net/model';\n  private wakeUpURL = 'http://electronapi.simonbiggs.net/wakeup';\n\n  constructor(private http: Http) { }\n  // Initial get from server to wake it up\n  wakeUpServer() {\n    return this.http\n      .get(this.wakeUpURL).toPromise();\n  }\n\n  parameteriseInsert(parameteriseURL:string, parameteriseInput: string): Promise<any> {\n    return this.http\n            .post(parameteriseURL, parameteriseInput)\n            .toPromise()\n            .then(res => res.json())\n            .catch(this.handleError);\n  }\n\n  private handleError(error: any) {\n    console.error('An error occurred', error);\n    return Promise.reject(error.message || error);\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/electron-api.service.ts\n **/","import { Injectable } from '@angular/core';\nimport { Parameterisation } from './parameterisation'\n\nimport { DEMO_PARAMETERISE_INPUT } from './demo-data';\n// import { DEMO_MODEL_INPUT } from './demo-data';\n\n@Injectable()\nexport class DataService {\n    getParameterisationData(): Promise<Parameterisation> {\n        return Promise.resolve(DEMO_PARAMETERISE_INPUT);\n    };\n    // getModelData(): Promise<string> {\n    //     return Promise.resolve(DEMO_MODEL_INPUT);\n    // }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/data.service.ts\n **/","import { Parameterisation } from './parameterisation';\nimport { Coordinates } from './coordinates';\n\nconst insert: Coordinates = {\n  x: [\n    0.99, -0.14, -1.0, -1.73, -2.56, -3.17, -3.49,\n    -3.57, -3.17, -2.52, -1.76, -1.04, -0.17,\n    0.77, 1.63, 2.36, 2.79, 2.91, 3.04, 3.22,\n    3.34, 3.37, 3.08, 2.54, 1.88, 1.02, 0.99],\n  y: [\n    5.05, 4.98, 4.42, 3.24, 1.68, 0.6, -0.64,\n    -1.48, -2.38, -3.77, -4.81,  -5.26, -5.51,\n    -5.58, -5.23, -4.64, -3.77, -2.77, -1.68,\n    -0.29, 1.23, 2.68, 3.8, 4.6, 5.01, 5.08, \n    5.05]\n}\n\nexport const DEMO_PARAMETERISE_INPUT: Parameterisation = {\n  insert: insert,\n  circle: null,\n  ellipse: null,\n  width: null,\n  length: null\n};\n  \n// export const DEMO_MODEL_INPUT: string =`{\n//   \"width\": [\n//     3.15, 3.16, 3.17, 3.17, 3.17, 3.55, 3.66, \n//     3.71, 4.2, 4.21, 4.21, 4.21, 4.21, 4.38, \n//     4.48, 4.59, 4.59, 4.67, 5.21, 5.25, 5.26,\n//     5.26, 5.26, 5.34, 5.43, 5.72, 5.86, 6, 6.04,\n//     6.08, 6.3, 6.31, 6.41, 6.53, 6.54, 6.64, 6.78,\n//     6.9, 7.08, 7.18, 7.21, 7.36, 7.56, 7.6, 7.64,\n//     7.82, 8.06, 8.4, 9.45], \n//   \"length\": [\n//     3.16, 5.25, 13.64, 6.83, 9.43, 7.7, 5.04, \n//     4.36, 4.21, 10.51, 13.65, 6.82, 8.41, 5.47, \n//     7.29, 5.67, 6.54, 6.28, 11.4, 5.26, 10.52, \n//     13.66, 8.41, 9.64, 11.02, 11.6, 8.62, 7.98,\n//     9.22, 6.64, 6.33, 8.24, 8.69, 10.99, 8.41, \n//     9.81, 10.98, 10.25, 10.77, 11.27, 9.03, 7.37,\n//     10.05, 10.26, 8.99, 10.85, 11.85, 8.42, 9.47],\n//   \"factor\": [\n//     0.9294, 0.9346, 0.9533, 0.9488, 0.9488, \n//     0.9443, 0.9434, 0.9488, 0.956, 0.9709, 0.9756,\n//     0.9606, 0.9709, 0.9634, 0.9606, 0.9588,\n//     0.9681, 0.9737, 0.9881, 0.9709, 0.9881,\n//     0.9872, 0.9833, 0.993, 0.9872, 0.999, 0.9891,\n//     0.9911, 0.999, 0.993, 0.9862, 0.9921, 0.999,\n//     1, 0.993, 0.999, 1.007, 0.999, 1.005, 0.999,\n//     1.0101, 1.003, 1.004, 1.0142, 1.003, 1.002,\n//     1.007, 1.007, 1.0081]\n// }`\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/demo-data.ts\n **/","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class TitleService {\n  title = 'Home';\n\n  getTitle(): string {\n    return this.title;\n  }\n\n  setTitle(title: string) {\n    this.title = title;\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/title.service.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>Parameterisations are saved within your browser's local storage.</p>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n  <my-json-input #jsonInput\\n    [insert]=\\\"parameterisation.insert\\\"\\n    [jsonDisabled]=\\\"dataInFlight\\\"\\n    (insertUpdated)=\\\"insertUpdated($event)\\\"\\n    (jsonStatus)=\\\"onJsonStatusChange($event)\\\">\\n  </my-json-input>\\n\\n  <div class=\\\"mdl-grid\\\">\\n    <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n      <button\\n        mdl-button mdl-button-type=\\\"raised\\\" \\n        mdl-colored=\\\"primary\\\" \\n        mdl-ripple\\n        [disabled]=\\\"dataInFlight\\\"\\n        (click)=\\\"loadDemoData()\\\">Load Demo Data            \\n      </button>\\n      <button\\n        mdl-button mdl-button-type=\\\"raised\\\" \\n        mdl-colored=\\\"primary\\\" \\n        mdl-ripple\\n        [disabled]=\\\"submitDisabled\\\"\\n        (click)=\\\"onSubmit()\\\">Submit            \\n      </button>\\n      <div [hidden]=\\\"serverResponseValid\\\">\\n        {{serverErrorMessage}}\\n      </div>\\n    </div>\\n    <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n      <my-width-length-table\\n        [width]=\\\"parameterisation.width\\\"\\n        [length]=\\\"parameterisation.length\\\"\\n        [enabled]=\\\"jsonValid\\\">\\n      </my-width-length-table>\\n    </div>\\n  </div>\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <my-plot \\n      [insert]=\\\"parameterisation.insert\\\"\\n      [circle]=\\\"parameterisation.circle\\\"\\n      [ellipse]=\\\"parameterisation.ellipse\\\"\\n      [enabled]=\\\"jsonValid\\\">\\n    </my-plot>\\n\\n  </div>\\n</div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/parameterise.component.html\n ** module id = 64\n ** module chunks = 0\n **/","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-page-not-found',\n  template: require('./page-not-found.component.html')\n})\nexport class PageNotFoundComponent {\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/page-not-found.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    This page has not been found. Please provide feedback ...\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/page-not-found.component.html\n ** module id = 66\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\nimport { LocalStorageService } from './local-storage.service';\n\n\n@Component({\n  selector: 'my-home',\n  template: require('./home.component.html')\n})\nexport class HomeComponent implements OnInit {\n  testLocalStorage: boolean;\n  usedLocalStorageSpace: number;\n  remainingLocalStorageSpace: number;\n\n\n  constructor(\n    private myTitleService: TitleService,\n    private myLocalStorageService: LocalStorageService\n  ) {}\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Home');\n    this.testLocalStorage = this.myLocalStorageService.isSupported;\n    this.usedLocalStorageSpace = this.myLocalStorageService.getUsedSpace();\n  }\n\n  testRemainingStorage() {\n    this.remainingLocalStorageSpace = this.myLocalStorageService.getRemainingSpace()\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/home.component.ts\n **/","import { Injectable } from '@angular/core';\nimport { LocalStorage } from './localstoragemodule';\n\n@Injectable()\nexport class LocalStorageService {\n  isSupported = LocalStorage.isSupported;\n  hasItem = LocalStorage.hasItem;\n  getRemainingSpace = LocalStorage.getRemainingSpace;\n  getMaximumSpace = LocalStorage.getMaximumSpace;\n  getUsedSpace = LocalStorage.getUsedSpace;\n  getItemUsedSpace = LocalStorage.getItemUsedSpace;\n  getBackup = LocalStorage.getBackup;\n  applyBackup = LocalStorage.applyBackup;\n  consoleInfo = LocalStorage.consoleInfo;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/local-storage.service.ts\n **/","/**\n * Check if localStorage is supported                       const isSupported: boolean\n * Check if localStorage has an Item                        function hasItem(key: string): boolean\n * Get the amount of space left in localStorage             function getRemainingSpace(): number\n * Get the maximum amount of space in localStorage          function getMaximumSpace(): number\n * Get the used space in localStorage                       function getUsedSpace(): number\n * Get the used space of an item in localStorage            function getItemUsedSpace(): number\n * Backup Assosiative Array                                 interface Backup\n * Get a Backup of localStorage                             function getBackup(): Backup\n * Apply a Backup to localStorage                           function applyBackup(backup: Backup, fClear: boolean = true, fOverwriteExisting: boolean = true)\n * Dump all information of localStorage in the console      function consoleInfo(fShowMaximumSize: boolean = false)\n */\nexport module LocalStorage {\n    // Copied from https://gist.github.com/CodeiSir/1fb8bd9154dfde7eb0c7\n    // found from http://stackoverflow.com/a/34245594\n    \n    /**\n     * Flag set true if the Browser supports localStorage, widthout affecting it\n     */\n    export const isSupported: boolean = (() => {\n        try {\n            let itemBackup = localStorage.getItem(\"\")\n            localStorage.removeItem(\"\");\n            localStorage.setItem(\"\", itemBackup);\n            if (itemBackup === null) localStorage.removeItem(\"\")\n            else localStorage.setItem(\"\", itemBackup)\n            return true;\n        } catch (e) {\n            return false;\n        }\n    })()\n\n    /**\n     * Check if localStorage has an Item / exists with the give key\n     * @param key the key of the Item\n     */\n    export function hasItem(key: string): boolean {\n        return localStorage.getItem(key) !== null\n    }\n\n    /**\n     * This will return the left space in localStorage without affecting it's content\n     * Might be slow !!!\n     */\n    export function getRemainingSpace(): number {\n        let itemBackup = localStorage.getItem(\"\")\n        let increase = true\n        let data = \"1\"\n        let totalData = \"\"\n        let trytotalData = \"\"\n        while (true) {\n            try {\n                trytotalData = totalData + data\n                localStorage.setItem(\"\", trytotalData);\n                totalData = trytotalData;\n                if (increase) data += data\n            } catch (e) {\n                if (data.length < 2) {\n                    break;\n                }\n                increase = false\n                data = data.substr(data.length / 2)\n            }\n        }\n        if (itemBackup === null) localStorage.removeItem(\"\")\n        else localStorage.setItem(\"\", itemBackup)\n\n        return totalData.length\n    }\n\n    /**\n     * This function returns the maximum size of localStorage without affecting it's content\n     * Might be slow !!!\n     */\n    export function getMaximumSpace(): number {\n        let backup = getBackup()\n        localStorage.clear()\n        let max = getRemainingSpace()\n        applyBackup(backup)\n        return max\n    }\n\n    /**\n     * This will return the currently used size of localStorage\n     */\n    export function getUsedSpace(): number {\n        let sum = 0\n\n        for (let i = 0; i < localStorage.length; ++i) {\n            let key = localStorage.key(i)\n            let value = localStorage.getItem(key)\n            sum += key.length + value.length\n        }\n\n        return sum\n    }\n\n    /**\n     * This will return the currently used size of a given Item, returns NaN if key is not found\n     * @param key\n     */\n    export function getItemUsedSpace(key: string): number {\n        let value = localStorage.getItem(key)\n        if (value === null) {\n            return NaN\n        } else {\n            return key.length + value.length\n        }\n    }\n\n    /** \n     * Associative-array for localStorage holding key->value \n     */\n    export interface Backup {\n        [index: string]: string\n    }\n\n    /**\n     * This will return a localStorage-backup (Associative-Array key->value)\n     */\n    export function getBackup(): Backup {\n        let backup: Backup = {}\n\n        for (let i = 0; i < localStorage.length; ++i) {\n            let key = localStorage.key(i)\n            let value = localStorage.getItem(key)\n            backup[key] = value\n        }\n\n        return backup\n    }\n\n    /**\n     * This will apply a localStorage-Backup (Associative-Array key->value)\n     * @param backup            associative-array \n     * @param fClear             optional flag to clear all existing storage first. Default: true\n     * @param fOverwriteExisting optional flag to replace existing keys. Default: true\n     */\n    export function applyBackup(backup: Backup, fClear: boolean = true, fOverwriteExisting: boolean = true) {\n        if (fClear == true) {\n            localStorage.clear()\n        }\n\n        for (let key in backup) {\n            if (fOverwriteExisting === false && backup[key] !== undefined) {\n                continue\n            }\n            let value = backup[key]\n            localStorage.setItem(key, value)\n        }\n    }\n\n    /**\n     * This functions dumps all keys and values of the local Storage to the console,\n     * as well as the current size and number of items\n     * @param fShowMaximumSize optional, flag show maximum size of localStorage. Default: false\n     */\n    export function consoleInfo(fShowMaximumSize: boolean = false) {\n        let amount = 0\n        let size = 0\n\n        for (let i = 0; i < localStorage.length; ++i) {\n            let key = localStorage.key(i)\n            let value = localStorage.getItem(key);\n            console.log(amount, key, value)\n            size += key.length + value.length\n            amount++\n        }\n        console.log(\"Total entries:\", amount)\n        console.log(\"Total size:\", size)\n        if (fShowMaximumSize === true) {\n            let maxSize = getMaximumSpace()\n            console.log(\"Total size:\", maxSize)\n        }\n    }\n}\n/*\n    // Example\n    console.log(\"LocalStorage supported:\", LocalStorage.isSupported)// true - I hope so anyways 😉\n    localStorage.setItem(\"asd\", \"ASDASD\")                           // sets / overwrites the item \"asd\"\n    localStorage.setItem(\"asd\" + Math.random(), \"ASDASD\")           // set another item each time you refresh the page\n    var backup = LocalStorage.getBackup()                           // creates a backup, we will need it later!\n    console.log(JSON.stringify(backup))                             // this is how the backup looks like\n    var usedSpace = LocalStorage.getUsedSpace()                     // amount of space used right now\n    console.log(\"Used Space:\", usedSpace)                \n    var maxSpace = LocalStorage.getMaximumSpace()                   // amount of maximum space aviable\n    console.log(\"Maximum Space:\", maxSpace)             \n    var remSpace = LocalStorage.getRemainingSpace()                 // amount of remaining space\n    console.log(\"Remaining Space:\", remSpace)\n    console.log(\"SpaceCheck\", maxSpace === usedSpace + remSpace)    // true\n    console.log(\"hasItem\", LocalStorage.hasItem(\"nothis0ne\"))       // we don't have this one in our localStorage\n    localStorage.clear()                                            // oops, we deleted the localStorage!\n    console.log(\"has asd\",LocalStorage.hasItem(\"asd\"))              // item asd is lost 😒\n    LocalStorage.applyBackup(backup)                                // but we have a backup, restore it!\n    LocalStorage.consoleInfo()                                      // show all the info we have, see the backup worked 😊\n*/\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/localstoragemodule.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <h4>Currently implemented</h4>\\n    Currently the loading of shapes from Dicom and parameterising them have been implemented. They are still a work in progress\\n    however they do have basic functionality. Please navigate to these sections using the navigation menu.\\n\\n    <h4>Local storage tests</h4>\\n    <p></p>\\n\\n    <div *ngIf=\\\"testLocalStorage\\\">\\n      <p>Your browser supports local storage. You currently have {{usedLocalStorageSpace}} B of used space. Most browsers support\\n        5 MB.\\n      </p>\\n\\n      <p>To check your remaining storage press the button below. Warning, this might be slow.</p>\\n      <button mdl-button mdl-button-type=\\\"raised\\\" mdl-colored=\\\"primary\\\" mdl-ripple (click)=\\\"testRemainingStorage()\\\">Test remaining local storage           \\n      </button>\\n      <div *ngIf=\\\"remainingLocalStorageSpace\\\">\\n        <p>You have {{remainingLocalStorageSpace}} B of local storage remaining which is available for use by this webapp.</p>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"!testLocalStorage\\\">\\n      <p>\\n        This webapp relies upon local storage working within your browser. Your browser does not support local storage. Please download\\n        and use a modern standards compliant browser such as\\n        <a href=\\\"https://www.google.com.au/chrome/browser/desktop/\\\">Chrome</a> or\\n        <a href=\\\"https://www.mozilla.org/en-GB/firefox/new/\\\">Firefox</a> to use this webapp.\\n      </p>\\n    </div>\\n\\n\\n    <h4>Brief overview</h4>\\n\\n    <h4>Paper(s?)</h4>\\n\\n\\n    <h4>Detailed instructions</h4>\\n\\n    <h4>Steps required to freeze your own version of this web app</h4>\\n      As I make improvements to this web app I will be updating this online version. \\n      However, understandably, you may desire to not have the web app you are using day to day change on you.\\n      To achieve this you can create your own version of the server and your own version of the web app.\\n      \\n      For now this will require a bit of your own working out until I provide further instructions.\\n\\n  </div>\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n\\n    <h4>Source code</h4>\\n    <p>\\n      For the purpose of coding transparency and to enable the user to take responsibility for the code themselves any redistribution\\n      or derivative works of this web app need to include the source code of any additions made and need to include a way\\n      for users to easily access the source code of each of the components used or linked to.\\n    </p>\\n\\n    <h5>Server Code</h5>\\n\\n    <h6>Base Electron Insert Factor Source Code</h6>\\n    <p>\\n      The python file which does the shape parameterisation and insert factor modelling which is used by the server is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/electroninserts.py</a>\\n    </p>\\n\\n    <h6>Tornado REST API</h6>\\n    <p>\\n      The Tornado REST API is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py\\\">\\n              https://github.com/SimonBiggs/electronfactor-server/blob/master/main.py</a>\\n    </p>\\n\\n    <h6>Heroku App code</h6>\\n    <p>\\n      The code to make the heroku app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electronfactor-server\\\">\\n              https://github.com/SimonBiggs/electronfactor-server</a>\\n    </p>\\n\\n    <h5>Web App Code</h5>\\n    <p>\\n      The source code for this web app is found here:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp\\\">\\n            https://github.com/SimonBiggs/electroninserts-webapp</a>\\n    </p>\\n\\n    <h5>Libraries used</h5>\\n    <h6>Bokehjs</h6>\\n    <p>.\\n      The bokehjs library is used for plots. Documentation can be found here:\\n      <a href=\\\"http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs\\\">\\n              http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/bokeh/bokeh/tree/master/bokehjs\\\">\\n              https://github.com/bokeh/bokeh/tree/master/bokehjs</a>\\n    </p>\\n\\n    <h6>dcmjs</h6>\\n    <p>\\n      The dcmjs library is used for reading dicom files within javascript. Website can be found here:\\n      <a href=\\\"http://dcmjs.org/\\\">\\n              http://dcmjs.org/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/commontk/dcmjs\\\">\\n              https://github.com/commontk/dcmjs</a>\\n    </p>\\n\\n    <h6>Angular2</h6>\\n    <p>\\n      This interface was built using Angular2. Documentation can be found here:\\n      <a href=\\\"https://angular.io/docs/ts/latest/\\\">\\n              https://angular.io/docs/ts/latest/</a>\\n    </p>\\n    <p>\\n      Source code can be found here:\\n      <a href=\\\"https://github.com/angular/angular\\\">\\n              https://github.com/angular/angular</a>\\n    </p>\\n    <h6>Remaining libraries</h6>\\n    <p>\\n      For all remaining libraries used please see the npm package.json file:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/package.json</a>\\n    </p>\\n    <p>\\n      And the index file for various imports:\\n      <a href=\\\"https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html\\\">\\n              https://github.com/SimonBiggs/electroninserts-webapp/blob/master/src/public/index.html</a>\\n    </p>\\n  </div>\\n\\n\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/home.component.html\n ** module id = 70\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\n\n@Component({\n  selector: 'my-model',\n  template: require('./model.component.html')\n})\nexport class ModelComponent implements OnInit {\n\n  constructor(\n    private myTitleService: TitleService\n  ) {}\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Model');\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/model.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>Model component.</p>\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/model.component.html\n ** module id = 72\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\n\n@Component({\n  selector: 'my-export-import',\n  template: require('./export-import.component.html')\n})\nexport class ExportImportComponent implements OnInit {\n\n  constructor(\n    private myTitleService: TitleService\n  ) {}\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Export / Import');\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/export-import.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>Export / Import component.</p>\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/export-import.component.html\n ** module id = 74\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { TitleService } from './title.service'\n\n@Component({\n  selector: 'my-specifications',\n  template: require('./specifications.component.html')\n})\nexport class SpecificationsComponent implements OnInit {\n\n  constructor(\n    private myTitleService: TitleService\n  ) {}\n  \n  ngOnInit() {\n    this.myTitleService.setTitle('Specifications');\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/specifications.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>Specifications component.</p>\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/specifications.component.html\n ** module id = 76\n ** module chunks = 0\n **/","import { Component, OnInit, ApplicationRef, ViewChild } from '@angular/core';\n\nimport { Router } from '@angular/router';\n\nimport { Coordinates } from './coordinates'\nimport { Parameterisation } from './parameterisation';\n\nimport { TitleService } from './title.service';\n\nimport { safeLoad } from 'js-yaml';\n\ndeclare var Module: any;\ndeclare var FS: any;\n// declare var yaml: any;\n// declare var pypyjs: any;\n\n@Component({\n  selector: 'my-dicom',\n  template: require('./dicom.component.html'),\n  styles: ['./dicom.component.css']\n})\nexport class DicomComponent implements OnInit {\n  parameterisation: Parameterisation = {\n    insert: {\n      x: [0],\n      y: [0]\n    },\n    width: null,\n    length: null,\n    circle: null,\n    ellipse: null\n  };\n\n  rawBlockData: string = '';\n  vectorData: string = '';\n  parseDataString: string = '';\n\n  dicomWarning: string;\n  dicomExitCode = 1;\n\n  dicomX: number[];\n  dicomY: number[];\n  dicomInsert: Coordinates;\n\n  insertList: any[];\n\n  header: string = '';\n\n  reader = new FileReader();\n  firstLoad = true;\n\n  constructor(\n    private myTitleService: TitleService,\n    private router: Router\n  ) { }\n\n  @ViewChild('dicomOutput') dicomOutputDir: any;\n  @ViewChild('getBlockDataButton') getBlockDataButton: any;\n\n\n  ngOnInit() {\n    this.reader.onload = () => this.onceFileIsLoaded();\n\n    localStorage.removeItem('dicomPrint');\n    Module.print = this.sendDicomDumpToLocalStorage;\n    // Module.printErr = this.sendDicomDumpToLocalStorage;\n    this.myTitleService.setTitle('Dicom');\n\n    // pypyjs.exec(\"import json; print json.dumps({'hello': 'world'})\")\n    // pypyjs.exec(\"import dicom; print json.dumps({'hello': 'world'})\")\n  }\n\n  sendDicomDumpToLocalStorage(print: any) {\n    let priorDicomPrint = localStorage.getItem('dicomPrint');\n    localStorage.setItem('dicomPrint', priorDicomPrint + '\\n' + print);\n  }\n\n  updateDicomWarning() {\n    let status = Number(localStorage.getItem('dicomLoadStatus'));\n    if (status == 0) {\n      this.getBlockDataButton.disabled = false;\n      this.dicomWarning = null;\n    }\n    else {\n      this.getBlockDataButton.disabled = true;\n      this.dicomWarning = 'An error occured while trying to find the block data within the provided Dicom file.';\n    }\n  }\n\n  onceFileIsLoaded() {\n    let content = new Int8Array(this.reader.result);\n    console.log(content.length);\n    // let fileName = Math.random().toString(36).substr(2, 5);\n    // console.log(fileName);\n    let fileName = 'dicomfile';\n\n    if (FS.isFile(fileName)) {\n      FS.unlink(fileName);\n    }\n    FS.writeFile(fileName, content, {encoding: \"binary\"});\n\n    let exit_orig = Module.exit;    \n    Module.exit = (status: any) => {\n      localStorage.setItem('dicomLoadStatus', status);\n      exit_orig(status);\n    }\n    Module.callMain(['dcmdump', fileName, '--print-all']);\n    // if (Module.calledRun) {\n    //   Module.callMain(['dcmdump', fileName, '--print-all']);\n    // }\n    // else {\n      // Module.callMain(\n      //   ['dcmdump', fileName, '--print-all', '--search', '300a,0106'] // http://support.dcmtk.org/docs/dcmdump.html\n      // );\n    // }\n\n    Module.exit = exit_orig;\n\n    console.log(Module)\n\n    this.updateDicomWarning()\n    FS.unlink(fileName);\n  }\n\n  openFile(event: any) {\n    console.log(event.srcElement.files);\n    let file = event.srcElement.files[0];\n\n    localStorage.removeItem('dicomPrint');\n    localStorage.setItem('dicomPrint', ' ');\n\n    this.reader.readAsArrayBuffer(file);\n  }\n\n  convertDicomDumpToDict(dump: string) {\n    let yamlConvert = dump.replace(/\\s*#[^#\\n]*\\n/g,'\\n');\n    yamlConvert = yamlConvert.replace(/\\s*#[^#\\n]*$/g,'');\n    yamlConvert = yamlConvert.replace(/^\\n*/,'');\n    yamlConvert = yamlConvert.replace(/(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\))/g,'$1:')\n    yamlConvert = yamlConvert.replace(\n      /(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) SQ \\(Sequence with undefined length #=\\d+\\)/g,\n      '$1')\n    yamlConvert = yamlConvert.replace(\n      /(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) na \\(Item with undefined length #=\\d+\\)/g,\n      '$1')\n    yamlConvert = yamlConvert.replace(\n      / *\\(fffe,e00d\\): na \\(ItemDelimitationItem\\) *\\n/g,\n      '')\n    yamlConvert = yamlConvert.replace(\n      / *\\(fffe,e0dd\\): na \\(SequenceDelimitationItem\\)\\n/g,\n      '')\n    yamlConvert = yamlConvert.replace(\n      /(\\([0-9a-f][0-9a-f][0-9a-f][0-9a-f],[0-9a-f][0-9a-f][0-9a-f][0-9a-f]\\):) (.*)/g,\n      '$1 \"$2\"')\n    yamlConvert = yamlConvert.replace(/\\\\/g, ', ')\n    yamlConvert = yamlConvert.replace(/\\(fffe,e000\\):/g, ' - ')\n\n    yamlConvert = safeLoad(yamlConvert);\n\n    return yamlConvert;\n  }\n\n  convertBlockDataToCoords(blockData: string): Coordinates {\n    let listString = /\\[[, \\d\\.-]*\\]/.exec(blockData).toString();\n    // console.log(listString);\n    let parsedData = JSON.parse('{ \"data\": ' + listString + '}');\n\n    let x: number[] = [];\n    let y: number[] = [];\n    let i = 0;\n    for (let num of parsedData['data']) {\n      if (i % 2 == 0) {\n        x.push(parseFloat((num / 10).toFixed(2)));\n      }\n      else {\n        y.push(parseFloat((num / 10).toFixed(2)));\n      }\n      i++;\n    }\n    let insert = {\n      \"x\": x,\n      \"y\": y\n    };\n\n    return insert;\n  }\n\n  dicomPullFloat(input: string): number {\n    return Number(input.replace(/.*\\[([\\d\\.-]*)\\].*/, \"$1\"));\n  }\n\n  dicomPullString(input: string): string {\n    return input.replace(/.*\\[(\\w*)\\].*/, \"$1\");\n  }\n\n  getBlockData() {\n    let dicomPrint = localStorage.getItem('dicomPrint');\n    let dicomDict = this.convertDicomDumpToDict(dicomPrint);\n\n    this.insertList = [];  // Later on update this to be an object that includes all insert details\n\n    let beamSequence = dicomDict[\"(300a,00b0)\"];\n    for (let beam of beamSequence) {\n      let blockData = beam[\"(300a,00f4)\"][0][\"(300a,0106)\"];\n      let coordinates = this.convertBlockDataToCoords(blockData);\n\n      let applicator = this.dicomPullString(\n        beam[\"(300a,0107)\"][0][\"(300a,0108)\"]);\n      let energy = this.dicomPullFloat(\n        beam[\"(300a,0111)\"][0][\"(300a,0114)\"]);\n      let ssd = this.dicomPullFloat(\n        beam[\"(300a,0111)\"][0][\"(300a,0130)\"]) / 10;\n\n      let insert = {\n        \"coordinates\": coordinates,\n        \"applicator\": applicator,\n        \"energy\": energy,\n        \"ssd\": ssd\n      }\n      this.insertList.push(insert)\n    }\n\n    console.log(this.insertList);\n\n    this.dicomInsert = this.insertList[0][\"coordinates\"];\n  }\n\n  sendToParameterisation(insert: any) {\n    this.insertUpdated(insert);\n    localStorage.setItem(\n      \"last_parameterisation\", JSON.stringify(this.parameterisation)\n    );\n    this.router.navigate([\"/parameterise\"])\n  }\n\n  parameterisationFromLocalStorage(localStorageParameterisationString: string) {\n    let localStorageParameterisation = JSON.parse(localStorageParameterisationString); \n    this.parameterisation.insert = localStorageParameterisation['insert'];\n    this.parameterisation.width = localStorageParameterisation['width'];\n    this.parameterisation.length = localStorageParameterisation['length'];\n    this.parameterisation.circle = localStorageParameterisation['circle'];\n    this.parameterisation.ellipse = localStorageParameterisation['ellipse'];\n  }\n\n  insertUpdated(insert: any) {\n    let localStorageParameterisation = localStorage.getItem(JSON.stringify(insert))\n    if (localStorageParameterisation) {\n      this.parameterisationFromLocalStorage(localStorageParameterisation);\n    }\n    else {\n      this.parameterisation.insert = insert;\n      this.parameterisation.width = null;\n      this.parameterisation.length = null;\n      this.parameterisation.circle = null;\n      this.parameterisation.ellipse = null;\n    }\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/dicom.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    <p>This Dicom loader does not send the Dicom file off to a server. The entire reading of the dicom file is done within javascript.\\n    You can confirm this yourself by using the chrome web browser, pressing 'Ctrl + Shift + I'\\n    and then clicking on the network tab. When the file is chosen, then the block data is pulled and sent to parameterisation,\\n    at no point in this interaction is there network traffic.</p>\\n\\n    <p>The only data that will be sent to the server will be on either the paremeterisation tab or the model tab, and this data will\\n      just consist of x and y coordinates or widths, lengths, and factors.\\n    </p>\\n  <div>\\n</div>\\n<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <input type='file' (change)='openFile($event)'>\\n    <div *ngIf=\\\"dicomWarning\\\">{{dicomWarning}}</div>\\n  </div>\\n\\n  <div class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    <button #getBlockDataButton\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      [disabled]=\\\"true\\\"\\n      (click)=\\\"getBlockData()\\\">Get Dicom Block Data\\n    </button>\\n\\n    \\n  </div>\\n\\n  <div *ngFor=\\\"let insert of insertList\\\" class=\\\"mdl-cell mdl-cell--6-col\\\">\\n    \\n    <button\\n      mdl-button mdl-button-type=\\\"raised\\\" \\n      mdl-colored=\\\"primary\\\" \\n      mdl-ripple\\n      (click)=\\\"sendToParameterisation(insert.coordinates)\\\">Send to parameterisation           \\n    </button>\\n\\n    <p>{{insert | json}}</p>\\n  </div>\\n\\n\\n\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/dicom.component.html\n ** module id = 113\n ** module chunks = 0\n **/","import { Component, OnInit } from '@angular/core';\n\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\n\nimport { ElectronApiService } from './electron-api.service';\nimport { TitleService } from './title.service';\n\n@Component({\n  selector: 'my-app',\n  template: require('./app.component.html'),\n})\nexport class AppComponent implements OnInit {\n  pageTitle: string;\n\n  constructor(\n    private electronApiService: ElectronApiService,\n    private myTitleService: TitleService,\n    private router: Router,\n    private title:Title\n  ) { \n    router.events\n      .filter(event => event instanceof NavigationEnd)\n      .subscribe(() => {\n        this.pageTitle = this.myTitleService.getTitle();\n        this.title.setTitle(\n          this.myTitleService.getTitle() + \n          ' | Electron Insert Factor Modelling');\n      })\n  }\n\n  ngOnInit() {\n    let redirect = sessionStorage['redirect'];\n    delete sessionStorage['redirect'];\n    if (redirect && redirect != location.href) {\n      history.replaceState(null, null, redirect);\n      this.router.navigate([redirect])\n    }\n    \n    this.electronApiService.wakeUpServer();\n\n    this.pageTitle = this.myTitleService.getTitle();\n    this.title.setTitle(\n      this.myTitleService.getTitle() + \n      ' | Electron Insert Factor Modelling');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/app.component.ts\n **/","module.exports = \"\\n<!--<md-sidenav-layout>\\n\\n  <md-sidenav #sidenav mode=\\\"side\\\" class=\\\"app-sidenav\\\">\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </md-sidenav>\\n\\n  <md-toolbar color=\\\"primary\\\">\\n    <button class=\\\"app-icon-button\\\" (click)=\\\"sidenav.toggle()\\\">\\n      <i class=\\\"material-icons app-toolbar-menu\\\">menu</i>\\n    </button>\\n\\n    {{pageTitle}}\\n\\n    <span class=\\\"app-toolbar-filler\\\"></span>\\n    <button md-button (click)=\\\"isDarkTheme = !isDarkTheme\\\">TOGGLE DARK THEME</button>\\n  </md-toolbar>\\n\\n  <div class=\\\"app-content\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n\\n\\n</md-sidenav-layout>-->\\n\\n\\n<mdl-layout mdl-layout-fixed-drawer mdl-layout-fixed-header>\\n  <mdl-layout-header>\\n    <mdl-layout-header-row>\\n      <mdl-layout-title>{{pageTitle}}</mdl-layout-title>\\n    </mdl-layout-header-row>\\n  </mdl-layout-header>\\n  <mdl-layout-drawer>\\n    <mdl-layout-title>Electron Factors</mdl-layout-title>\\n    <nav class=\\\"mdl-navigation\\\">\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active\\\" href>Home</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/export-import\\\" routerLinkActive=\\\"active\\\" href>Export / Import</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/specifications\\\" routerLinkActive=\\\"active\\\" href>Machine specifications</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/dicom\\\" routerLinkActive=\\\"active\\\" href>Dicom shape extraction</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/parameterise\\\" routerLinkActive=\\\"active\\\" href>Parameterise inserts</a>\\n      <a class=\\\"mdl-navigation__link\\\" routerLink=\\\"/model\\\" routerLinkActive=\\\"active\\\" href>Model insert factors</a>\\n    </nav>\\n  </mdl-layout-drawer>\\n  <mdl-layout-content>\\n\\n    <router-outlet></router-outlet>\\n\\n  </mdl-layout-content>\\n</mdl-layout>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/app.component.html\n ** module id = 170\n ** module chunks = 0\n **/","import { Component, Input, OnChanges, ViewChild, AfterViewInit } from '@angular/core';\n\nimport { Coordinates } from './coordinates';\n\ndeclare var Bokeh: any;\n\n@Component({\n  selector: 'my-plot',\n  template: require('./plot.component.html'),\n  styles: [require('./plot.component.css')]\n})\nexport class PlotComponent implements OnChanges, AfterViewInit {\n  @Input()\n  insert: Coordinates;\n  @Input()\n  circle: Coordinates;\n  @Input()\n  ellipse: Coordinates;\n  @Input()\n  enabled: boolean;\n\n  parsedJSON: any;\n  tempSource: any;\n  jsonValid: boolean = true;\n  jsonErrorMessage: string;\n\n  @ViewChild('bokehplot') bokehplot: any;\n\n  plt = Bokeh.Plotting;\n  tools = 'pan,crosshair,wheel_zoom,box_zoom,reset,save';\n\n  xrange = Bokeh.Range1d(-6, 6);\n  yrange = Bokeh.Range1d(-6, 6);\n  \n  fig = this.plt.figure({\n    title: 'Electron Insert Plot', tools: this.tools,\n    x_range: this.xrange, y_range: this.yrange,\n    plot_width: 300, plot_height: 300\n  });\n\n  source = new Bokeh.ColumnDataSource();\n  doc = new Bokeh.Document();\n\n\n  ngOnChanges() {\n    this.jsonValid = false;\n    this.tempSource = {\n      \"xs\": [[0], [0], [0]],\n      \"ys\": [[0], [0], [0]],\n      \"colour\": [\"navy\", \"firebrick\", \"green\"]\n    }\n    let xAll: number[] = [];\n    let yAll: number[] = [];\n    if (this.enabled) {\n      if (this.insert) {\n        if ('x' in this.insert && 'y' in this.insert) {\n          this.tempSource.xs[0] = this.insert.x.concat(this.insert.x[0]);\n          this.tempSource.ys[0] = this.insert.y.concat(this.insert.y[0]);\n          xAll = xAll.concat(this.tempSource.xs[0]);\n          yAll = yAll.concat(this.tempSource.ys[0]);\n        }\n      }\n\n      if (this.circle) {\n        if ('x' in this.circle && 'y' in this.circle) {\n          this.tempSource.xs[1] = this.circle.x\n          this.tempSource.ys[1] = this.circle.y\n          xAll = xAll.concat(this.tempSource.xs[1]);\n          yAll = yAll.concat(this.tempSource.ys[1]);\n        }\n      }\n      if (this.ellipse) {\n        if ('x' in this.ellipse && 'y' in this.ellipse) {\n          this.tempSource.xs[2] = this.ellipse.x\n          this.tempSource.ys[2] = this.ellipse.y\n          xAll = xAll.concat(this.tempSource.xs[2]);\n          yAll = yAll.concat(this.tempSource.ys[2]);\n        }\n      }\n    }\n\n    let xMax = Math.max(...xAll);\n    let xMin = Math.min(...xAll);\n    let yMax = Math.max(...yAll);\n    let yMin = Math.min(...yAll);\n\n    let range = Math.max(xMax - xMin, yMax - yMin) * 1.1;\n    let sqXMax = (xMax + xMin) / 2 + range / 2\n    let sqXMin = (xMax + xMin) / 2 - range / 2\n    let sqYMax = (yMax + yMin) / 2 + range / 2\n    let sqYMin = (yMax + yMin) / 2 - range / 2\n\n\n\n    this.fig.attributes.x_range.start = sqXMin;\n    this.fig.attributes.x_range.end = sqXMax;\n    this.fig.attributes.y_range.start = sqYMin;\n    this.fig.attributes.y_range.end = sqYMax;\n    // this.fig.update_range();\n    // console.log(this.fig);\n\n    this.source.data = this.tempSource;\n\n    \n    \n  }\n\n  ngAfterViewInit() {\n    // this.ngOnChanges();\n    this.fig.multi_line({ field: 'xs' }, { field: 'ys' }, {\n      source: this.source,\n      line_width: 2,\n      color: { field: 'colour' }\n    });\n\n    this.doc.add_root(this.fig);\n    Bokeh.embed.add_document_standalone(\n      this.doc, this.bokehplot.nativeElement);\n    \n\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/plot.component.ts\n **/","export class Coordinates {\n\n  constructor(\n    public x: number[],\n    public y: number[]\n  ) { }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/coordinates.ts\n **/","module.exports = \"\\n  <div class=\\\"bk-root\\\" style=\\\"height:300px\\\">\\n    <div #bokehplot></div>\\n  </div>\\n\\n\\n  <div [hidden]=\\\"jsonValid\\\" class=\\\"alert alert-danger\\\">\\n      {{jsonErrorMessage}}\\n  </div>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/plot.component.html\n ** module id = 173\n ** module chunks = 0\n **/","module.exports = \"\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/plot.component.css\n ** module id = 174\n ** module chunks = 0\n **/","import { Component, OnInit, Input, OnChanges } from '@angular/core';\n\nimport { MdlDefaultTableModel } from 'angular2-mdl';\n\n@Component({\n  selector: 'my-width-length-table',\n  template: require('./width-length-table.component.html'),\n})\nexport class WidthLengthTableComponent implements OnInit {\n  @Input()\n  width: number;\n  @Input()\n  length: number;\n  @Input()\n  enabled: boolean;\n\n  tableData:[any] = [\n      {width:null, length:null}\n  ];\n\n  public tableModel = new MdlDefaultTableModel([\n        {key:'width', name:'Width', sortable:true, numeric:true},\n        {key:'length', name:'Length', sortable:true, numeric:true}\n      ]);\n\n  ngOnChanges() {\n    if (this.enabled) {\n      this.tableData[0].width = this.width;\n      this.tableData[0].length = this.length;\n    }\n    else {\n      this.tableData[0].width = null;\n      this.tableData[0].length = null;\n    }\n\n  }\n\n  ngOnInit() {\n    this.tableModel.addAll(this.tableData);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/width-length-table.component.ts\n **/","module.exports = \"<mdl-table mdl-shadow=\\\"2\\\"\\n  [table-model]=\\\"tableModel\\\">\\n</mdl-table>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/width-length-table.component.html\n ** module id = 176\n ** module chunks = 0\n **/","import { Component, Input, Output, OnChanges, EventEmitter, ViewChild } from '@angular/core';\n\nimport { MyJsonPipe } from './my-json.pipe'\n\nimport { Coordinates } from './coordinates';\n\n\n@Component({\n  selector: 'my-json-input',\n  template: require('./json-input.component.html'),\n})\nexport class JsonInputComponent implements OnChanges {\n  @Input()\n  insert: Coordinates;\n  @Input()\n  jsonDisabled: boolean;\n  @Input()\n  refresh: boolean;\n  @Output()\n  insertUpdated = new EventEmitter();\n  @Output()\n  jsonStatus = new EventEmitter();\n\n  jsonValid: boolean = true;\n  jsonErrorMessage: string;\n\n  @ViewChild('jsonInput') jsonInputDir: any;\n\n  onInput(jsonInput: string) {\n    this.parseAndCheckJSON(jsonInput) \n    this.insertUpdated.emit(this.insert);\n  }\n\n  ngOnChanges() {\n    if (this.refresh) {\n      this.jsonInputDir.value = new MyJsonPipe().transform(this.insert);      \n      this.parseAndCheckJSON(this.jsonInputDir.value);\n      this.refresh = false;\n    }\n  }\n\n  parseAndCheckJSON(jsonInput:string) {\n    let oldJsonValid = this.jsonValid;\n    this.jsonValid = false;\n    try {\n      let parsedJSON = JSON.parse(jsonInput);\n      if ('x' in parsedJSON && 'y' in parsedJSON) {\n        if (parsedJSON.x.length === parsedJSON.y.length) {\n          let x: [number] = parsedJSON.x\n          let y: [number] = parsedJSON.y\n          let insert = {\n            x: x,\n            y: y\n          }\n          this.insert = insert\n          this.jsonValid = true;\n        }\n        else {\n          this.jsonErrorMessage = 'The length of x doesn\\'t match the length of y.';\n        }\n      }\n      else {\n        this.jsonErrorMessage = 'Either x or y is missing.';\n      }\n    }\n    catch(err) {\n      this.jsonErrorMessage = 'Error in JSON input. ' + err ;\n    }\n    finally {\n      if (this.jsonValid != oldJsonValid) {\n        this.jsonStatus.emit(this.jsonValid)\n      }\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/json-input.component.ts\n **/","import { Pipe, PipeTransform } from '@angular/core';\n\nimport { Coordinates } from './coordinates';\n\n@Pipe({name: 'myJson', pure: false})\nexport class MyJsonPipe implements PipeTransform {\n  transform(insert: Coordinates): string {\n    let jsonText = JSON.stringify(insert)\n    jsonText = jsonText.replace(/,/g, \", \");\n    return jsonText\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/my-json.pipe.ts\n **/","module.exports = \"<mdl-textfield #jsonInput\\n  [value]=\\\"insert | myJson\\\"\\n  (input)=\\\"onInput($event.target.value)\\\"\\n  rows=\\\"8\\\" \\n  style=\\\"width:100%\\\"\\n  [disabled]=jsonDisabled>\\n</mdl-textfield>\\n<div *ngIf=\\\"!jsonValid\\\">\\n  {{jsonErrorMessage}}\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/json-input.component.html\n ** module id = 179\n ** module chunks = 0\n **/","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-not-yet-implimented',\n  template: require('./not-yet-implimented.component.html')\n})\nexport class NotYetImplimentedComponent {\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/not-yet-implimented.component.ts\n **/","module.exports = \"<div class=\\\"mdl-grid\\\">\\n  <div class=\\\"mdl-cell mdl-cell--12-col\\\">\\n    Due to this web app being a work in progress this page is not yet implimented.\\n  </div>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/not-yet-implimented.component.html\n ** module id = 181\n ** module chunks = 0\n **/"],"sourceRoot":""}